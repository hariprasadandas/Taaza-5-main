(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function t(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(l){if(l.ep)return;l.ep=!0;const c=t(l);fetch(l.href,c)}})();var od=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function j_(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function aT(s){if(Object.prototype.hasOwnProperty.call(s,"__esModule"))return s;var e=s.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(s).forEach(function(i){var l=Object.getOwnPropertyDescriptor(s,i);Object.defineProperty(t,i,l.get?l:{enumerable:!0,get:function(){return s[i]}})}),t}var Om={exports:{}},Yo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rx;function lT(){if(rx)return Yo;rx=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,l,c){var h=null;if(c!==void 0&&(h=""+c),l.key!==void 0&&(h=""+l.key),"key"in l){c={};for(var m in l)m!=="key"&&(c[m]=l[m])}else c=l;return l=c.ref,{$$typeof:s,type:i,key:h,ref:l!==void 0?l:null,props:c}}return Yo.Fragment=e,Yo.jsx=t,Yo.jsxs=t,Yo}var ix;function oT(){return ix||(ix=1,Om.exports=lT()),Om.exports}var u=oT(),Dm={exports:{}},qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ax;function cT(){if(ax)return qe;ax=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),A=Symbol.iterator;function R(v){return v===null||typeof v!="object"?null:(v=A&&v[A]||v["@@iterator"],typeof v=="function"?v:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,M={};function B(v,N,Q){this.props=v,this.context=N,this.refs=M,this.updater=Q||q}B.prototype.isReactComponent={},B.prototype.setState=function(v,N){if(typeof v!="object"&&typeof v!="function"&&v!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,v,N,"setState")},B.prototype.forceUpdate=function(v){this.updater.enqueueForceUpdate(this,v,"forceUpdate")};function X(){}X.prototype=B.prototype;function Z(v,N,Q){this.props=v,this.context=N,this.refs=M,this.updater=Q||q}var J=Z.prototype=new X;J.constructor=Z,U(J,B.prototype),J.isPureReactComponent=!0;var se=Array.isArray,O={H:null,A:null,T:null,S:null,V:null},F=Object.prototype.hasOwnProperty;function j(v,N,Q,K,te,de){return Q=de.ref,{$$typeof:s,type:v,key:N,ref:Q!==void 0?Q:null,props:de}}function I(v,N){return j(v.type,N,void 0,void 0,void 0,v.props)}function T(v){return typeof v=="object"&&v!==null&&v.$$typeof===s}function b(v){var N={"=":"=0",":":"=2"};return"$"+v.replace(/[=:]/g,function(Q){return N[Q]})}var k=/\/+/g;function V(v,N){return typeof v=="object"&&v!==null&&v.key!=null?b(""+v.key):N.toString(36)}function C(){}function z(v){switch(v.status){case"fulfilled":return v.value;case"rejected":throw v.reason;default:switch(typeof v.status=="string"?v.then(C,C):(v.status="pending",v.then(function(N){v.status==="pending"&&(v.status="fulfilled",v.value=N)},function(N){v.status==="pending"&&(v.status="rejected",v.reason=N)})),v.status){case"fulfilled":return v.value;case"rejected":throw v.reason}}throw v}function ae(v,N,Q,K,te){var de=typeof v;(de==="undefined"||de==="boolean")&&(v=null);var Y=!1;if(v===null)Y=!0;else switch(de){case"bigint":case"string":case"number":Y=!0;break;case"object":switch(v.$$typeof){case s:case e:Y=!0;break;case w:return Y=v._init,ae(Y(v._payload),N,Q,K,te)}}if(Y)return te=te(v),Y=K===""?"."+V(v,0):K,se(te)?(Q="",Y!=null&&(Q=Y.replace(k,"$&/")+"/"),ae(te,N,Q,"",function(xe){return xe})):te!=null&&(T(te)&&(te=I(te,Q+(te.key==null||v&&v.key===te.key?"":(""+te.key).replace(k,"$&/")+"/")+Y)),N.push(te)),1;Y=0;var oe=K===""?".":K+":";if(se(v))for(var he=0;he<v.length;he++)K=v[he],de=oe+V(K,he),Y+=ae(K,N,Q,de,te);else if(he=R(v),typeof he=="function")for(v=he.call(v),he=0;!(K=v.next()).done;)K=K.value,de=oe+V(K,he++),Y+=ae(K,N,Q,de,te);else if(de==="object"){if(typeof v.then=="function")return ae(z(v),N,Q,K,te);throw N=String(v),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.")}return Y}function L(v,N,Q){if(v==null)return v;var K=[],te=0;return ae(v,K,"","",function(de){return N.call(Q,de,te++)}),K}function _(v){if(v._status===-1){var N=v._result;N=N(),N.then(function(Q){(v._status===0||v._status===-1)&&(v._status=1,v._result=Q)},function(Q){(v._status===0||v._status===-1)&&(v._status=2,v._result=Q)}),v._status===-1&&(v._status=0,v._result=N)}if(v._status===1)return v._result.default;throw v._result}var fe=typeof reportError=="function"?reportError:function(v){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var N=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof v=="object"&&v!==null&&typeof v.message=="string"?String(v.message):String(v),error:v});if(!window.dispatchEvent(N))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",v);return}console.error(v)};function $(){}return qe.Children={map:L,forEach:function(v,N,Q){L(v,function(){N.apply(this,arguments)},Q)},count:function(v){var N=0;return L(v,function(){N++}),N},toArray:function(v){return L(v,function(N){return N})||[]},only:function(v){if(!T(v))throw Error("React.Children.only expected to receive a single React element child.");return v}},qe.Component=B,qe.Fragment=t,qe.Profiler=l,qe.PureComponent=Z,qe.StrictMode=i,qe.Suspense=g,qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,qe.__COMPILER_RUNTIME={__proto__:null,c:function(v){return O.H.useMemoCache(v)}},qe.cache=function(v){return function(){return v.apply(null,arguments)}},qe.cloneElement=function(v,N,Q){if(v==null)throw Error("The argument must be a React element, but you passed "+v+".");var K=U({},v.props),te=v.key,de=void 0;if(N!=null)for(Y in N.ref!==void 0&&(de=void 0),N.key!==void 0&&(te=""+N.key),N)!F.call(N,Y)||Y==="key"||Y==="__self"||Y==="__source"||Y==="ref"&&N.ref===void 0||(K[Y]=N[Y]);var Y=arguments.length-2;if(Y===1)K.children=Q;else if(1<Y){for(var oe=Array(Y),he=0;he<Y;he++)oe[he]=arguments[he+2];K.children=oe}return j(v.type,te,void 0,void 0,de,K)},qe.createContext=function(v){return v={$$typeof:h,_currentValue:v,_currentValue2:v,_threadCount:0,Provider:null,Consumer:null},v.Provider=v,v.Consumer={$$typeof:c,_context:v},v},qe.createElement=function(v,N,Q){var K,te={},de=null;if(N!=null)for(K in N.key!==void 0&&(de=""+N.key),N)F.call(N,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(te[K]=N[K]);var Y=arguments.length-2;if(Y===1)te.children=Q;else if(1<Y){for(var oe=Array(Y),he=0;he<Y;he++)oe[he]=arguments[he+2];te.children=oe}if(v&&v.defaultProps)for(K in Y=v.defaultProps,Y)te[K]===void 0&&(te[K]=Y[K]);return j(v,de,void 0,void 0,null,te)},qe.createRef=function(){return{current:null}},qe.forwardRef=function(v){return{$$typeof:m,render:v}},qe.isValidElement=T,qe.lazy=function(v){return{$$typeof:w,_payload:{_status:-1,_result:v},_init:_}},qe.memo=function(v,N){return{$$typeof:y,type:v,compare:N===void 0?null:N}},qe.startTransition=function(v){var N=O.T,Q={};O.T=Q;try{var K=v(),te=O.S;te!==null&&te(Q,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then($,fe)}catch(de){fe(de)}finally{O.T=N}},qe.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},qe.use=function(v){return O.H.use(v)},qe.useActionState=function(v,N,Q){return O.H.useActionState(v,N,Q)},qe.useCallback=function(v,N){return O.H.useCallback(v,N)},qe.useContext=function(v){return O.H.useContext(v)},qe.useDebugValue=function(){},qe.useDeferredValue=function(v,N){return O.H.useDeferredValue(v,N)},qe.useEffect=function(v,N,Q){var K=O.H;if(typeof Q=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return K.useEffect(v,N)},qe.useId=function(){return O.H.useId()},qe.useImperativeHandle=function(v,N,Q){return O.H.useImperativeHandle(v,N,Q)},qe.useInsertionEffect=function(v,N){return O.H.useInsertionEffect(v,N)},qe.useLayoutEffect=function(v,N){return O.H.useLayoutEffect(v,N)},qe.useMemo=function(v,N){return O.H.useMemo(v,N)},qe.useOptimistic=function(v,N){return O.H.useOptimistic(v,N)},qe.useReducer=function(v,N,Q){return O.H.useReducer(v,N,Q)},qe.useRef=function(v){return O.H.useRef(v)},qe.useState=function(v){return O.H.useState(v)},qe.useSyncExternalStore=function(v,N,Q){return O.H.useSyncExternalStore(v,N,Q)},qe.useTransition=function(){return O.H.useTransition()},qe.version="19.1.0",qe}var lx;function Gs(){return lx||(lx=1,Dm.exports=cT()),Dm.exports}var H=Gs();const mi=j_(H);var km={exports:{}},Ko={},Mm={exports:{}},Pm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ox;function uT(){return ox||(ox=1,function(s){function e(L,_){var fe=L.length;L.push(_);e:for(;0<fe;){var $=fe-1>>>1,v=L[$];if(0<l(v,_))L[$]=_,L[fe]=v,fe=$;else break e}}function t(L){return L.length===0?null:L[0]}function i(L){if(L.length===0)return null;var _=L[0],fe=L.pop();if(fe!==_){L[0]=fe;e:for(var $=0,v=L.length,N=v>>>1;$<N;){var Q=2*($+1)-1,K=L[Q],te=Q+1,de=L[te];if(0>l(K,fe))te<v&&0>l(de,K)?(L[$]=de,L[te]=fe,$=te):(L[$]=K,L[Q]=fe,$=Q);else if(te<v&&0>l(de,fe))L[$]=de,L[te]=fe,$=te;else break e}}return _}function l(L,_){var fe=L.sortIndex-_.sortIndex;return fe!==0?fe:L.id-_.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var h=Date,m=h.now();s.unstable_now=function(){return h.now()-m}}var g=[],y=[],w=1,A=null,R=3,q=!1,U=!1,M=!1,B=!1,X=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function se(L){for(var _=t(y);_!==null;){if(_.callback===null)i(y);else if(_.startTime<=L)i(y),_.sortIndex=_.expirationTime,e(g,_);else break;_=t(y)}}function O(L){if(M=!1,se(L),!U)if(t(g)!==null)U=!0,F||(F=!0,V());else{var _=t(y);_!==null&&ae(O,_.startTime-L)}}var F=!1,j=-1,I=5,T=-1;function b(){return B?!0:!(s.unstable_now()-T<I)}function k(){if(B=!1,F){var L=s.unstable_now();T=L;var _=!0;try{e:{U=!1,M&&(M=!1,Z(j),j=-1),q=!0;var fe=R;try{t:{for(se(L),A=t(g);A!==null&&!(A.expirationTime>L&&b());){var $=A.callback;if(typeof $=="function"){A.callback=null,R=A.priorityLevel;var v=$(A.expirationTime<=L);if(L=s.unstable_now(),typeof v=="function"){A.callback=v,se(L),_=!0;break t}A===t(g)&&i(g),se(L)}else i(g);A=t(g)}if(A!==null)_=!0;else{var N=t(y);N!==null&&ae(O,N.startTime-L),_=!1}}break e}finally{A=null,R=fe,q=!1}_=void 0}}finally{_?V():F=!1}}}var V;if(typeof J=="function")V=function(){J(k)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,z=C.port2;C.port1.onmessage=k,V=function(){z.postMessage(null)}}else V=function(){X(k,0)};function ae(L,_){j=X(function(){L(s.unstable_now())},_)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(L){L.callback=null},s.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<L?Math.floor(1e3/L):5},s.unstable_getCurrentPriorityLevel=function(){return R},s.unstable_next=function(L){switch(R){case 1:case 2:case 3:var _=3;break;default:_=R}var fe=R;R=_;try{return L()}finally{R=fe}},s.unstable_requestPaint=function(){B=!0},s.unstable_runWithPriority=function(L,_){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var fe=R;R=L;try{return _()}finally{R=fe}},s.unstable_scheduleCallback=function(L,_,fe){var $=s.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?$+fe:$):fe=$,L){case 1:var v=-1;break;case 2:v=250;break;case 5:v=1073741823;break;case 4:v=1e4;break;default:v=5e3}return v=fe+v,L={id:w++,callback:_,priorityLevel:L,startTime:fe,expirationTime:v,sortIndex:-1},fe>$?(L.sortIndex=fe,e(y,L),t(g)===null&&L===t(y)&&(M?(Z(j),j=-1):M=!0,ae(O,fe-$))):(L.sortIndex=v,e(g,L),U||q||(U=!0,F||(F=!0,V()))),L},s.unstable_shouldYield=b,s.unstable_wrapCallback=function(L){var _=R;return function(){var fe=R;R=_;try{return L.apply(this,arguments)}finally{R=fe}}}}(Pm)),Pm}var cx;function dT(){return cx||(cx=1,Mm.exports=uT()),Mm.exports}var Lm={exports:{}},mn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ux;function hT(){if(ux)return mn;ux=1;var s=Gs();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)y+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(g,y,w){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:g,containerInfo:y,implementation:w}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,mn.createPortal=function(g,y){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,w)},mn.flushSync=function(g){var y=h.T,w=i.p;try{if(h.T=null,i.p=2,g)return g()}finally{h.T=y,i.p=w,i.d.f()}},mn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,i.d.C(g,y))},mn.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},mn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var w=y.as,A=m(w,y.crossOrigin),R=typeof y.integrity=="string"?y.integrity:void 0,q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;w==="style"?i.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:R,fetchPriority:q}):w==="script"&&i.d.X(g,{crossOrigin:A,integrity:R,fetchPriority:q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},mn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var w=m(y.as,y.crossOrigin);i.d.M(g,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&i.d.M(g)},mn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var w=y.as,A=m(w,y.crossOrigin);i.d.L(g,w,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},mn.preloadModule=function(g,y){if(typeof g=="string")if(y){var w=m(y.as,y.crossOrigin);i.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else i.d.m(g)},mn.requestFormReset=function(g){i.d.r(g)},mn.unstable_batchedUpdates=function(g,y){return g(y)},mn.useFormState=function(g,y,w){return h.H.useFormState(g,y,w)},mn.useFormStatus=function(){return h.H.useHostTransitionStatus()},mn.version="19.1.0",mn}var dx;function fT(){if(dx)return Lm.exports;dx=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Lm.exports=hT(),Lm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hx;function mT(){if(hx)return Ko;hx=1;var s=dT(),e=Gs(),t=fT();function i(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function c(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function h(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function m(n){if(c(n)!==n)throw Error(i(188))}function g(n){var r=n.alternate;if(!r){if(r=c(n),r===null)throw Error(i(188));return r!==n?null:n}for(var a=n,o=r;;){var f=a.return;if(f===null)break;var p=f.alternate;if(p===null){if(o=f.return,o!==null){a=o;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===a)return m(f),n;if(p===o)return m(f),r;p=p.sibling}throw Error(i(188))}if(a.return!==o.return)a=f,o=p;else{for(var S=!1,D=f.child;D;){if(D===a){S=!0,a=f,o=p;break}if(D===o){S=!0,o=f,a=p;break}D=D.sibling}if(!S){for(D=p.child;D;){if(D===a){S=!0,a=p,o=f;break}if(D===o){S=!0,o=p,a=f;break}D=D.sibling}if(!S)throw Error(i(189))}}if(a.alternate!==o)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?n:r}function y(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=y(n),r!==null)return r;n=n.sibling}return null}var w=Object.assign,A=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),Z=Symbol.for("react.consumer"),J=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),b=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function V(n){return n===null||typeof n!="object"?null:(n=k&&n[k]||n["@@iterator"],typeof n=="function"?n:null)}var C=Symbol.for("react.client.reference");function z(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===C?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case U:return"Fragment";case B:return"Profiler";case M:return"StrictMode";case O:return"Suspense";case F:return"SuspenseList";case T:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case q:return"Portal";case J:return(n.displayName||"Context")+".Provider";case Z:return(n._context.displayName||"Context")+".Consumer";case se:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case j:return r=n.displayName||null,r!==null?r:z(n.type)||"Memo";case I:r=n._payload,n=n._init;try{return z(n(r))}catch{}}return null}var ae=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},$=[],v=-1;function N(n){return{current:n}}function Q(n){0>v||(n.current=$[v],$[v]=null,v--)}function K(n,r){v++,$[v]=n.current,n.current=r}var te=N(null),de=N(null),Y=N(null),oe=N(null);function he(n,r){switch(K(Y,r),K(de,n),K(te,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?Ov(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=Ov(r),n=Dv(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}Q(te),K(te,n)}function xe(){Q(te),Q(de),Q(Y)}function _e(n){n.memoizedState!==null&&K(oe,n);var r=te.current,a=Dv(r,n.type);r!==a&&(K(de,n),K(te,a))}function Ne(n){de.current===n&&(Q(te),Q(de)),oe.current===n&&(Q(oe),Bo._currentValue=fe)}var Ce=Object.prototype.hasOwnProperty,Pe=s.unstable_scheduleCallback,Re=s.unstable_cancelCallback,Oe=s.unstable_shouldYield,Ge=s.unstable_requestPaint,je=s.unstable_now,yt=s.unstable_getCurrentPriorityLevel,vt=s.unstable_ImmediatePriority,xt=s.unstable_UserBlockingPriority,Rt=s.unstable_NormalPriority,rs=s.unstable_LowPriority,is=s.unstable_IdlePriority,Dr=s.log,xs=s.unstable_setDisableYieldValue,bt=null,$e=null;function Ft(n){if(typeof Dr=="function"&&xs(n),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(bt,n)}catch{}}var hn=Math.clz32?Math.clz32:Ai,zc=Math.log,Dh=Math.LN2;function Ai(n){return n>>>=0,n===0?32:31-(zc(n)/Dh|0)|0}var ji=256,Ri=4194304;function as(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function wa(n,r,a){var o=n.pendingLanes;if(o===0)return 0;var f=0,p=n.suspendedLanes,S=n.pingedLanes;n=n.warmLanes;var D=o&134217727;return D!==0?(o=D&~p,o!==0?f=as(o):(S&=D,S!==0?f=as(S):a||(a=D&~n,a!==0&&(f=as(a))))):(D=o&~p,D!==0?f=as(D):S!==0?f=as(S):a||(a=o&~n,a!==0&&(f=as(a)))),f===0?0:r!==0&&r!==f&&(r&p)===0&&(p=f&-f,a=r&-r,p>=a||p===32&&(a&4194048)!==0)?r:f}function Ii(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function ql(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bl(){var n=ji;return ji<<=1,(ji&4194048)===0&&(ji=256),n}function Hl(){var n=Ri;return Ri<<=1,(Ri&62914560)===0&&(Ri=4194304),n}function Ws(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function Zs(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Gl(n,r,a,o,f,p){var S=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var D=n.entanglements,G=n.expirationTimes,ie=n.hiddenUpdates;for(a=S&~a;0<a;){var me=31-hn(a),ge=1<<me;D[me]=0,G[me]=-1;var le=ie[me];if(le!==null)for(ie[me]=null,me=0;me<le.length;me++){var ce=le[me];ce!==null&&(ce.lane&=-536870913)}a&=~ge}o!==0&&bs(n,o,0),p!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=p&~(S&~r))}function bs(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var o=31-hn(r);n.entangledLanes|=r,n.entanglements[o]=n.entanglements[o]|1073741824|a&4194090}function $l(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var o=31-hn(a),f=1<<o;f&r|n[o]&r&&(n[o]|=r),a&=~f}}function kr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Ea(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Mr(){var n=_.p;return n!==0?n:(n=window.event,n===void 0?32:Zv(n.type))}function Fc(n,r){var a=_.p;try{return _.p=n,r()}finally{_.p=a}}var _t=Math.random().toString(36).slice(2),qt="__reactFiber$"+_t,kt="__reactProps$"+_t,Hn="__reactContainer$"+_t,Ql="__reactEvents$"+_t,kh="__reactListeners$"+_t,Pr="__reactHandles$"+_t,qc="__reactResources$"+_t,Ci="__reactMarker$"+_t;function Lr(n){delete n[qt],delete n[kt],delete n[Ql],delete n[kh],delete n[Pr]}function Js(n){var r=n[qt];if(r)return r;for(var a=n.parentNode;a;){if(r=a[Hn]||a[qt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=Lv(n);n!==null;){if(a=n[qt])return a;n=Lv(n)}return r}n=a,a=n.parentNode}return null}function _s(n){if(n=n[qt]||n[Hn]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function ws(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(i(33))}function bn(n){var r=n[qc];return r||(r=n[qc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function It(n){n[Ci]=!0}var Yl=new Set,Ta={};function ls(n,r){er(n,r),er(n+"Capture",r)}function er(n,r){for(Ta[n]=r,n=0;n<r.length;n++)Yl.add(r[n])}var Bc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hc={},Oi={};function Gc(n){return Ce.call(Oi,n)?!0:Ce.call(Hc,n)?!1:Bc.test(n)?Oi[n]=!0:(Hc[n]=!0,!1)}function Vr(n,r,a){if(Gc(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var o=r.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function Es(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function sn(n,r,a,o){if(o===null)n.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+o)}}var Di,$c;function tr(n){if(Di===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Di=r&&r[1]||"",$c=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Di+n+$c}var Sa=!1;function Na(n,r){if(!n||Sa)return"";Sa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(r){var ge=function(){throw Error()};if(Object.defineProperty(ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ge,[])}catch(ce){var le=ce}Reflect.construct(n,[],ge)}else{try{ge.call()}catch(ce){le=ce}n.call(ge.prototype)}}else{try{throw Error()}catch(ce){le=ce}(ge=n())&&typeof ge.catch=="function"&&ge.catch(function(){})}}catch(ce){if(ce&&le&&typeof ce.stack=="string")return[ce.stack,le.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=o.DetermineComponentFrameRoot(),S=p[0],D=p[1];if(S&&D){var G=S.split(`
`),ie=D.split(`
`);for(f=o=0;o<G.length&&!G[o].includes("DetermineComponentFrameRoot");)o++;for(;f<ie.length&&!ie[f].includes("DetermineComponentFrameRoot");)f++;if(o===G.length||f===ie.length)for(o=G.length-1,f=ie.length-1;1<=o&&0<=f&&G[o]!==ie[f];)f--;for(;1<=o&&0<=f;o--,f--)if(G[o]!==ie[f]){if(o!==1||f!==1)do if(o--,f--,0>f||G[o]!==ie[f]){var me=`
`+G[o].replace(" at new "," at ");return n.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",n.displayName)),me}while(1<=o&&0<=f);break}}}finally{Sa=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?tr(a):""}function Kl(n){switch(n.tag){case 26:case 27:case 5:return tr(n.type);case 16:return tr("Lazy");case 13:return tr("Suspense");case 19:return tr("SuspenseList");case 0:case 15:return Na(n.type,!1);case 11:return Na(n.type.render,!1);case 1:return Na(n.type,!0);case 31:return tr("Activity");default:return""}}function Aa(n){try{var r="";do r+=Kl(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function _n(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Xl(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Mh(n){var r=Xl(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),o=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,p=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(S){o=""+S,p.call(this,S)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(S){o=""+S},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function ja(n){n._valueTracker||(n._valueTracker=Mh(n))}function Wl(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),o="";return n&&(o=Xl(n)?n.checked?"true":"false":n.value),n=o,n!==a?(r.setValue(n),!0):!1}function ki(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Ph=/[\n"\\]/g;function Mt(n){return n.replace(Ph,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Mn(n,r,a,o,f,p,S,D){n.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.type=S:n.removeAttribute("type"),r!=null?S==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+_n(r)):n.value!==""+_n(r)&&(n.value=""+_n(r)):S!=="submit"&&S!=="reset"||n.removeAttribute("value"),r!=null?Ur(n,S,_n(r)):a!=null?Ur(n,S,_n(a)):o!=null&&n.removeAttribute("value"),f==null&&p!=null&&(n.defaultChecked=!!p),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?n.name=""+_n(D):n.removeAttribute("name")}function Mi(n,r,a,o,f,p,S,D){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),r!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||r!=null))return;a=a!=null?""+_n(a):"",r=r!=null?""+_n(r):a,D||r===n.value||(n.value=r),n.defaultValue=r}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,n.checked=D?n.checked:!!o,n.defaultChecked=!!o,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(n.name=S)}function Ur(n,r,a){r==="number"&&ki(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function nr(n,r,a,o){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&o&&(n[a].defaultSelected=!0)}else{for(a=""+_n(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,o&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function ct(n,r,a){if(r!=null&&(r=""+_n(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+_n(a):""}function Pi(n,r,a,o){if(r==null){if(o!=null){if(a!=null)throw Error(i(92));if(ae(o)){if(1<o.length)throw Error(i(93));o=o[0]}a=o}a==null&&(a=""),r=a}a=_n(r),n.defaultValue=a,o=n.textContent,o===a&&o!==""&&o!==null&&(n.value=o)}function Gn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var Li=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qc(n,r,a){var o=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":o?n.setProperty(r,a):typeof a!="number"||a===0||Li.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function Zl(n,r,a){if(r!=null&&typeof r!="object")throw Error(i(62));if(n=n.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||r!=null&&r.hasOwnProperty(o)||(o.indexOf("--")===0?n.setProperty(o,""):o==="float"?n.cssFloat="":n[o]="");for(var f in r)o=r[f],r.hasOwnProperty(f)&&a[f]!==o&&Qc(n,f,o)}else for(var p in r)r.hasOwnProperty(p)&&Qc(n,p,r[p])}function Jl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ra(n){return Vh.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var sr=null;function $n(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var rr=null,ir=null;function eo(n){var r=_s(n);if(r&&(n=r.stateNode)){var a=n[kt]||null;e:switch(n=r.stateNode,r.type){case"input":if(Mn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Mt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var o=a[r];if(o!==n&&o.form===n.form){var f=o[kt]||null;if(!f)throw Error(i(90));Mn(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)o=a[r],o.form===n.form&&Wl(o)}break e;case"textarea":ct(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&nr(n,!!a.multiple,r,!1)}}}var Ts=!1;function Yc(n,r,a){if(Ts)return n(r,a);Ts=!0;try{var o=n(r);return o}finally{if(Ts=!1,(rr!==null||ir!==null)&&(Fu(),rr&&(r=rr,n=ir,ir=rr=null,eo(r),n)))for(r=0;r<n.length;r++)eo(n[r])}}function Vi(n,r){var a=n.stateNode;if(a===null)return null;var o=a[kt]||null;if(o===null)return null;a=o[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(n=n.type,o=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!o;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(i(231,r,typeof a));return a}var os=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qn=!1;if(os)try{var Ui={};Object.defineProperty(Ui,"passive",{get:function(){Qn=!0}}),window.addEventListener("test",Ui,Ui),window.removeEventListener("test",Ui,Ui)}catch{Qn=!1}var Ss=null,zr=null,ar=null;function to(){if(ar)return ar;var n,r=zr,a=r.length,o,f="value"in Ss?Ss.value:Ss.textContent,p=f.length;for(n=0;n<a&&r[n]===f[n];n++);var S=a-n;for(o=1;o<=S&&r[a-o]===f[p-o];o++);return ar=f.slice(n,1<o?1-o:void 0)}function Ns(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function As(){return!0}function no(){return!1}function Kt(n){function r(a,o,f,p,S){this._reactName=a,this._targetInst=f,this.type=o,this.nativeEvent=p,this.target=S,this.currentTarget=null;for(var D in n)n.hasOwnProperty(D)&&(a=n[D],this[D]=a?a(p):p[D]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?As:no,this.isPropagationStopped=no,this}return w(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=As)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=As)},persist:function(){},isPersistent:As}),r}var rt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ia=Kt(rt),zi=w({},rt,{view:0,detail:0}),Kc=Kt(zi),Ca,Oa,js,Fi=w({},zi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hi,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==js&&(js&&n.type==="mousemove"?(Ca=n.screenX-js.screenX,Oa=n.screenY-js.screenY):Oa=Ca=0,js=n),Ca)},movementY:function(n){return"movementY"in n?n.movementY:Oa}}),Yn=Kt(Fi),Xc=w({},Fi,{dataTransfer:0}),Uh=Kt(Xc),qi=w({},zi,{relatedTarget:0}),Da=Kt(qi),so=w({},rt,{animationName:0,elapsedTime:0,pseudoElement:0}),ka=Kt(so),Wc=w({},rt,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ma=Kt(Wc),zh=w({},rt,{data:0}),ro=Kt(zh),Bi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function io(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Jc[n])?!!r[n]:!1}function Hi(){return io}var eu=w({},zi,{key:function(n){if(n.key){var r=Bi[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=Ns(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Zc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hi,charCode:function(n){return n.type==="keypress"?Ns(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ns(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Pa=Kt(eu),tu=w({},Fi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ao=Kt(tu),lr=w({},zi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hi}),nu=Kt(lr),su=w({},rt,{propertyName:0,elapsedTime:0,pseudoElement:0}),ru=Kt(su),iu=w({},Fi,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),La=Kt(iu),wn=w({},rt,{newState:0,oldState:0}),au=Kt(wn),lu=[9,13,27,32],Rs=os&&"CompositionEvent"in window,d=null;os&&"documentMode"in document&&(d=document.documentMode);var x=os&&"TextEvent"in window&&!d,E=os&&(!Rs||d&&8<d&&11>=d),P=" ",ne=!1;function ue(n,r){switch(n){case"keyup":return lu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function be(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ze=!1;function Bt(n,r){switch(n){case"compositionend":return be(r);case"keypress":return r.which!==32?null:(ne=!0,P);case"textInput":return n=r.data,n===P&&ne?null:n;default:return null}}function Je(n,r){if(Ze)return n==="compositionend"||!Rs&&ue(n,r)?(n=to(),ar=zr=Ss=null,Ze=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return E&&r.locale!=="ko"?null:r.data;default:return null}}var Xt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ht(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Xt[n.type]:r==="textarea"}function or(n,r,a,o){rr?ir?ir.push(o):ir=[o]:rr=o,r=Qu(r,"onChange"),0<r.length&&(a=new Ia("onChange","change",null,a,o),n.push({event:a,listeners:r}))}var rn=null,Is=null;function lo(n){Av(n,0)}function ou(n){var r=ws(n);if(Wl(r))return n}function Yg(n,r){if(n==="change")return r}var Kg=!1;if(os){var Fh;if(os){var qh="oninput"in document;if(!qh){var Xg=document.createElement("div");Xg.setAttribute("oninput","return;"),qh=typeof Xg.oninput=="function"}Fh=qh}else Fh=!1;Kg=Fh&&(!document.documentMode||9<document.documentMode)}function Wg(){rn&&(rn.detachEvent("onpropertychange",Zg),Is=rn=null)}function Zg(n){if(n.propertyName==="value"&&ou(Is)){var r=[];or(r,Is,n,$n(n)),Yc(lo,r)}}function P2(n,r,a){n==="focusin"?(Wg(),rn=r,Is=a,rn.attachEvent("onpropertychange",Zg)):n==="focusout"&&Wg()}function L2(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ou(Is)}function V2(n,r){if(n==="click")return ou(r)}function U2(n,r){if(n==="input"||n==="change")return ou(r)}function z2(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Pn=typeof Object.is=="function"?Object.is:z2;function oo(n,r){if(Pn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),o=Object.keys(r);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var f=a[o];if(!Ce.call(r,f)||!Pn(n[f],r[f]))return!1}return!0}function Jg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function e0(n,r){var a=Jg(n);n=0;for(var o;a;){if(a.nodeType===3){if(o=n+a.textContent.length,n<=r&&o>=r)return{node:a,offset:r-n};n=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Jg(a)}}function t0(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?t0(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function n0(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=ki(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=ki(n.document)}return r}function Bh(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var F2=os&&"documentMode"in document&&11>=document.documentMode,Va=null,Hh=null,co=null,Gh=!1;function s0(n,r,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Gh||Va==null||Va!==ki(o)||(o=Va,"selectionStart"in o&&Bh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),co&&oo(co,o)||(co=o,o=Qu(Hh,"onSelect"),0<o.length&&(r=new Ia("onSelect","select",null,r,a),n.push({event:r,listeners:o}),r.target=Va)))}function Gi(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Ua={animationend:Gi("Animation","AnimationEnd"),animationiteration:Gi("Animation","AnimationIteration"),animationstart:Gi("Animation","AnimationStart"),transitionrun:Gi("Transition","TransitionRun"),transitionstart:Gi("Transition","TransitionStart"),transitioncancel:Gi("Transition","TransitionCancel"),transitionend:Gi("Transition","TransitionEnd")},$h={},r0={};os&&(r0=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function $i(n){if($h[n])return $h[n];if(!Ua[n])return n;var r=Ua[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in r0)return $h[n]=r[a];return n}var i0=$i("animationend"),a0=$i("animationiteration"),l0=$i("animationstart"),q2=$i("transitionrun"),B2=$i("transitionstart"),H2=$i("transitioncancel"),o0=$i("transitionend"),c0=new Map,Qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qh.push("scrollEnd");function cs(n,r){c0.set(n,r),ls(r,[n])}var u0=new WeakMap;function Kn(n,r){if(typeof n=="object"&&n!==null){var a=u0.get(n);return a!==void 0?a:(r={value:n,source:r,stack:Aa(r)},u0.set(n,r),r)}return{value:n,source:r,stack:Aa(r)}}var Xn=[],za=0,Yh=0;function cu(){for(var n=za,r=Yh=za=0;r<n;){var a=Xn[r];Xn[r++]=null;var o=Xn[r];Xn[r++]=null;var f=Xn[r];Xn[r++]=null;var p=Xn[r];if(Xn[r++]=null,o!==null&&f!==null){var S=o.pending;S===null?f.next=f:(f.next=S.next,S.next=f),o.pending=f}p!==0&&d0(a,f,p)}}function uu(n,r,a,o){Xn[za++]=n,Xn[za++]=r,Xn[za++]=a,Xn[za++]=o,Yh|=o,n.lanes|=o,n=n.alternate,n!==null&&(n.lanes|=o)}function Kh(n,r,a,o){return uu(n,r,a,o),du(n)}function Fa(n,r){return uu(n,null,null,r),du(n)}function d0(n,r,a){n.lanes|=a;var o=n.alternate;o!==null&&(o.lanes|=a);for(var f=!1,p=n.return;p!==null;)p.childLanes|=a,o=p.alternate,o!==null&&(o.childLanes|=a),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(f=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,f&&r!==null&&(f=31-hn(a),n=p.hiddenUpdates,o=n[f],o===null?n[f]=[r]:o.push(r),r.lane=a|536870912),p):null}function du(n){if(50<Mo)throw Mo=0,nm=null,Error(i(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var qa={};function G2(n,r,a,o){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(n,r,a,o){return new G2(n,r,a,o)}function Xh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function cr(n,r){var a=n.alternate;return a===null?(a=Ln(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function h0(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function hu(n,r,a,o,f,p){var S=0;if(o=n,typeof n=="function")Xh(n)&&(S=1);else if(typeof n=="string")S=QE(n,a,te.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case T:return n=Ln(31,a,r,f),n.elementType=T,n.lanes=p,n;case U:return Qi(a.children,f,p,r);case M:S=8,f|=24;break;case B:return n=Ln(12,a,r,f|2),n.elementType=B,n.lanes=p,n;case O:return n=Ln(13,a,r,f),n.elementType=O,n.lanes=p,n;case F:return n=Ln(19,a,r,f),n.elementType=F,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case X:case J:S=10;break e;case Z:S=9;break e;case se:S=11;break e;case j:S=14;break e;case I:S=16,o=null;break e}S=29,a=Error(i(130,n===null?"null":typeof n,"")),o=null}return r=Ln(S,a,r,f),r.elementType=n,r.type=o,r.lanes=p,r}function Qi(n,r,a,o){return n=Ln(7,n,o,r),n.lanes=a,n}function Wh(n,r,a){return n=Ln(6,n,null,r),n.lanes=a,n}function Zh(n,r,a){return r=Ln(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Ba=[],Ha=0,fu=null,mu=0,Wn=[],Zn=0,Yi=null,ur=1,dr="";function Ki(n,r){Ba[Ha++]=mu,Ba[Ha++]=fu,fu=n,mu=r}function f0(n,r,a){Wn[Zn++]=ur,Wn[Zn++]=dr,Wn[Zn++]=Yi,Yi=n;var o=ur;n=dr;var f=32-hn(o)-1;o&=~(1<<f),a+=1;var p=32-hn(r)+f;if(30<p){var S=f-f%5;p=(o&(1<<S)-1).toString(32),o>>=S,f-=S,ur=1<<32-hn(r)+f|a<<f|o,dr=p+n}else ur=1<<p|a<<f|o,dr=n}function Jh(n){n.return!==null&&(Ki(n,1),f0(n,1,0))}function ef(n){for(;n===fu;)fu=Ba[--Ha],Ba[Ha]=null,mu=Ba[--Ha],Ba[Ha]=null;for(;n===Yi;)Yi=Wn[--Zn],Wn[Zn]=null,dr=Wn[--Zn],Wn[Zn]=null,ur=Wn[--Zn],Wn[Zn]=null}var En=null,At=null,st=!1,Xi=null,Cs=!1,tf=Error(i(519));function Wi(n){var r=Error(i(418,""));throw fo(Kn(r,n)),tf}function m0(n){var r=n.stateNode,a=n.type,o=n.memoizedProps;switch(r[qt]=n,r[kt]=o,a){case"dialog":Ke("cancel",r),Ke("close",r);break;case"iframe":case"object":case"embed":Ke("load",r);break;case"video":case"audio":for(a=0;a<Lo.length;a++)Ke(Lo[a],r);break;case"source":Ke("error",r);break;case"img":case"image":case"link":Ke("error",r),Ke("load",r);break;case"details":Ke("toggle",r);break;case"input":Ke("invalid",r),Mi(r,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),ja(r);break;case"select":Ke("invalid",r);break;case"textarea":Ke("invalid",r),Pi(r,o.value,o.defaultValue,o.children),ja(r)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||o.suppressHydrationWarning===!0||Cv(r.textContent,a)?(o.popover!=null&&(Ke("beforetoggle",r),Ke("toggle",r)),o.onScroll!=null&&Ke("scroll",r),o.onScrollEnd!=null&&Ke("scrollend",r),o.onClick!=null&&(r.onclick=Yu),r=!0):r=!1,r||Wi(n)}function p0(n){for(En=n.return;En;)switch(En.tag){case 5:case 13:Cs=!1;return;case 27:case 3:Cs=!0;return;default:En=En.return}}function uo(n){if(n!==En)return!1;if(!st)return p0(n),st=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||vm(n.type,n.memoizedProps)),a=!a),a&&At&&Wi(n),p0(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){At=ds(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}At=null}}else r===27?(r=At,ni(n.type)?(n=wm,wm=null,At=n):At=r):At=En?ds(n.stateNode.nextSibling):null;return!0}function ho(){At=En=null,st=!1}function g0(){var n=Xi;return n!==null&&(Rn===null?Rn=n:Rn.push.apply(Rn,n),Xi=null),n}function fo(n){Xi===null?Xi=[n]:Xi.push(n)}var nf=N(null),Zi=null,hr=null;function Fr(n,r,a){K(nf,r._currentValue),r._currentValue=a}function fr(n){n._currentValue=nf.current,Q(nf)}function sf(n,r,a){for(;n!==null;){var o=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,o!==null&&(o.childLanes|=r)):o!==null&&(o.childLanes&r)!==r&&(o.childLanes|=r),n===a)break;n=n.return}}function rf(n,r,a,o){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var p=f.dependencies;if(p!==null){var S=f.child;p=p.firstContext;e:for(;p!==null;){var D=p;p=f;for(var G=0;G<r.length;G++)if(D.context===r[G]){p.lanes|=a,D=p.alternate,D!==null&&(D.lanes|=a),sf(p.return,a,n),o||(S=null);break e}p=D.next}}else if(f.tag===18){if(S=f.return,S===null)throw Error(i(341));S.lanes|=a,p=S.alternate,p!==null&&(p.lanes|=a),sf(S,a,n),S=null}else S=f.child;if(S!==null)S.return=f;else for(S=f;S!==null;){if(S===n){S=null;break}if(f=S.sibling,f!==null){f.return=S.return,S=f;break}S=S.return}f=S}}function mo(n,r,a,o){n=null;for(var f=r,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var S=f.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var D=f.type;Pn(f.pendingProps.value,S.value)||(n!==null?n.push(D):n=[D])}}else if(f===oe.current){if(S=f.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Bo):n=[Bo])}f=f.return}n!==null&&rf(r,n,a,o),r.flags|=262144}function pu(n){for(n=n.firstContext;n!==null;){if(!Pn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ji(n){Zi=n,hr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function fn(n){return y0(Zi,n)}function gu(n,r){return Zi===null&&Ji(n),y0(n,r)}function y0(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},hr===null){if(n===null)throw Error(i(308));hr=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else hr=hr.next=r;return a}var $2=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,o){n.push(o)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},Q2=s.unstable_scheduleCallback,Y2=s.unstable_NormalPriority,Gt={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function af(){return{controller:new $2,data:new Map,refCount:0}}function po(n){n.refCount--,n.refCount===0&&Q2(Y2,function(){n.controller.abort()})}var go=null,lf=0,Ga=0,$a=null;function K2(n,r){if(go===null){var a=go=[];lf=0,Ga=cm(),$a={status:"pending",value:void 0,then:function(o){a.push(o)}}}return lf++,r.then(v0,v0),r}function v0(){if(--lf===0&&go!==null){$a!==null&&($a.status="fulfilled");var n=go;go=null,Ga=0,$a=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function X2(n,r){var a=[],o={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){o.status="fulfilled",o.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(o.status="rejected",o.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),o}var x0=L.S;L.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&K2(n,r),x0!==null&&x0(n,r)};var ea=N(null);function of(){var n=ea.current;return n!==null?n:mt.pooledCache}function yu(n,r){r===null?K(ea,ea.current):K(ea,r.pool)}function b0(){var n=of();return n===null?null:{parent:Gt._currentValue,pool:n}}var yo=Error(i(460)),_0=Error(i(474)),vu=Error(i(542)),cf={then:function(){}};function w0(n){return n=n.status,n==="fulfilled"||n==="rejected"}function xu(){}function E0(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(xu,xu),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,S0(n),n;default:if(typeof r.status=="string")r.then(xu,xu);else{if(n=mt,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=r,n.status="pending",n.then(function(o){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=o}},function(o){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=o}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,S0(n),n}throw vo=r,yo}}var vo=null;function T0(){if(vo===null)throw Error(i(459));var n=vo;return vo=null,n}function S0(n){if(n===yo||n===vu)throw Error(i(483))}var qr=!1;function uf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function df(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Br(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Hr(n,r,a){var o=n.updateQueue;if(o===null)return null;if(o=o.shared,(at&2)!==0){var f=o.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),o.pending=r,r=du(n),d0(n,null,a),r}return uu(n,o,r,a),du(n)}function xo(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var o=r.lanes;o&=n.pendingLanes,a|=o,r.lanes=a,$l(n,a)}}function hf(n,r){var a=n.updateQueue,o=n.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var f=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var S={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?f=p=S:p=p.next=S,a=a.next}while(a!==null);p===null?f=p=r:p=p.next=r}else f=p=r;a={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:o.shared,callbacks:o.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var ff=!1;function bo(){if(ff){var n=$a;if(n!==null)throw n}}function _o(n,r,a,o){ff=!1;var f=n.updateQueue;qr=!1;var p=f.firstBaseUpdate,S=f.lastBaseUpdate,D=f.shared.pending;if(D!==null){f.shared.pending=null;var G=D,ie=G.next;G.next=null,S===null?p=ie:S.next=ie,S=G;var me=n.alternate;me!==null&&(me=me.updateQueue,D=me.lastBaseUpdate,D!==S&&(D===null?me.firstBaseUpdate=ie:D.next=ie,me.lastBaseUpdate=G))}if(p!==null){var ge=f.baseState;S=0,me=ie=G=null,D=p;do{var le=D.lane&-536870913,ce=le!==D.lane;if(ce?(et&le)===le:(o&le)===le){le!==0&&le===Ga&&(ff=!0),me!==null&&(me=me.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var Ve=n,De=D;le=r;var ht=a;switch(De.tag){case 1:if(Ve=De.payload,typeof Ve=="function"){ge=Ve.call(ht,ge,le);break e}ge=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=De.payload,le=typeof Ve=="function"?Ve.call(ht,ge,le):Ve,le==null)break e;ge=w({},ge,le);break e;case 2:qr=!0}}le=D.callback,le!==null&&(n.flags|=64,ce&&(n.flags|=8192),ce=f.callbacks,ce===null?f.callbacks=[le]:ce.push(le))}else ce={lane:le,tag:D.tag,payload:D.payload,callback:D.callback,next:null},me===null?(ie=me=ce,G=ge):me=me.next=ce,S|=le;if(D=D.next,D===null){if(D=f.shared.pending,D===null)break;ce=D,D=ce.next,ce.next=null,f.lastBaseUpdate=ce,f.shared.pending=null}}while(!0);me===null&&(G=ge),f.baseState=G,f.firstBaseUpdate=ie,f.lastBaseUpdate=me,p===null&&(f.shared.lanes=0),Zr|=S,n.lanes=S,n.memoizedState=ge}}function N0(n,r){if(typeof n!="function")throw Error(i(191,n));n.call(r)}function A0(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)N0(a[n],r)}var Qa=N(null),bu=N(0);function j0(n,r){n=br,K(bu,n),K(Qa,r),br=n|r.baseLanes}function mf(){K(bu,br),K(Qa,Qa.current)}function pf(){br=bu.current,Q(Qa),Q(bu)}var Gr=0,Be=null,ut=null,Pt=null,_u=!1,Ya=!1,ta=!1,wu=0,wo=0,Ka=null,W2=0;function Ct(){throw Error(i(321))}function gf(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!Pn(n[a],r[a]))return!1;return!0}function yf(n,r,a,o,f,p){return Gr=p,Be=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,L.H=n===null||n.memoizedState===null?dy:hy,ta=!1,p=a(o,f),ta=!1,Ya&&(p=I0(r,a,o,f)),R0(n),p}function R0(n){L.H=ju;var r=ut!==null&&ut.next!==null;if(Gr=0,Pt=ut=Be=null,_u=!1,wo=0,Ka=null,r)throw Error(i(300));n===null||Wt||(n=n.dependencies,n!==null&&pu(n)&&(Wt=!0))}function I0(n,r,a,o){Be=n;var f=0;do{if(Ya&&(Ka=null),wo=0,Ya=!1,25<=f)throw Error(i(301));if(f+=1,Pt=ut=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}L.H=rE,p=r(a,o)}while(Ya);return p}function Z2(){var n=L.H,r=n.useState()[0];return r=typeof r.then=="function"?Eo(r):r,n=n.useState()[0],(ut!==null?ut.memoizedState:null)!==n&&(Be.flags|=1024),r}function vf(){var n=wu!==0;return wu=0,n}function xf(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function bf(n){if(_u){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}_u=!1}Gr=0,Pt=ut=Be=null,Ya=!1,wo=wu=0,Ka=null}function An(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?Be.memoizedState=Pt=n:Pt=Pt.next=n,Pt}function Lt(){if(ut===null){var n=Be.alternate;n=n!==null?n.memoizedState:null}else n=ut.next;var r=Pt===null?Be.memoizedState:Pt.next;if(r!==null)Pt=r,ut=n;else{if(n===null)throw Be.alternate===null?Error(i(467)):Error(i(310));ut=n,n={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Pt===null?Be.memoizedState=Pt=n:Pt=Pt.next=n}return Pt}function _f(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Eo(n){var r=wo;return wo+=1,Ka===null&&(Ka=[]),n=E0(Ka,n,r),r=Be,(Pt===null?r.memoizedState:Pt.next)===null&&(r=r.alternate,L.H=r===null||r.memoizedState===null?dy:hy),n}function Eu(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Eo(n);if(n.$$typeof===J)return fn(n)}throw Error(i(438,String(n)))}function wf(n){var r=null,a=Be.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var o=Be.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(r={data:o.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=_f(),Be.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),o=0;o<n;o++)a[o]=b;return r.index++,a}function mr(n,r){return typeof r=="function"?r(n):r}function Tu(n){var r=Lt();return Ef(r,ut,n)}function Ef(n,r,a){var o=n.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=a;var f=n.baseQueue,p=o.pending;if(p!==null){if(f!==null){var S=f.next;f.next=p.next,p.next=S}r.baseQueue=f=p,o.pending=null}if(p=n.baseState,f===null)n.memoizedState=p;else{r=f.next;var D=S=null,G=null,ie=r,me=!1;do{var ge=ie.lane&-536870913;if(ge!==ie.lane?(et&ge)===ge:(Gr&ge)===ge){var le=ie.revertLane;if(le===0)G!==null&&(G=G.next={lane:0,revertLane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),ge===Ga&&(me=!0);else if((Gr&le)===le){ie=ie.next,le===Ga&&(me=!0);continue}else ge={lane:0,revertLane:ie.revertLane,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},G===null?(D=G=ge,S=p):G=G.next=ge,Be.lanes|=le,Zr|=le;ge=ie.action,ta&&a(p,ge),p=ie.hasEagerState?ie.eagerState:a(p,ge)}else le={lane:ge,revertLane:ie.revertLane,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},G===null?(D=G=le,S=p):G=G.next=le,Be.lanes|=ge,Zr|=ge;ie=ie.next}while(ie!==null&&ie!==r);if(G===null?S=p:G.next=D,!Pn(p,n.memoizedState)&&(Wt=!0,me&&(a=$a,a!==null)))throw a;n.memoizedState=p,n.baseState=S,n.baseQueue=G,o.lastRenderedState=p}return f===null&&(o.lanes=0),[n.memoizedState,o.dispatch]}function Tf(n){var r=Lt(),a=r.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=n;var o=a.dispatch,f=a.pending,p=r.memoizedState;if(f!==null){a.pending=null;var S=f=f.next;do p=n(p,S.action),S=S.next;while(S!==f);Pn(p,r.memoizedState)||(Wt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),a.lastRenderedState=p}return[p,o]}function C0(n,r,a){var o=Be,f=Lt(),p=st;if(p){if(a===void 0)throw Error(i(407));a=a()}else a=r();var S=!Pn((ut||f).memoizedState,a);S&&(f.memoizedState=a,Wt=!0),f=f.queue;var D=k0.bind(null,o,f,n);if(To(2048,8,D,[n]),f.getSnapshot!==r||S||Pt!==null&&Pt.memoizedState.tag&1){if(o.flags|=2048,Xa(9,Su(),D0.bind(null,o,f,a,r),null),mt===null)throw Error(i(349));p||(Gr&124)!==0||O0(o,r,a)}return a}function O0(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Be.updateQueue,r===null?(r=_f(),Be.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function D0(n,r,a,o){r.value=a,r.getSnapshot=o,M0(r)&&P0(n)}function k0(n,r,a){return a(function(){M0(r)&&P0(n)})}function M0(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!Pn(n,a)}catch{return!0}}function P0(n){var r=Fa(n,2);r!==null&&qn(r,n,2)}function Sf(n){var r=An();if(typeof n=="function"){var a=n;if(n=a(),ta){Ft(!0);try{a()}finally{Ft(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mr,lastRenderedState:n},r}function L0(n,r,a,o){return n.baseState=a,Ef(n,ut,typeof o=="function"?o:mr)}function J2(n,r,a,o,f){if(Au(n))throw Error(i(485));if(n=r.action,n!==null){var p={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){p.listeners.push(S)}};L.T!==null?a(!0):p.isTransition=!1,o(p),a=r.pending,a===null?(p.next=r.pending=p,V0(r,p)):(p.next=a.next,r.pending=a.next=p)}}function V0(n,r){var a=r.action,o=r.payload,f=n.state;if(r.isTransition){var p=L.T,S={};L.T=S;try{var D=a(f,o),G=L.S;G!==null&&G(S,D),U0(n,r,D)}catch(ie){Nf(n,r,ie)}finally{L.T=p}}else try{p=a(f,o),U0(n,r,p)}catch(ie){Nf(n,r,ie)}}function U0(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){z0(n,r,o)},function(o){return Nf(n,r,o)}):z0(n,r,a)}function z0(n,r,a){r.status="fulfilled",r.value=a,F0(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,V0(n,a)))}function Nf(n,r,a){var o=n.pending;if(n.pending=null,o!==null){o=o.next;do r.status="rejected",r.reason=a,F0(r),r=r.next;while(r!==o)}n.action=null}function F0(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function q0(n,r){return r}function B0(n,r){if(st){var a=mt.formState;if(a!==null){e:{var o=Be;if(st){if(At){t:{for(var f=At,p=Cs;f.nodeType!==8;){if(!p){f=null;break t}if(f=ds(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){At=ds(f.nextSibling),o=f.data==="F!";break e}}Wi(o)}o=!1}o&&(r=a[0])}}return a=An(),a.memoizedState=a.baseState=r,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:q0,lastRenderedState:r},a.queue=o,a=oy.bind(null,Be,o),o.dispatch=a,o=Sf(!1),p=Cf.bind(null,Be,!1,o.queue),o=An(),f={state:r,dispatch:null,action:n,pending:null},o.queue=f,a=J2.bind(null,Be,f,p,a),f.dispatch=a,o.memoizedState=n,[r,a,!1]}function H0(n){var r=Lt();return G0(r,ut,n)}function G0(n,r,a){if(r=Ef(n,r,q0)[0],n=Tu(mr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var o=Eo(r)}catch(S){throw S===yo?vu:S}else o=r;r=Lt();var f=r.queue,p=f.dispatch;return a!==r.memoizedState&&(Be.flags|=2048,Xa(9,Su(),eE.bind(null,f,a),null)),[o,p,n]}function eE(n,r){n.action=r}function $0(n){var r=Lt(),a=ut;if(a!==null)return G0(r,a,n);Lt(),r=r.memoizedState,a=Lt();var o=a.queue.dispatch;return a.memoizedState=n,[r,o,!1]}function Xa(n,r,a,o){return n={tag:n,create:a,deps:o,inst:r,next:null},r=Be.updateQueue,r===null&&(r=_f(),Be.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(o=a.next,a.next=n,n.next=o,r.lastEffect=n),n}function Su(){return{destroy:void 0,resource:void 0}}function Q0(){return Lt().memoizedState}function Nu(n,r,a,o){var f=An();o=o===void 0?null:o,Be.flags|=n,f.memoizedState=Xa(1|r,Su(),a,o)}function To(n,r,a,o){var f=Lt();o=o===void 0?null:o;var p=f.memoizedState.inst;ut!==null&&o!==null&&gf(o,ut.memoizedState.deps)?f.memoizedState=Xa(r,p,a,o):(Be.flags|=n,f.memoizedState=Xa(1|r,p,a,o))}function Y0(n,r){Nu(8390656,8,n,r)}function K0(n,r){To(2048,8,n,r)}function X0(n,r){return To(4,2,n,r)}function W0(n,r){return To(4,4,n,r)}function Z0(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function J0(n,r,a){a=a!=null?a.concat([n]):null,To(4,4,Z0.bind(null,r,n),a)}function Af(){}function ey(n,r){var a=Lt();r=r===void 0?null:r;var o=a.memoizedState;return r!==null&&gf(r,o[1])?o[0]:(a.memoizedState=[n,r],n)}function ty(n,r){var a=Lt();r=r===void 0?null:r;var o=a.memoizedState;if(r!==null&&gf(r,o[1]))return o[0];if(o=n(),ta){Ft(!0);try{n()}finally{Ft(!1)}}return a.memoizedState=[o,r],o}function jf(n,r,a){return a===void 0||(Gr&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=rv(),Be.lanes|=n,Zr|=n,a)}function ny(n,r,a,o){return Pn(a,r)?a:Qa.current!==null?(n=jf(n,a,o),Pn(n,r)||(Wt=!0),n):(Gr&42)===0?(Wt=!0,n.memoizedState=a):(n=rv(),Be.lanes|=n,Zr|=n,r)}function sy(n,r,a,o,f){var p=_.p;_.p=p!==0&&8>p?p:8;var S=L.T,D={};L.T=D,Cf(n,!1,r,a);try{var G=f(),ie=L.S;if(ie!==null&&ie(D,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var me=X2(G,o);So(n,r,me,Fn(n))}else So(n,r,o,Fn(n))}catch(ge){So(n,r,{then:function(){},status:"rejected",reason:ge},Fn())}finally{_.p=p,L.T=S}}function tE(){}function Rf(n,r,a,o){if(n.tag!==5)throw Error(i(476));var f=ry(n).queue;sy(n,f,r,fe,a===null?tE:function(){return iy(n),a(o)})}function ry(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mr,lastRenderedState:fe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mr,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function iy(n){var r=ry(n).next.queue;So(n,r,{},Fn())}function If(){return fn(Bo)}function ay(){return Lt().memoizedState}function ly(){return Lt().memoizedState}function nE(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=Fn();n=Br(a);var o=Hr(r,n,a);o!==null&&(qn(o,r,a),xo(o,r,a)),r={cache:af()},n.payload=r;return}r=r.return}}function sE(n,r,a){var o=Fn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Au(n)?cy(r,a):(a=Kh(n,r,a,o),a!==null&&(qn(a,n,o),uy(a,r,o)))}function oy(n,r,a){var o=Fn();So(n,r,a,o)}function So(n,r,a,o){var f={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Au(n))cy(r,f);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var S=r.lastRenderedState,D=p(S,a);if(f.hasEagerState=!0,f.eagerState=D,Pn(D,S))return uu(n,r,f,0),mt===null&&cu(),!1}catch{}finally{}if(a=Kh(n,r,f,o),a!==null)return qn(a,n,o),uy(a,r,o),!0}return!1}function Cf(n,r,a,o){if(o={lane:2,revertLane:cm(),action:o,hasEagerState:!1,eagerState:null,next:null},Au(n)){if(r)throw Error(i(479))}else r=Kh(n,a,o,2),r!==null&&qn(r,n,2)}function Au(n){var r=n.alternate;return n===Be||r!==null&&r===Be}function cy(n,r){Ya=_u=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function uy(n,r,a){if((a&4194048)!==0){var o=r.lanes;o&=n.pendingLanes,a|=o,r.lanes=a,$l(n,a)}}var ju={readContext:fn,use:Eu,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct,useHostTransitionStatus:Ct,useFormState:Ct,useActionState:Ct,useOptimistic:Ct,useMemoCache:Ct,useCacheRefresh:Ct},dy={readContext:fn,use:Eu,useCallback:function(n,r){return An().memoizedState=[n,r===void 0?null:r],n},useContext:fn,useEffect:Y0,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,Nu(4194308,4,Z0.bind(null,r,n),a)},useLayoutEffect:function(n,r){return Nu(4194308,4,n,r)},useInsertionEffect:function(n,r){Nu(4,2,n,r)},useMemo:function(n,r){var a=An();r=r===void 0?null:r;var o=n();if(ta){Ft(!0);try{n()}finally{Ft(!1)}}return a.memoizedState=[o,r],o},useReducer:function(n,r,a){var o=An();if(a!==void 0){var f=a(r);if(ta){Ft(!0);try{a(r)}finally{Ft(!1)}}}else f=r;return o.memoizedState=o.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},o.queue=n,n=n.dispatch=sE.bind(null,Be,n),[o.memoizedState,n]},useRef:function(n){var r=An();return n={current:n},r.memoizedState=n},useState:function(n){n=Sf(n);var r=n.queue,a=oy.bind(null,Be,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:Af,useDeferredValue:function(n,r){var a=An();return jf(a,n,r)},useTransition:function(){var n=Sf(!1);return n=sy.bind(null,Be,n.queue,!0,!1),An().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var o=Be,f=An();if(st){if(a===void 0)throw Error(i(407));a=a()}else{if(a=r(),mt===null)throw Error(i(349));(et&124)!==0||O0(o,r,a)}f.memoizedState=a;var p={value:a,getSnapshot:r};return f.queue=p,Y0(k0.bind(null,o,p,n),[n]),o.flags|=2048,Xa(9,Su(),D0.bind(null,o,p,a,r),null),a},useId:function(){var n=An(),r=mt.identifierPrefix;if(st){var a=dr,o=ur;a=(o&~(1<<32-hn(o)-1)).toString(32)+a,r=""+r+"R"+a,a=wu++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=W2++,r=""+r+"r"+a.toString(32)+"";return n.memoizedState=r},useHostTransitionStatus:If,useFormState:B0,useActionState:B0,useOptimistic:function(n){var r=An();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Cf.bind(null,Be,!0,a),a.dispatch=r,[n,r]},useMemoCache:wf,useCacheRefresh:function(){return An().memoizedState=nE.bind(null,Be)}},hy={readContext:fn,use:Eu,useCallback:ey,useContext:fn,useEffect:K0,useImperativeHandle:J0,useInsertionEffect:X0,useLayoutEffect:W0,useMemo:ty,useReducer:Tu,useRef:Q0,useState:function(){return Tu(mr)},useDebugValue:Af,useDeferredValue:function(n,r){var a=Lt();return ny(a,ut.memoizedState,n,r)},useTransition:function(){var n=Tu(mr)[0],r=Lt().memoizedState;return[typeof n=="boolean"?n:Eo(n),r]},useSyncExternalStore:C0,useId:ay,useHostTransitionStatus:If,useFormState:H0,useActionState:H0,useOptimistic:function(n,r){var a=Lt();return L0(a,ut,n,r)},useMemoCache:wf,useCacheRefresh:ly},rE={readContext:fn,use:Eu,useCallback:ey,useContext:fn,useEffect:K0,useImperativeHandle:J0,useInsertionEffect:X0,useLayoutEffect:W0,useMemo:ty,useReducer:Tf,useRef:Q0,useState:function(){return Tf(mr)},useDebugValue:Af,useDeferredValue:function(n,r){var a=Lt();return ut===null?jf(a,n,r):ny(a,ut.memoizedState,n,r)},useTransition:function(){var n=Tf(mr)[0],r=Lt().memoizedState;return[typeof n=="boolean"?n:Eo(n),r]},useSyncExternalStore:C0,useId:ay,useHostTransitionStatus:If,useFormState:$0,useActionState:$0,useOptimistic:function(n,r){var a=Lt();return ut!==null?L0(a,ut,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:wf,useCacheRefresh:ly},Wa=null,No=0;function Ru(n){var r=No;return No+=1,Wa===null&&(Wa=[]),E0(Wa,n,r)}function Ao(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Iu(n,r){throw r.$$typeof===A?Error(i(525)):(n=Object.prototype.toString.call(r),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function fy(n){var r=n._init;return r(n._payload)}function my(n){function r(ee,W){if(n){var re=ee.deletions;re===null?(ee.deletions=[W],ee.flags|=16):re.push(W)}}function a(ee,W){if(!n)return null;for(;W!==null;)r(ee,W),W=W.sibling;return null}function o(ee){for(var W=new Map;ee!==null;)ee.key!==null?W.set(ee.key,ee):W.set(ee.index,ee),ee=ee.sibling;return W}function f(ee,W){return ee=cr(ee,W),ee.index=0,ee.sibling=null,ee}function p(ee,W,re){return ee.index=re,n?(re=ee.alternate,re!==null?(re=re.index,re<W?(ee.flags|=67108866,W):re):(ee.flags|=67108866,W)):(ee.flags|=1048576,W)}function S(ee){return n&&ee.alternate===null&&(ee.flags|=67108866),ee}function D(ee,W,re,pe){return W===null||W.tag!==6?(W=Wh(re,ee.mode,pe),W.return=ee,W):(W=f(W,re),W.return=ee,W)}function G(ee,W,re,pe){var Se=re.type;return Se===U?me(ee,W,re.props.children,pe,re.key):W!==null&&(W.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===I&&fy(Se)===W.type)?(W=f(W,re.props),Ao(W,re),W.return=ee,W):(W=hu(re.type,re.key,re.props,null,ee.mode,pe),Ao(W,re),W.return=ee,W)}function ie(ee,W,re,pe){return W===null||W.tag!==4||W.stateNode.containerInfo!==re.containerInfo||W.stateNode.implementation!==re.implementation?(W=Zh(re,ee.mode,pe),W.return=ee,W):(W=f(W,re.children||[]),W.return=ee,W)}function me(ee,W,re,pe,Se){return W===null||W.tag!==7?(W=Qi(re,ee.mode,pe,Se),W.return=ee,W):(W=f(W,re),W.return=ee,W)}function ge(ee,W,re){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=Wh(""+W,ee.mode,re),W.return=ee,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case R:return re=hu(W.type,W.key,W.props,null,ee.mode,re),Ao(re,W),re.return=ee,re;case q:return W=Zh(W,ee.mode,re),W.return=ee,W;case I:var pe=W._init;return W=pe(W._payload),ge(ee,W,re)}if(ae(W)||V(W))return W=Qi(W,ee.mode,re,null),W.return=ee,W;if(typeof W.then=="function")return ge(ee,Ru(W),re);if(W.$$typeof===J)return ge(ee,gu(ee,W),re);Iu(ee,W)}return null}function le(ee,W,re,pe){var Se=W!==null?W.key:null;if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return Se!==null?null:D(ee,W,""+re,pe);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case R:return re.key===Se?G(ee,W,re,pe):null;case q:return re.key===Se?ie(ee,W,re,pe):null;case I:return Se=re._init,re=Se(re._payload),le(ee,W,re,pe)}if(ae(re)||V(re))return Se!==null?null:me(ee,W,re,pe,null);if(typeof re.then=="function")return le(ee,W,Ru(re),pe);if(re.$$typeof===J)return le(ee,W,gu(ee,re),pe);Iu(ee,re)}return null}function ce(ee,W,re,pe,Se){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return ee=ee.get(re)||null,D(W,ee,""+pe,Se);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case R:return ee=ee.get(pe.key===null?re:pe.key)||null,G(W,ee,pe,Se);case q:return ee=ee.get(pe.key===null?re:pe.key)||null,ie(W,ee,pe,Se);case I:var Qe=pe._init;return pe=Qe(pe._payload),ce(ee,W,re,pe,Se)}if(ae(pe)||V(pe))return ee=ee.get(re)||null,me(W,ee,pe,Se,null);if(typeof pe.then=="function")return ce(ee,W,re,Ru(pe),Se);if(pe.$$typeof===J)return ce(ee,W,re,gu(W,pe),Se);Iu(W,pe)}return null}function Ve(ee,W,re,pe){for(var Se=null,Qe=null,Ae=W,Me=W=0,Jt=null;Ae!==null&&Me<re.length;Me++){Ae.index>Me?(Jt=Ae,Ae=null):Jt=Ae.sibling;var nt=le(ee,Ae,re[Me],pe);if(nt===null){Ae===null&&(Ae=Jt);break}n&&Ae&&nt.alternate===null&&r(ee,Ae),W=p(nt,W,Me),Qe===null?Se=nt:Qe.sibling=nt,Qe=nt,Ae=Jt}if(Me===re.length)return a(ee,Ae),st&&Ki(ee,Me),Se;if(Ae===null){for(;Me<re.length;Me++)Ae=ge(ee,re[Me],pe),Ae!==null&&(W=p(Ae,W,Me),Qe===null?Se=Ae:Qe.sibling=Ae,Qe=Ae);return st&&Ki(ee,Me),Se}for(Ae=o(Ae);Me<re.length;Me++)Jt=ce(Ae,ee,Me,re[Me],pe),Jt!==null&&(n&&Jt.alternate!==null&&Ae.delete(Jt.key===null?Me:Jt.key),W=p(Jt,W,Me),Qe===null?Se=Jt:Qe.sibling=Jt,Qe=Jt);return n&&Ae.forEach(function(li){return r(ee,li)}),st&&Ki(ee,Me),Se}function De(ee,W,re,pe){if(re==null)throw Error(i(151));for(var Se=null,Qe=null,Ae=W,Me=W=0,Jt=null,nt=re.next();Ae!==null&&!nt.done;Me++,nt=re.next()){Ae.index>Me?(Jt=Ae,Ae=null):Jt=Ae.sibling;var li=le(ee,Ae,nt.value,pe);if(li===null){Ae===null&&(Ae=Jt);break}n&&Ae&&li.alternate===null&&r(ee,Ae),W=p(li,W,Me),Qe===null?Se=li:Qe.sibling=li,Qe=li,Ae=Jt}if(nt.done)return a(ee,Ae),st&&Ki(ee,Me),Se;if(Ae===null){for(;!nt.done;Me++,nt=re.next())nt=ge(ee,nt.value,pe),nt!==null&&(W=p(nt,W,Me),Qe===null?Se=nt:Qe.sibling=nt,Qe=nt);return st&&Ki(ee,Me),Se}for(Ae=o(Ae);!nt.done;Me++,nt=re.next())nt=ce(Ae,ee,Me,nt.value,pe),nt!==null&&(n&&nt.alternate!==null&&Ae.delete(nt.key===null?Me:nt.key),W=p(nt,W,Me),Qe===null?Se=nt:Qe.sibling=nt,Qe=nt);return n&&Ae.forEach(function(iT){return r(ee,iT)}),st&&Ki(ee,Me),Se}function ht(ee,W,re,pe){if(typeof re=="object"&&re!==null&&re.type===U&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case R:e:{for(var Se=re.key;W!==null;){if(W.key===Se){if(Se=re.type,Se===U){if(W.tag===7){a(ee,W.sibling),pe=f(W,re.props.children),pe.return=ee,ee=pe;break e}}else if(W.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===I&&fy(Se)===W.type){a(ee,W.sibling),pe=f(W,re.props),Ao(pe,re),pe.return=ee,ee=pe;break e}a(ee,W);break}else r(ee,W);W=W.sibling}re.type===U?(pe=Qi(re.props.children,ee.mode,pe,re.key),pe.return=ee,ee=pe):(pe=hu(re.type,re.key,re.props,null,ee.mode,pe),Ao(pe,re),pe.return=ee,ee=pe)}return S(ee);case q:e:{for(Se=re.key;W!==null;){if(W.key===Se)if(W.tag===4&&W.stateNode.containerInfo===re.containerInfo&&W.stateNode.implementation===re.implementation){a(ee,W.sibling),pe=f(W,re.children||[]),pe.return=ee,ee=pe;break e}else{a(ee,W);break}else r(ee,W);W=W.sibling}pe=Zh(re,ee.mode,pe),pe.return=ee,ee=pe}return S(ee);case I:return Se=re._init,re=Se(re._payload),ht(ee,W,re,pe)}if(ae(re))return Ve(ee,W,re,pe);if(V(re)){if(Se=V(re),typeof Se!="function")throw Error(i(150));return re=Se.call(re),De(ee,W,re,pe)}if(typeof re.then=="function")return ht(ee,W,Ru(re),pe);if(re.$$typeof===J)return ht(ee,W,gu(ee,re),pe);Iu(ee,re)}return typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint"?(re=""+re,W!==null&&W.tag===6?(a(ee,W.sibling),pe=f(W,re),pe.return=ee,ee=pe):(a(ee,W),pe=Wh(re,ee.mode,pe),pe.return=ee,ee=pe),S(ee)):a(ee,W)}return function(ee,W,re,pe){try{No=0;var Se=ht(ee,W,re,pe);return Wa=null,Se}catch(Ae){if(Ae===yo||Ae===vu)throw Ae;var Qe=Ln(29,Ae,null,ee.mode);return Qe.lanes=pe,Qe.return=ee,Qe}finally{}}}var Za=my(!0),py=my(!1),Jn=N(null),Os=null;function $r(n){var r=n.alternate;K($t,$t.current&1),K(Jn,n),Os===null&&(r===null||Qa.current!==null||r.memoizedState!==null)&&(Os=n)}function gy(n){if(n.tag===22){if(K($t,$t.current),K(Jn,n),Os===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(Os=n)}}else Qr()}function Qr(){K($t,$t.current),K(Jn,Jn.current)}function pr(n){Q(Jn),Os===n&&(Os=null),Q($t)}var $t=N(0);function Cu(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||_m(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Of(n,r,a,o){r=n.memoizedState,a=a(o,r),a=a==null?r:w({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Df={enqueueSetState:function(n,r,a){n=n._reactInternals;var o=Fn(),f=Br(o);f.payload=r,a!=null&&(f.callback=a),r=Hr(n,f,o),r!==null&&(qn(r,n,o),xo(r,n,o))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var o=Fn(),f=Br(o);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Hr(n,f,o),r!==null&&(qn(r,n,o),xo(r,n,o))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=Fn(),o=Br(a);o.tag=2,r!=null&&(o.callback=r),r=Hr(n,o,a),r!==null&&(qn(r,n,a),xo(r,n,a))}};function yy(n,r,a,o,f,p,S){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(o,p,S):r.prototype&&r.prototype.isPureReactComponent?!oo(a,o)||!oo(f,p):!0}function vy(n,r,a,o){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,o),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,o),r.state!==n&&Df.enqueueReplaceState(r,r.state,null)}function na(n,r){var a=r;if("ref"in r){a={};for(var o in r)o!=="ref"&&(a[o]=r[o])}if(n=n.defaultProps){a===r&&(a=w({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var Ou=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function xy(n){Ou(n)}function by(n){console.error(n)}function _y(n){Ou(n)}function Du(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(o){setTimeout(function(){throw o})}}function wy(n,r,a){try{var o=n.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function kf(n,r,a){return a=Br(a),a.tag=3,a.payload={element:null},a.callback=function(){Du(n,r)},a}function Ey(n){return n=Br(n),n.tag=3,n}function Ty(n,r,a,o){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var p=o.value;n.payload=function(){return f(p)},n.callback=function(){wy(r,a,o)}}var S=a.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(n.callback=function(){wy(r,a,o),typeof f!="function"&&(Jr===null?Jr=new Set([this]):Jr.add(this));var D=o.stack;this.componentDidCatch(o.value,{componentStack:D!==null?D:""})})}function iE(n,r,a,o,f){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(r=a.alternate,r!==null&&mo(r,a,f,!0),a=Jn.current,a!==null){switch(a.tag){case 13:return Os===null?rm():a.alternate===null&&jt===0&&(jt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,o===cf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([o]):r.add(o),am(n,o,f)),!1;case 22:return a.flags|=65536,o===cf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([o]):a.add(o)),am(n,o,f)),!1}throw Error(i(435,a.tag))}return am(n,o,f),rm(),!1}if(st)return r=Jn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,o!==tf&&(n=Error(i(422),{cause:o}),fo(Kn(n,a)))):(o!==tf&&(r=Error(i(423),{cause:o}),fo(Kn(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,o=Kn(o,a),f=kf(n.stateNode,o,f),hf(n,f),jt!==4&&(jt=2)),!1;var p=Error(i(520),{cause:o});if(p=Kn(p,a),ko===null?ko=[p]:ko.push(p),jt!==4&&(jt=2),r===null)return!0;o=Kn(o,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=kf(a.stateNode,o,n),hf(a,n),!1;case 1:if(r=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Jr===null||!Jr.has(p))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Ey(f),Ty(f,n,a,o),hf(a,f),!1}a=a.return}while(a!==null);return!1}var Sy=Error(i(461)),Wt=!1;function an(n,r,a,o){r.child=n===null?py(r,null,a,o):Za(r,n.child,a,o)}function Ny(n,r,a,o,f){a=a.render;var p=r.ref;if("ref"in o){var S={};for(var D in o)D!=="ref"&&(S[D]=o[D])}else S=o;return Ji(r),o=yf(n,r,a,S,p,f),D=vf(),n!==null&&!Wt?(xf(n,r,f),gr(n,r,f)):(st&&D&&Jh(r),r.flags|=1,an(n,r,o,f),r.child)}function Ay(n,r,a,o,f){if(n===null){var p=a.type;return typeof p=="function"&&!Xh(p)&&p.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=p,jy(n,r,p,o,f)):(n=hu(a.type,null,o,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(p=n.child,!qf(n,f)){var S=p.memoizedProps;if(a=a.compare,a=a!==null?a:oo,a(S,o)&&n.ref===r.ref)return gr(n,r,f)}return r.flags|=1,n=cr(p,o),n.ref=r.ref,n.return=r,r.child=n}function jy(n,r,a,o,f){if(n!==null){var p=n.memoizedProps;if(oo(p,o)&&n.ref===r.ref)if(Wt=!1,r.pendingProps=o=p,qf(n,f))(n.flags&131072)!==0&&(Wt=!0);else return r.lanes=n.lanes,gr(n,r,f)}return Mf(n,r,a,o,f)}function Ry(n,r,a){var o=r.pendingProps,f=o.children,p=n!==null?n.memoizedState:null;if(o.mode==="hidden"){if((r.flags&128)!==0){if(o=p!==null?p.baseLanes|a:a,n!==null){for(f=r.child=n.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;r.childLanes=p&~o}else r.childLanes=0,r.child=null;return Iy(n,r,o,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&yu(r,p!==null?p.cachePool:null),p!==null?j0(r,p):mf(),gy(r);else return r.lanes=r.childLanes=536870912,Iy(n,r,p!==null?p.baseLanes|a:a,a)}else p!==null?(yu(r,p.cachePool),j0(r,p),Qr(),r.memoizedState=null):(n!==null&&yu(r,null),mf(),Qr());return an(n,r,f,a),r.child}function Iy(n,r,a,o){var f=of();return f=f===null?null:{parent:Gt._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},n!==null&&yu(r,null),mf(),gy(r),n!==null&&mo(n,r,o,!0),null}function ku(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function Mf(n,r,a,o,f){return Ji(r),a=yf(n,r,a,o,void 0,f),o=vf(),n!==null&&!Wt?(xf(n,r,f),gr(n,r,f)):(st&&o&&Jh(r),r.flags|=1,an(n,r,a,f),r.child)}function Cy(n,r,a,o,f,p){return Ji(r),r.updateQueue=null,a=I0(r,o,a,f),R0(n),o=vf(),n!==null&&!Wt?(xf(n,r,p),gr(n,r,p)):(st&&o&&Jh(r),r.flags|=1,an(n,r,a,p),r.child)}function Oy(n,r,a,o,f){if(Ji(r),r.stateNode===null){var p=qa,S=a.contextType;typeof S=="object"&&S!==null&&(p=fn(S)),p=new a(o,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Df,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=o,p.state=r.memoizedState,p.refs={},uf(r),S=a.contextType,p.context=typeof S=="object"&&S!==null?fn(S):qa,p.state=r.memoizedState,S=a.getDerivedStateFromProps,typeof S=="function"&&(Of(r,a,S,o),p.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(S=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),S!==p.state&&Df.enqueueReplaceState(p,p.state,null),_o(r,o,p,f),bo(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),o=!0}else if(n===null){p=r.stateNode;var D=r.memoizedProps,G=na(a,D);p.props=G;var ie=p.context,me=a.contextType;S=qa,typeof me=="object"&&me!==null&&(S=fn(me));var ge=a.getDerivedStateFromProps;me=typeof ge=="function"||typeof p.getSnapshotBeforeUpdate=="function",D=r.pendingProps!==D,me||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(D||ie!==S)&&vy(r,p,o,S),qr=!1;var le=r.memoizedState;p.state=le,_o(r,o,p,f),bo(),ie=r.memoizedState,D||le!==ie||qr?(typeof ge=="function"&&(Of(r,a,ge,o),ie=r.memoizedState),(G=qr||yy(r,a,G,o,le,ie,S))?(me||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=o,r.memoizedState=ie),p.props=o,p.state=ie,p.context=S,o=G):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),o=!1)}else{p=r.stateNode,df(n,r),S=r.memoizedProps,me=na(a,S),p.props=me,ge=r.pendingProps,le=p.context,ie=a.contextType,G=qa,typeof ie=="object"&&ie!==null&&(G=fn(ie)),D=a.getDerivedStateFromProps,(ie=typeof D=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S!==ge||le!==G)&&vy(r,p,o,G),qr=!1,le=r.memoizedState,p.state=le,_o(r,o,p,f),bo();var ce=r.memoizedState;S!==ge||le!==ce||qr||n!==null&&n.dependencies!==null&&pu(n.dependencies)?(typeof D=="function"&&(Of(r,a,D,o),ce=r.memoizedState),(me=qr||yy(r,a,me,o,le,ce,G)||n!==null&&n.dependencies!==null&&pu(n.dependencies))?(ie||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(o,ce,G),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(o,ce,G)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||S===n.memoizedProps&&le===n.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&le===n.memoizedState||(r.flags|=1024),r.memoizedProps=o,r.memoizedState=ce),p.props=o,p.state=ce,p.context=G,o=me):(typeof p.componentDidUpdate!="function"||S===n.memoizedProps&&le===n.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&le===n.memoizedState||(r.flags|=1024),o=!1)}return p=o,ku(n,r),o=(r.flags&128)!==0,p||o?(p=r.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,n!==null&&o?(r.child=Za(r,n.child,null,f),r.child=Za(r,null,a,f)):an(n,r,a,f),r.memoizedState=p.state,n=r.child):n=gr(n,r,f),n}function Dy(n,r,a,o){return ho(),r.flags|=256,an(n,r,a,o),r.child}var Pf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lf(n){return{baseLanes:n,cachePool:b0()}}function Vf(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=es),n}function ky(n,r,a){var o=r.pendingProps,f=!1,p=(r.flags&128)!==0,S;if((S=p)||(S=n!==null&&n.memoizedState===null?!1:($t.current&2)!==0),S&&(f=!0,r.flags&=-129),S=(r.flags&32)!==0,r.flags&=-33,n===null){if(st){if(f?$r(r):Qr(),st){var D=At,G;if(G=D){e:{for(G=D,D=Cs;G.nodeType!==8;){if(!D){D=null;break e}if(G=ds(G.nextSibling),G===null){D=null;break e}}D=G}D!==null?(r.memoizedState={dehydrated:D,treeContext:Yi!==null?{id:ur,overflow:dr}:null,retryLane:536870912,hydrationErrors:null},G=Ln(18,null,null,0),G.stateNode=D,G.return=r,r.child=G,En=r,At=null,G=!0):G=!1}G||Wi(r)}if(D=r.memoizedState,D!==null&&(D=D.dehydrated,D!==null))return _m(D)?r.lanes=32:r.lanes=536870912,null;pr(r)}return D=o.children,o=o.fallback,f?(Qr(),f=r.mode,D=Mu({mode:"hidden",children:D},f),o=Qi(o,f,a,null),D.return=r,o.return=r,D.sibling=o,r.child=D,f=r.child,f.memoizedState=Lf(a),f.childLanes=Vf(n,S,a),r.memoizedState=Pf,o):($r(r),Uf(r,D))}if(G=n.memoizedState,G!==null&&(D=G.dehydrated,D!==null)){if(p)r.flags&256?($r(r),r.flags&=-257,r=zf(n,r,a)):r.memoizedState!==null?(Qr(),r.child=n.child,r.flags|=128,r=null):(Qr(),f=o.fallback,D=r.mode,o=Mu({mode:"visible",children:o.children},D),f=Qi(f,D,a,null),f.flags|=2,o.return=r,f.return=r,o.sibling=f,r.child=o,Za(r,n.child,null,a),o=r.child,o.memoizedState=Lf(a),o.childLanes=Vf(n,S,a),r.memoizedState=Pf,r=f);else if($r(r),_m(D)){if(S=D.nextSibling&&D.nextSibling.dataset,S)var ie=S.dgst;S=ie,o=Error(i(419)),o.stack="",o.digest=S,fo({value:o,source:null,stack:null}),r=zf(n,r,a)}else if(Wt||mo(n,r,a,!1),S=(a&n.childLanes)!==0,Wt||S){if(S=mt,S!==null&&(o=a&-a,o=(o&42)!==0?1:kr(o),o=(o&(S.suspendedLanes|a))!==0?0:o,o!==0&&o!==G.retryLane))throw G.retryLane=o,Fa(n,o),qn(S,n,o),Sy;D.data==="$?"||rm(),r=zf(n,r,a)}else D.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=G.treeContext,At=ds(D.nextSibling),En=r,st=!0,Xi=null,Cs=!1,n!==null&&(Wn[Zn++]=ur,Wn[Zn++]=dr,Wn[Zn++]=Yi,ur=n.id,dr=n.overflow,Yi=r),r=Uf(r,o.children),r.flags|=4096);return r}return f?(Qr(),f=o.fallback,D=r.mode,G=n.child,ie=G.sibling,o=cr(G,{mode:"hidden",children:o.children}),o.subtreeFlags=G.subtreeFlags&65011712,ie!==null?f=cr(ie,f):(f=Qi(f,D,a,null),f.flags|=2),f.return=r,o.return=r,o.sibling=f,r.child=o,o=f,f=r.child,D=n.child.memoizedState,D===null?D=Lf(a):(G=D.cachePool,G!==null?(ie=Gt._currentValue,G=G.parent!==ie?{parent:ie,pool:ie}:G):G=b0(),D={baseLanes:D.baseLanes|a,cachePool:G}),f.memoizedState=D,f.childLanes=Vf(n,S,a),r.memoizedState=Pf,o):($r(r),a=n.child,n=a.sibling,a=cr(a,{mode:"visible",children:o.children}),a.return=r,a.sibling=null,n!==null&&(S=r.deletions,S===null?(r.deletions=[n],r.flags|=16):S.push(n)),r.child=a,r.memoizedState=null,a)}function Uf(n,r){return r=Mu({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Mu(n,r){return n=Ln(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function zf(n,r,a){return Za(r,n.child,null,a),n=Uf(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function My(n,r,a){n.lanes|=r;var o=n.alternate;o!==null&&(o.lanes|=r),sf(n.return,r,a)}function Ff(n,r,a,o,f){var p=n.memoizedState;p===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:f}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=a,p.tailMode=f)}function Py(n,r,a){var o=r.pendingProps,f=o.revealOrder,p=o.tail;if(an(n,r,o.children,a),o=$t.current,(o&2)!==0)o=o&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&My(n,a,r);else if(n.tag===19)My(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}o&=1}switch(K($t,o),f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&Cu(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Ff(r,!1,f,a,p);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&Cu(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Ff(r,!0,a,null,p);break;case"together":Ff(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function gr(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Zr|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(mo(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(i(153));if(r.child!==null){for(n=r.child,a=cr(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=cr(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function qf(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&pu(n)))}function aE(n,r,a){switch(r.tag){case 3:he(r,r.stateNode.containerInfo),Fr(r,Gt,n.memoizedState.cache),ho();break;case 27:case 5:_e(r);break;case 4:he(r,r.stateNode.containerInfo);break;case 10:Fr(r,r.type,r.memoizedProps.value);break;case 13:var o=r.memoizedState;if(o!==null)return o.dehydrated!==null?($r(r),r.flags|=128,null):(a&r.child.childLanes)!==0?ky(n,r,a):($r(r),n=gr(n,r,a),n!==null?n.sibling:null);$r(r);break;case 19:var f=(n.flags&128)!==0;if(o=(a&r.childLanes)!==0,o||(mo(n,r,a,!1),o=(a&r.childLanes)!==0),f){if(o)return Py(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),K($t,$t.current),o)break;return null;case 22:case 23:return r.lanes=0,Ry(n,r,a);case 24:Fr(r,Gt,n.memoizedState.cache)}return gr(n,r,a)}function Ly(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)Wt=!0;else{if(!qf(n,a)&&(r.flags&128)===0)return Wt=!1,aE(n,r,a);Wt=(n.flags&131072)!==0}else Wt=!1,st&&(r.flags&1048576)!==0&&f0(r,mu,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var o=r.elementType,f=o._init;if(o=f(o._payload),r.type=o,typeof o=="function")Xh(o)?(n=na(o,n),r.tag=1,r=Oy(null,r,o,n,a)):(r.tag=0,r=Mf(null,r,o,n,a));else{if(o!=null){if(f=o.$$typeof,f===se){r.tag=11,r=Ny(null,r,o,n,a);break e}else if(f===j){r.tag=14,r=Ay(null,r,o,n,a);break e}}throw r=z(o)||o,Error(i(306,r,""))}}return r;case 0:return Mf(n,r,r.type,r.pendingProps,a);case 1:return o=r.type,f=na(o,r.pendingProps),Oy(n,r,o,f,a);case 3:e:{if(he(r,r.stateNode.containerInfo),n===null)throw Error(i(387));o=r.pendingProps;var p=r.memoizedState;f=p.element,df(n,r),_o(r,o,null,a);var S=r.memoizedState;if(o=S.cache,Fr(r,Gt,o),o!==p.cache&&rf(r,[Gt],a,!0),bo(),o=S.element,p.isDehydrated)if(p={element:o,isDehydrated:!1,cache:S.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=Dy(n,r,o,a);break e}else if(o!==f){f=Kn(Error(i(424)),r),fo(f),r=Dy(n,r,o,a);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(At=ds(n.firstChild),En=r,st=!0,Xi=null,Cs=!0,a=py(r,null,o,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ho(),o===f){r=gr(n,r,a);break e}an(n,r,o,a)}r=r.child}return r;case 26:return ku(n,r),n===null?(a=Fv(r.type,null,r.pendingProps,null))?r.memoizedState=a:st||(a=r.type,n=r.pendingProps,o=Ku(Y.current).createElement(a),o[qt]=r,o[kt]=n,on(o,a,n),It(o),r.stateNode=o):r.memoizedState=Fv(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return _e(r),n===null&&st&&(o=r.stateNode=Vv(r.type,r.pendingProps,Y.current),En=r,Cs=!0,f=At,ni(r.type)?(wm=f,At=ds(o.firstChild)):At=f),an(n,r,r.pendingProps.children,a),ku(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&st&&((f=o=At)&&(o=kE(o,r.type,r.pendingProps,Cs),o!==null?(r.stateNode=o,En=r,At=ds(o.firstChild),Cs=!1,f=!0):f=!1),f||Wi(r)),_e(r),f=r.type,p=r.pendingProps,S=n!==null?n.memoizedProps:null,o=p.children,vm(f,p)?o=null:S!==null&&vm(f,S)&&(r.flags|=32),r.memoizedState!==null&&(f=yf(n,r,Z2,null,null,a),Bo._currentValue=f),ku(n,r),an(n,r,o,a),r.child;case 6:return n===null&&st&&((n=a=At)&&(a=ME(a,r.pendingProps,Cs),a!==null?(r.stateNode=a,En=r,At=null,n=!0):n=!1),n||Wi(r)),null;case 13:return ky(n,r,a);case 4:return he(r,r.stateNode.containerInfo),o=r.pendingProps,n===null?r.child=Za(r,null,o,a):an(n,r,o,a),r.child;case 11:return Ny(n,r,r.type,r.pendingProps,a);case 7:return an(n,r,r.pendingProps,a),r.child;case 8:return an(n,r,r.pendingProps.children,a),r.child;case 12:return an(n,r,r.pendingProps.children,a),r.child;case 10:return o=r.pendingProps,Fr(r,r.type,o.value),an(n,r,o.children,a),r.child;case 9:return f=r.type._context,o=r.pendingProps.children,Ji(r),f=fn(f),o=o(f),r.flags|=1,an(n,r,o,a),r.child;case 14:return Ay(n,r,r.type,r.pendingProps,a);case 15:return jy(n,r,r.type,r.pendingProps,a);case 19:return Py(n,r,a);case 31:return o=r.pendingProps,a=r.mode,o={mode:o.mode,children:o.children},n===null?(a=Mu(o,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=cr(n.child,o),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return Ry(n,r,a);case 24:return Ji(r),o=fn(Gt),n===null?(f=of(),f===null&&(f=mt,p=af(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=a),f=p),r.memoizedState={parent:o,cache:f},uf(r),Fr(r,Gt,f)):((n.lanes&a)!==0&&(df(n,r),_o(r,null,null,a),bo()),f=n.memoizedState,p=r.memoizedState,f.parent!==o?(f={parent:o,cache:o},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Fr(r,Gt,o)):(o=p.cache,Fr(r,Gt,o),o!==f.cache&&rf(r,[Gt],a,!0))),an(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function yr(n){n.flags|=4}function Vy(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!$v(r)){if(r=Jn.current,r!==null&&((et&4194048)===et?Os!==null:(et&62914560)!==et&&(et&536870912)===0||r!==Os))throw vo=cf,_0;n.flags|=8192}}function Pu(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Hl():536870912,n.lanes|=r,nl|=r)}function jo(n,r){if(!st)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:o.sibling=null}}function Tt(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,o=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=o,n.childLanes=a,r}function lE(n,r,a){var o=r.pendingProps;switch(ef(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(r),null;case 1:return Tt(r),null;case 3:return a=r.stateNode,o=null,n!==null&&(o=n.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),fr(Gt),xe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(uo(r)?yr(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,g0())),Tt(r),null;case 26:return a=r.memoizedState,n===null?(yr(r),a!==null?(Tt(r),Vy(r,a)):(Tt(r),r.flags&=-16777217)):a?a!==n.memoizedState?(yr(r),Tt(r),Vy(r,a)):(Tt(r),r.flags&=-16777217):(n.memoizedProps!==o&&yr(r),Tt(r),r.flags&=-16777217),null;case 27:Ne(r),a=Y.current;var f=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==o&&yr(r);else{if(!o){if(r.stateNode===null)throw Error(i(166));return Tt(r),null}n=te.current,uo(r)?m0(r):(n=Vv(f,o,a),r.stateNode=n,yr(r))}return Tt(r),null;case 5:if(Ne(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==o&&yr(r);else{if(!o){if(r.stateNode===null)throw Error(i(166));return Tt(r),null}if(n=te.current,uo(r))m0(r);else{switch(f=Ku(Y.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof o.is=="string"?f.createElement("select",{is:o.is}):f.createElement("select"),o.multiple?n.multiple=!0:o.size&&(n.size=o.size);break;default:n=typeof o.is=="string"?f.createElement(a,{is:o.is}):f.createElement(a)}}n[qt]=r,n[kt]=o;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=n;e:switch(on(n,a,o),a){case"button":case"input":case"select":case"textarea":n=!!o.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&yr(r)}}return Tt(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==o&&yr(r);else{if(typeof o!="string"&&r.stateNode===null)throw Error(i(166));if(n=Y.current,uo(r)){if(n=r.stateNode,a=r.memoizedProps,o=null,f=En,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}n[qt]=r,n=!!(n.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||Cv(n.nodeValue,a)),n||Wi(r)}else n=Ku(n).createTextNode(o),n[qt]=r,r.stateNode=n}return Tt(r),null;case 13:if(o=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=uo(r),o!==null&&o.dehydrated!==null){if(n===null){if(!f)throw Error(i(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[qt]=r}else ho(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Tt(r),f=!1}else f=g0(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(pr(r),r):(pr(r),null)}if(pr(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=o!==null,n=n!==null&&n.memoizedState!==null,a){o=r.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool);var p=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==f&&(o.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),Pu(r,r.updateQueue),Tt(r),null;case 4:return xe(),n===null&&fm(r.stateNode.containerInfo),Tt(r),null;case 10:return fr(r.type),Tt(r),null;case 19:if(Q($t),f=r.memoizedState,f===null)return Tt(r),null;if(o=(r.flags&128)!==0,p=f.rendering,p===null)if(o)jo(f,!1);else{if(jt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(p=Cu(n),p!==null){for(r.flags|=128,jo(f,!1),n=p.updateQueue,r.updateQueue=n,Pu(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)h0(a,n),a=a.sibling;return K($t,$t.current&1|2),r.child}n=n.sibling}f.tail!==null&&je()>Uu&&(r.flags|=128,o=!0,jo(f,!1),r.lanes=4194304)}else{if(!o)if(n=Cu(p),n!==null){if(r.flags|=128,o=!0,n=n.updateQueue,r.updateQueue=n,Pu(r,n),jo(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!st)return Tt(r),null}else 2*je()-f.renderingStartTime>Uu&&a!==536870912&&(r.flags|=128,o=!0,jo(f,!1),r.lanes=4194304);f.isBackwards?(p.sibling=r.child,r.child=p):(n=f.last,n!==null?n.sibling=p:r.child=p,f.last=p)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=je(),r.sibling=null,n=$t.current,K($t,o?n&1|2:n&1),r):(Tt(r),null);case 22:case 23:return pr(r),pf(),o=r.memoizedState!==null,n!==null?n.memoizedState!==null!==o&&(r.flags|=8192):o&&(r.flags|=8192),o?(a&536870912)!==0&&(r.flags&128)===0&&(Tt(r),r.subtreeFlags&6&&(r.flags|=8192)):Tt(r),a=r.updateQueue,a!==null&&Pu(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048),n!==null&&Q(ea),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),fr(Gt),Tt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function oE(n,r){switch(ef(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return fr(Gt),xe(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return Ne(r),null;case 13:if(pr(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(i(340));ho()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return Q($t),null;case 4:return xe(),null;case 10:return fr(r.type),null;case 22:case 23:return pr(r),pf(),n!==null&&Q(ea),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return fr(Gt),null;case 25:return null;default:return null}}function Uy(n,r){switch(ef(r),r.tag){case 3:fr(Gt),xe();break;case 26:case 27:case 5:Ne(r);break;case 4:xe();break;case 13:pr(r);break;case 19:Q($t);break;case 10:fr(r.type);break;case 22:case 23:pr(r),pf(),n!==null&&Q(ea);break;case 24:fr(Gt)}}function Ro(n,r){try{var a=r.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var f=o.next;a=f;do{if((a.tag&n)===n){o=void 0;var p=a.create,S=a.inst;o=p(),S.destroy=o}a=a.next}while(a!==f)}}catch(D){ft(r,r.return,D)}}function Yr(n,r,a){try{var o=r.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var p=f.next;o=p;do{if((o.tag&n)===n){var S=o.inst,D=S.destroy;if(D!==void 0){S.destroy=void 0,f=r;var G=a,ie=D;try{ie()}catch(me){ft(f,G,me)}}}o=o.next}while(o!==p)}}catch(me){ft(r,r.return,me)}}function zy(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{A0(r,a)}catch(o){ft(n,n.return,o)}}}function Fy(n,r,a){a.props=na(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(o){ft(n,r,o)}}function Io(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var o=n.stateNode;break;case 30:o=n.stateNode;break;default:o=n.stateNode}typeof a=="function"?n.refCleanup=a(o):a.current=o}}catch(f){ft(n,r,f)}}function Ds(n,r){var a=n.ref,o=n.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(f){ft(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){ft(n,r,f)}else a.current=null}function qy(n){var r=n.type,a=n.memoizedProps,o=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(f){ft(n,n.return,f)}}function Bf(n,r,a){try{var o=n.stateNode;RE(o,n.type,a,r),o[kt]=r}catch(f){ft(n,n.return,f)}}function By(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ni(n.type)||n.tag===4}function Hf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||By(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ni(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Gf(n,r,a){var o=n.tag;if(o===5||o===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Yu));else if(o!==4&&(o===27&&ni(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(Gf(n,r,a),n=n.sibling;n!==null;)Gf(n,r,a),n=n.sibling}function Lu(n,r,a){var o=n.tag;if(o===5||o===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(o!==4&&(o===27&&ni(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Lu(n,r,a),n=n.sibling;n!==null;)Lu(n,r,a),n=n.sibling}function Hy(n){var r=n.stateNode,a=n.memoizedProps;try{for(var o=n.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);on(r,o,a),r[qt]=n,r[kt]=a}catch(p){ft(n,n.return,p)}}var vr=!1,Ot=!1,$f=!1,Gy=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function cE(n,r){if(n=n.containerInfo,gm=td,n=n0(n),Bh(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var f=o.anchorOffset,p=o.focusNode;o=o.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var S=0,D=-1,G=-1,ie=0,me=0,ge=n,le=null;t:for(;;){for(var ce;ge!==a||f!==0&&ge.nodeType!==3||(D=S+f),ge!==p||o!==0&&ge.nodeType!==3||(G=S+o),ge.nodeType===3&&(S+=ge.nodeValue.length),(ce=ge.firstChild)!==null;)le=ge,ge=ce;for(;;){if(ge===n)break t;if(le===a&&++ie===f&&(D=S),le===p&&++me===o&&(G=S),(ce=ge.nextSibling)!==null)break;ge=le,le=ge.parentNode}ge=ce}a=D===-1||G===-1?null:{start:D,end:G}}else a=null}a=a||{start:0,end:0}}else a=null;for(ym={focusedElem:n,selectionRange:a},td=!1,Zt=r;Zt!==null;)if(r=Zt,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,Zt=n;else for(;Zt!==null;){switch(r=Zt,p=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,a=r,f=p.memoizedProps,p=p.memoizedState,o=a.stateNode;try{var Ve=na(a.type,f,a.elementType===a.type);n=o.getSnapshotBeforeUpdate(Ve,p),o.__reactInternalSnapshotBeforeUpdate=n}catch(De){ft(a,a.return,De)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)bm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":bm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=r.sibling,n!==null){n.return=r.return,Zt=n;break}Zt=r.return}}function $y(n,r,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Kr(n,a),o&4&&Ro(5,a);break;case 1:if(Kr(n,a),o&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(S){ft(a,a.return,S)}else{var f=na(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(S){ft(a,a.return,S)}}o&64&&zy(a),o&512&&Io(a,a.return);break;case 3:if(Kr(n,a),o&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{A0(n,r)}catch(S){ft(a,a.return,S)}}break;case 27:r===null&&o&4&&Hy(a);case 26:case 5:Kr(n,a),r===null&&o&4&&qy(a),o&512&&Io(a,a.return);break;case 12:Kr(n,a);break;case 13:Kr(n,a),o&4&&Ky(n,a),o&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=vE.bind(null,a),PE(n,a))));break;case 22:if(o=a.memoizedState!==null||vr,!o){r=r!==null&&r.memoizedState!==null||Ot,f=vr;var p=Ot;vr=o,(Ot=r)&&!p?Xr(n,a,(a.subtreeFlags&8772)!==0):Kr(n,a),vr=f,Ot=p}break;case 30:break;default:Kr(n,a)}}function Qy(n){var r=n.alternate;r!==null&&(n.alternate=null,Qy(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&Lr(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var wt=null,jn=!1;function xr(n,r,a){for(a=a.child;a!==null;)Yy(n,r,a),a=a.sibling}function Yy(n,r,a){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(bt,a)}catch{}switch(a.tag){case 26:Ot||Ds(a,r),xr(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ot||Ds(a,r);var o=wt,f=jn;ni(a.type)&&(wt=a.stateNode,jn=!1),xr(n,r,a),Uo(a.stateNode),wt=o,jn=f;break;case 5:Ot||Ds(a,r);case 6:if(o=wt,f=jn,wt=null,xr(n,r,a),wt=o,jn=f,wt!==null)if(jn)try{(wt.nodeType===9?wt.body:wt.nodeName==="HTML"?wt.ownerDocument.body:wt).removeChild(a.stateNode)}catch(p){ft(a,r,p)}else try{wt.removeChild(a.stateNode)}catch(p){ft(a,r,p)}break;case 18:wt!==null&&(jn?(n=wt,Pv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Qo(n)):Pv(wt,a.stateNode));break;case 4:o=wt,f=jn,wt=a.stateNode.containerInfo,jn=!0,xr(n,r,a),wt=o,jn=f;break;case 0:case 11:case 14:case 15:Ot||Yr(2,a,r),Ot||Yr(4,a,r),xr(n,r,a);break;case 1:Ot||(Ds(a,r),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Fy(a,r,o)),xr(n,r,a);break;case 21:xr(n,r,a);break;case 22:Ot=(o=Ot)||a.memoizedState!==null,xr(n,r,a),Ot=o;break;default:xr(n,r,a)}}function Ky(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Qo(n)}catch(a){ft(r,r.return,a)}}function uE(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new Gy),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new Gy),r;default:throw Error(i(435,n.tag))}}function Qf(n,r){var a=uE(n);r.forEach(function(o){var f=xE.bind(null,n,o);a.has(o)||(a.add(o),o.then(f,f))})}function Vn(n,r){var a=r.deletions;if(a!==null)for(var o=0;o<a.length;o++){var f=a[o],p=n,S=r,D=S;e:for(;D!==null;){switch(D.tag){case 27:if(ni(D.type)){wt=D.stateNode,jn=!1;break e}break;case 5:wt=D.stateNode,jn=!1;break e;case 3:case 4:wt=D.stateNode.containerInfo,jn=!0;break e}D=D.return}if(wt===null)throw Error(i(160));Yy(p,S,f),wt=null,jn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Xy(r,n),r=r.sibling}var us=null;function Xy(n,r){var a=n.alternate,o=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Vn(r,n),Un(n),o&4&&(Yr(3,n,n.return),Ro(3,n),Yr(5,n,n.return));break;case 1:Vn(r,n),Un(n),o&512&&(Ot||a===null||Ds(a,a.return)),o&64&&vr&&(n=n.updateQueue,n!==null&&(o=n.callbacks,o!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var f=us;if(Vn(r,n),Un(n),o&512&&(Ot||a===null||Ds(a,a.return)),o&4){var p=a!==null?a.memoizedState:null;if(o=n.memoizedState,a===null)if(o===null)if(n.stateNode===null){e:{o=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(o){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Ci]||p[qt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(o),f.head.insertBefore(p,f.querySelector("head > title"))),on(p,o,a),p[qt]=n,It(p),o=p;break e;case"link":var S=Hv("link","href",f).get(o+(a.href||""));if(S){for(var D=0;D<S.length;D++)if(p=S[D],p.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){S.splice(D,1);break t}}p=f.createElement(o),on(p,o,a),f.head.appendChild(p);break;case"meta":if(S=Hv("meta","content",f).get(o+(a.content||""))){for(D=0;D<S.length;D++)if(p=S[D],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){S.splice(D,1);break t}}p=f.createElement(o),on(p,o,a),f.head.appendChild(p);break;default:throw Error(i(468,o))}p[qt]=n,It(p),o=p}n.stateNode=o}else Gv(f,n.type,n.stateNode);else n.stateNode=Bv(f,o,n.memoizedProps);else p!==o?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,o===null?Gv(f,n.type,n.stateNode):Bv(f,o,n.memoizedProps)):o===null&&n.stateNode!==null&&Bf(n,n.memoizedProps,a.memoizedProps)}break;case 27:Vn(r,n),Un(n),o&512&&(Ot||a===null||Ds(a,a.return)),a!==null&&o&4&&Bf(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Vn(r,n),Un(n),o&512&&(Ot||a===null||Ds(a,a.return)),n.flags&32){f=n.stateNode;try{Gn(f,"")}catch(ce){ft(n,n.return,ce)}}o&4&&n.stateNode!=null&&(f=n.memoizedProps,Bf(n,f,a!==null?a.memoizedProps:f)),o&1024&&($f=!0);break;case 6:if(Vn(r,n),Un(n),o&4){if(n.stateNode===null)throw Error(i(162));o=n.memoizedProps,a=n.stateNode;try{a.nodeValue=o}catch(ce){ft(n,n.return,ce)}}break;case 3:if(Zu=null,f=us,us=Xu(r.containerInfo),Vn(r,n),us=f,Un(n),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Qo(r.containerInfo)}catch(ce){ft(n,n.return,ce)}$f&&($f=!1,Wy(n));break;case 4:o=us,us=Xu(n.stateNode.containerInfo),Vn(r,n),Un(n),us=o;break;case 12:Vn(r,n),Un(n);break;case 13:Vn(r,n),Un(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Jf=je()),o&4&&(o=n.updateQueue,o!==null&&(n.updateQueue=null,Qf(n,o)));break;case 22:f=n.memoizedState!==null;var G=a!==null&&a.memoizedState!==null,ie=vr,me=Ot;if(vr=ie||f,Ot=me||G,Vn(r,n),Ot=me,vr=ie,Un(n),o&8192)e:for(r=n.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||G||vr||Ot||sa(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){G=a=r;try{if(p=G.stateNode,f)S=p.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{D=G.stateNode;var ge=G.memoizedProps.style,le=ge!=null&&ge.hasOwnProperty("display")?ge.display:null;D.style.display=le==null||typeof le=="boolean"?"":(""+le).trim()}}catch(ce){ft(G,G.return,ce)}}}else if(r.tag===6){if(a===null){G=r;try{G.stateNode.nodeValue=f?"":G.memoizedProps}catch(ce){ft(G,G.return,ce)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}o&4&&(o=n.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Qf(n,a))));break;case 19:Vn(r,n),Un(n),o&4&&(o=n.updateQueue,o!==null&&(n.updateQueue=null,Qf(n,o)));break;case 30:break;case 21:break;default:Vn(r,n),Un(n)}}function Un(n){var r=n.flags;if(r&2){try{for(var a,o=n.return;o!==null;){if(By(o)){a=o;break}o=o.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var f=a.stateNode,p=Hf(n);Lu(n,p,f);break;case 5:var S=a.stateNode;a.flags&32&&(Gn(S,""),a.flags&=-33);var D=Hf(n);Lu(n,D,S);break;case 3:case 4:var G=a.stateNode.containerInfo,ie=Hf(n);Gf(n,ie,G);break;default:throw Error(i(161))}}catch(me){ft(n,n.return,me)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function Wy(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;Wy(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Kr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)$y(n,r.alternate,r),r=r.sibling}function sa(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Yr(4,r,r.return),sa(r);break;case 1:Ds(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Fy(r,r.return,a),sa(r);break;case 27:Uo(r.stateNode);case 26:case 5:Ds(r,r.return),sa(r);break;case 22:r.memoizedState===null&&sa(r);break;case 30:sa(r);break;default:sa(r)}n=n.sibling}}function Xr(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var o=r.alternate,f=n,p=r,S=p.flags;switch(p.tag){case 0:case 11:case 15:Xr(f,p,a),Ro(4,p);break;case 1:if(Xr(f,p,a),o=p,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(ie){ft(o,o.return,ie)}if(o=p,f=o.updateQueue,f!==null){var D=o.stateNode;try{var G=f.shared.hiddenCallbacks;if(G!==null)for(f.shared.hiddenCallbacks=null,f=0;f<G.length;f++)N0(G[f],D)}catch(ie){ft(o,o.return,ie)}}a&&S&64&&zy(p),Io(p,p.return);break;case 27:Hy(p);case 26:case 5:Xr(f,p,a),a&&o===null&&S&4&&qy(p),Io(p,p.return);break;case 12:Xr(f,p,a);break;case 13:Xr(f,p,a),a&&S&4&&Ky(f,p);break;case 22:p.memoizedState===null&&Xr(f,p,a),Io(p,p.return);break;case 30:break;default:Xr(f,p,a)}r=r.sibling}}function Yf(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&po(a))}function Kf(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&po(n))}function ks(n,r,a,o){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Zy(n,r,a,o),r=r.sibling}function Zy(n,r,a,o){var f=r.flags;switch(r.tag){case 0:case 11:case 15:ks(n,r,a,o),f&2048&&Ro(9,r);break;case 1:ks(n,r,a,o);break;case 3:ks(n,r,a,o),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&po(n)));break;case 12:if(f&2048){ks(n,r,a,o),n=r.stateNode;try{var p=r.memoizedProps,S=p.id,D=p.onPostCommit;typeof D=="function"&&D(S,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(G){ft(r,r.return,G)}}else ks(n,r,a,o);break;case 13:ks(n,r,a,o);break;case 23:break;case 22:p=r.stateNode,S=r.alternate,r.memoizedState!==null?p._visibility&2?ks(n,r,a,o):Co(n,r):p._visibility&2?ks(n,r,a,o):(p._visibility|=2,Ja(n,r,a,o,(r.subtreeFlags&10256)!==0)),f&2048&&Yf(S,r);break;case 24:ks(n,r,a,o),f&2048&&Kf(r.alternate,r);break;default:ks(n,r,a,o)}}function Ja(n,r,a,o,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var p=n,S=r,D=a,G=o,ie=S.flags;switch(S.tag){case 0:case 11:case 15:Ja(p,S,D,G,f),Ro(8,S);break;case 23:break;case 22:var me=S.stateNode;S.memoizedState!==null?me._visibility&2?Ja(p,S,D,G,f):Co(p,S):(me._visibility|=2,Ja(p,S,D,G,f)),f&&ie&2048&&Yf(S.alternate,S);break;case 24:Ja(p,S,D,G,f),f&&ie&2048&&Kf(S.alternate,S);break;default:Ja(p,S,D,G,f)}r=r.sibling}}function Co(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,o=r,f=o.flags;switch(o.tag){case 22:Co(a,o),f&2048&&Yf(o.alternate,o);break;case 24:Co(a,o),f&2048&&Kf(o.alternate,o);break;default:Co(a,o)}r=r.sibling}}var Oo=8192;function el(n){if(n.subtreeFlags&Oo)for(n=n.child;n!==null;)Jy(n),n=n.sibling}function Jy(n){switch(n.tag){case 26:el(n),n.flags&Oo&&n.memoizedState!==null&&KE(us,n.memoizedState,n.memoizedProps);break;case 5:el(n);break;case 3:case 4:var r=us;us=Xu(n.stateNode.containerInfo),el(n),us=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=Oo,Oo=16777216,el(n),Oo=r):el(n));break;default:el(n)}}function ev(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Do(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var o=r[a];Zt=o,nv(o,n)}ev(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)tv(n),n=n.sibling}function tv(n){switch(n.tag){case 0:case 11:case 15:Do(n),n.flags&2048&&Yr(9,n,n.return);break;case 3:Do(n);break;case 12:Do(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Vu(n)):Do(n);break;default:Do(n)}}function Vu(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var o=r[a];Zt=o,nv(o,n)}ev(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Yr(8,r,r.return),Vu(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Vu(r));break;default:Vu(r)}n=n.sibling}}function nv(n,r){for(;Zt!==null;){var a=Zt;switch(a.tag){case 0:case 11:case 15:Yr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:po(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Zt=o;else e:for(a=n;Zt!==null;){o=Zt;var f=o.sibling,p=o.return;if(Qy(o),o===a){Zt=null;break e}if(f!==null){f.return=p,Zt=f;break e}Zt=p}}}var dE={getCacheForType:function(n){var r=fn(Gt),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},hE=typeof WeakMap=="function"?WeakMap:Map,at=0,mt=null,Ye=null,et=0,lt=0,zn=null,Wr=!1,tl=!1,Xf=!1,br=0,jt=0,Zr=0,ra=0,Wf=0,es=0,nl=0,ko=null,Rn=null,Zf=!1,Jf=0,Uu=1/0,zu=null,Jr=null,ln=0,ei=null,sl=null,rl=0,em=0,tm=null,sv=null,Mo=0,nm=null;function Fn(){if((at&2)!==0&&et!==0)return et&-et;if(L.T!==null){var n=Ga;return n!==0?n:cm()}return Mr()}function rv(){es===0&&(es=(et&536870912)===0||st?Bl():536870912);var n=Jn.current;return n!==null&&(n.flags|=32),es}function qn(n,r,a){(n===mt&&(lt===2||lt===9)||n.cancelPendingCommit!==null)&&(il(n,0),ti(n,et,es,!1)),Zs(n,a),((at&2)===0||n!==mt)&&(n===mt&&((at&2)===0&&(ra|=a),jt===4&&ti(n,et,es,!1)),Ms(n))}function iv(n,r,a){if((at&6)!==0)throw Error(i(327));var o=!a&&(r&124)===0&&(r&n.expiredLanes)===0||Ii(n,r),f=o?pE(n,r):im(n,r,!0),p=o;do{if(f===0){tl&&!o&&ti(n,r,0,!1);break}else{if(a=n.current.alternate,p&&!fE(a)){f=im(n,r,!1),p=!1;continue}if(f===2){if(p=r,n.errorRecoveryDisabledLanes&p)var S=0;else S=n.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){r=S;e:{var D=n;f=ko;var G=D.current.memoizedState.isDehydrated;if(G&&(il(D,S).flags|=256),S=im(D,S,!1),S!==2){if(Xf&&!G){D.errorRecoveryDisabledLanes|=p,ra|=p,f=4;break e}p=Rn,Rn=f,p!==null&&(Rn===null?Rn=p:Rn.push.apply(Rn,p))}f=S}if(p=!1,f!==2)continue}}if(f===1){il(n,0),ti(n,r,0,!0);break}e:{switch(o=n,p=f,p){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:ti(o,r,es,!Wr);break e;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(f=Jf+300-je(),10<f)){if(ti(o,r,es,!Wr),wa(o,0,!0)!==0)break e;o.timeoutHandle=kv(av.bind(null,o,a,Rn,zu,Zf,r,es,ra,nl,Wr,p,2,-0,0),f);break e}av(o,a,Rn,zu,Zf,r,es,ra,nl,Wr,p,0,-0,0)}}break}while(!0);Ms(n)}function av(n,r,a,o,f,p,S,D,G,ie,me,ge,le,ce){if(n.timeoutHandle=-1,ge=r.subtreeFlags,(ge&8192||(ge&16785408)===16785408)&&(qo={stylesheets:null,count:0,unsuspend:YE},Jy(r),ge=XE(),ge!==null)){n.cancelPendingCommit=ge(fv.bind(null,n,r,p,a,o,f,S,D,G,me,1,le,ce)),ti(n,p,S,!ie);return}fv(n,r,p,a,o,f,S,D,G)}function fE(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var f=a[o],p=f.getSnapshot;f=f.value;try{if(!Pn(p(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ti(n,r,a,o){r&=~Wf,r&=~ra,n.suspendedLanes|=r,n.pingedLanes&=~r,o&&(n.warmLanes|=r),o=n.expirationTimes;for(var f=r;0<f;){var p=31-hn(f),S=1<<p;o[p]=-1,f&=~S}a!==0&&bs(n,a,r)}function Fu(){return(at&6)===0?(Po(0),!1):!0}function sm(){if(Ye!==null){if(lt===0)var n=Ye.return;else n=Ye,hr=Zi=null,bf(n),Wa=null,No=0,n=Ye;for(;n!==null;)Uy(n.alternate,n),n=n.return;Ye=null}}function il(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,CE(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),sm(),mt=n,Ye=a=cr(n.current,null),et=r,lt=0,zn=null,Wr=!1,tl=Ii(n,r),Xf=!1,nl=es=Wf=ra=Zr=jt=0,Rn=ko=null,Zf=!1,(r&8)!==0&&(r|=r&32);var o=n.entangledLanes;if(o!==0)for(n=n.entanglements,o&=r;0<o;){var f=31-hn(o),p=1<<f;r|=n[f],o&=~p}return br=r,cu(),a}function lv(n,r){Be=null,L.H=ju,r===yo||r===vu?(r=T0(),lt=3):r===_0?(r=T0(),lt=4):lt=r===Sy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,zn=r,Ye===null&&(jt=1,Du(n,Kn(r,n.current)))}function ov(){var n=L.H;return L.H=ju,n===null?ju:n}function cv(){var n=L.A;return L.A=dE,n}function rm(){jt=4,Wr||(et&4194048)!==et&&Jn.current!==null||(tl=!0),(Zr&134217727)===0&&(ra&134217727)===0||mt===null||ti(mt,et,es,!1)}function im(n,r,a){var o=at;at|=2;var f=ov(),p=cv();(mt!==n||et!==r)&&(zu=null,il(n,r)),r=!1;var S=jt;e:do try{if(lt!==0&&Ye!==null){var D=Ye,G=zn;switch(lt){case 8:sm(),S=6;break e;case 3:case 2:case 9:case 6:Jn.current===null&&(r=!0);var ie=lt;if(lt=0,zn=null,al(n,D,G,ie),a&&tl){S=0;break e}break;default:ie=lt,lt=0,zn=null,al(n,D,G,ie)}}mE(),S=jt;break}catch(me){lv(n,me)}while(!0);return r&&n.shellSuspendCounter++,hr=Zi=null,at=o,L.H=f,L.A=p,Ye===null&&(mt=null,et=0,cu()),S}function mE(){for(;Ye!==null;)uv(Ye)}function pE(n,r){var a=at;at|=2;var o=ov(),f=cv();mt!==n||et!==r?(zu=null,Uu=je()+500,il(n,r)):tl=Ii(n,r);e:do try{if(lt!==0&&Ye!==null){r=Ye;var p=zn;t:switch(lt){case 1:lt=0,zn=null,al(n,r,p,1);break;case 2:case 9:if(w0(p)){lt=0,zn=null,dv(r);break}r=function(){lt!==2&&lt!==9||mt!==n||(lt=7),Ms(n)},p.then(r,r);break e;case 3:lt=7;break e;case 4:lt=5;break e;case 7:w0(p)?(lt=0,zn=null,dv(r)):(lt=0,zn=null,al(n,r,p,7));break;case 5:var S=null;switch(Ye.tag){case 26:S=Ye.memoizedState;case 5:case 27:var D=Ye;if(!S||$v(S)){lt=0,zn=null;var G=D.sibling;if(G!==null)Ye=G;else{var ie=D.return;ie!==null?(Ye=ie,qu(ie)):Ye=null}break t}}lt=0,zn=null,al(n,r,p,5);break;case 6:lt=0,zn=null,al(n,r,p,6);break;case 8:sm(),jt=6;break e;default:throw Error(i(462))}}gE();break}catch(me){lv(n,me)}while(!0);return hr=Zi=null,L.H=o,L.A=f,at=a,Ye!==null?0:(mt=null,et=0,cu(),jt)}function gE(){for(;Ye!==null&&!Oe();)uv(Ye)}function uv(n){var r=Ly(n.alternate,n,br);n.memoizedProps=n.pendingProps,r===null?qu(n):Ye=r}function dv(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=Cy(a,r,r.pendingProps,r.type,void 0,et);break;case 11:r=Cy(a,r,r.pendingProps,r.type.render,r.ref,et);break;case 5:bf(r);default:Uy(a,r),r=Ye=h0(r,br),r=Ly(a,r,br)}n.memoizedProps=n.pendingProps,r===null?qu(n):Ye=r}function al(n,r,a,o){hr=Zi=null,bf(r),Wa=null,No=0;var f=r.return;try{if(iE(n,f,r,a,et)){jt=1,Du(n,Kn(a,n.current)),Ye=null;return}}catch(p){if(f!==null)throw Ye=f,p;jt=1,Du(n,Kn(a,n.current)),Ye=null;return}r.flags&32768?(st||o===1?n=!0:tl||(et&536870912)!==0?n=!1:(Wr=n=!0,(o===2||o===9||o===3||o===6)&&(o=Jn.current,o!==null&&o.tag===13&&(o.flags|=16384))),hv(r,n)):qu(r)}function qu(n){var r=n;do{if((r.flags&32768)!==0){hv(r,Wr);return}n=r.return;var a=lE(r.alternate,r,br);if(a!==null){Ye=a;return}if(r=r.sibling,r!==null){Ye=r;return}Ye=r=n}while(r!==null);jt===0&&(jt=5)}function hv(n,r){do{var a=oE(n.alternate,n);if(a!==null){a.flags&=32767,Ye=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){Ye=n;return}Ye=n=a}while(n!==null);jt=6,Ye=null}function fv(n,r,a,o,f,p,S,D,G){n.cancelPendingCommit=null;do Bu();while(ln!==0);if((at&6)!==0)throw Error(i(327));if(r!==null){if(r===n.current)throw Error(i(177));if(p=r.lanes|r.childLanes,p|=Yh,Gl(n,a,p,S,D,G),n===mt&&(Ye=mt=null,et=0),sl=r,ei=n,rl=a,em=p,tm=f,sv=o,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,bE(Rt,function(){return vv(),null})):(n.callbackNode=null,n.callbackPriority=0),o=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||o){o=L.T,L.T=null,f=_.p,_.p=2,S=at,at|=4;try{cE(n,r,a)}finally{at=S,_.p=f,L.T=o}}ln=1,mv(),pv(),gv()}}function mv(){if(ln===1){ln=0;var n=ei,r=sl,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=L.T,L.T=null;var o=_.p;_.p=2;var f=at;at|=4;try{Xy(r,n);var p=ym,S=n0(n.containerInfo),D=p.focusedElem,G=p.selectionRange;if(S!==D&&D&&D.ownerDocument&&t0(D.ownerDocument.documentElement,D)){if(G!==null&&Bh(D)){var ie=G.start,me=G.end;if(me===void 0&&(me=ie),"selectionStart"in D)D.selectionStart=ie,D.selectionEnd=Math.min(me,D.value.length);else{var ge=D.ownerDocument||document,le=ge&&ge.defaultView||window;if(le.getSelection){var ce=le.getSelection(),Ve=D.textContent.length,De=Math.min(G.start,Ve),ht=G.end===void 0?De:Math.min(G.end,Ve);!ce.extend&&De>ht&&(S=ht,ht=De,De=S);var ee=e0(D,De),W=e0(D,ht);if(ee&&W&&(ce.rangeCount!==1||ce.anchorNode!==ee.node||ce.anchorOffset!==ee.offset||ce.focusNode!==W.node||ce.focusOffset!==W.offset)){var re=ge.createRange();re.setStart(ee.node,ee.offset),ce.removeAllRanges(),De>ht?(ce.addRange(re),ce.extend(W.node,W.offset)):(re.setEnd(W.node,W.offset),ce.addRange(re))}}}}for(ge=[],ce=D;ce=ce.parentNode;)ce.nodeType===1&&ge.push({element:ce,left:ce.scrollLeft,top:ce.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<ge.length;D++){var pe=ge[D];pe.element.scrollLeft=pe.left,pe.element.scrollTop=pe.top}}td=!!gm,ym=gm=null}finally{at=f,_.p=o,L.T=a}}n.current=r,ln=2}}function pv(){if(ln===2){ln=0;var n=ei,r=sl,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=L.T,L.T=null;var o=_.p;_.p=2;var f=at;at|=4;try{$y(n,r.alternate,r)}finally{at=f,_.p=o,L.T=a}}ln=3}}function gv(){if(ln===4||ln===3){ln=0,Ge();var n=ei,r=sl,a=rl,o=sv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?ln=5:(ln=0,sl=ei=null,yv(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Jr=null),Ea(a),r=r.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(bt,r,void 0,(r.current.flags&128)===128)}catch{}if(o!==null){r=L.T,f=_.p,_.p=2,L.T=null;try{for(var p=n.onRecoverableError,S=0;S<o.length;S++){var D=o[S];p(D.value,{componentStack:D.stack})}}finally{L.T=r,_.p=f}}(rl&3)!==0&&Bu(),Ms(n),f=n.pendingLanes,(a&4194090)!==0&&(f&42)!==0?n===nm?Mo++:(Mo=0,nm=n):Mo=0,Po(0)}}function yv(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,po(r)))}function Bu(n){return mv(),pv(),gv(),vv()}function vv(){if(ln!==5)return!1;var n=ei,r=em;em=0;var a=Ea(rl),o=L.T,f=_.p;try{_.p=32>a?32:a,L.T=null,a=tm,tm=null;var p=ei,S=rl;if(ln=0,sl=ei=null,rl=0,(at&6)!==0)throw Error(i(331));var D=at;if(at|=4,tv(p.current),Zy(p,p.current,S,a),at=D,Po(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(bt,p)}catch{}return!0}finally{_.p=f,L.T=o,yv(n,r)}}function xv(n,r,a){r=Kn(a,r),r=kf(n.stateNode,r,2),n=Hr(n,r,2),n!==null&&(Zs(n,2),Ms(n))}function ft(n,r,a){if(n.tag===3)xv(n,n,a);else for(;r!==null;){if(r.tag===3){xv(r,n,a);break}else if(r.tag===1){var o=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Jr===null||!Jr.has(o))){n=Kn(a,n),a=Ey(2),o=Hr(r,a,2),o!==null&&(Ty(a,o,r,n),Zs(o,2),Ms(o));break}}r=r.return}}function am(n,r,a){var o=n.pingCache;if(o===null){o=n.pingCache=new hE;var f=new Set;o.set(r,f)}else f=o.get(r),f===void 0&&(f=new Set,o.set(r,f));f.has(a)||(Xf=!0,f.add(a),n=yE.bind(null,n,r,a),r.then(n,n))}function yE(n,r,a){var o=n.pingCache;o!==null&&o.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,mt===n&&(et&a)===a&&(jt===4||jt===3&&(et&62914560)===et&&300>je()-Jf?(at&2)===0&&il(n,0):Wf|=a,nl===et&&(nl=0)),Ms(n)}function bv(n,r){r===0&&(r=Hl()),n=Fa(n,r),n!==null&&(Zs(n,r),Ms(n))}function vE(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),bv(n,a)}function xE(n,r){var a=0;switch(n.tag){case 13:var o=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:o=n.stateNode;break;case 22:o=n.stateNode._retryCache;break;default:throw Error(i(314))}o!==null&&o.delete(r),bv(n,a)}function bE(n,r){return Pe(n,r)}var Hu=null,ll=null,lm=!1,Gu=!1,om=!1,ia=0;function Ms(n){n!==ll&&n.next===null&&(ll===null?Hu=ll=n:ll=ll.next=n),Gu=!0,lm||(lm=!0,wE())}function Po(n,r){if(!om&&Gu){om=!0;do for(var a=!1,o=Hu;o!==null;){if(n!==0){var f=o.pendingLanes;if(f===0)var p=0;else{var S=o.suspendedLanes,D=o.pingedLanes;p=(1<<31-hn(42|n)+1)-1,p&=f&~(S&~D),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(a=!0,Tv(o,p))}else p=et,p=wa(o,o===mt?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(p&3)===0||Ii(o,p)||(a=!0,Tv(o,p));o=o.next}while(a);om=!1}}function _E(){_v()}function _v(){Gu=lm=!1;var n=0;ia!==0&&(IE()&&(n=ia),ia=0);for(var r=je(),a=null,o=Hu;o!==null;){var f=o.next,p=wv(o,r);p===0?(o.next=null,a===null?Hu=f:a.next=f,f===null&&(ll=a)):(a=o,(n!==0||(p&3)!==0)&&(Gu=!0)),o=f}Po(n)}function wv(n,r){for(var a=n.suspendedLanes,o=n.pingedLanes,f=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var S=31-hn(p),D=1<<S,G=f[S];G===-1?((D&a)===0||(D&o)!==0)&&(f[S]=ql(D,r)):G<=r&&(n.expiredLanes|=D),p&=~D}if(r=mt,a=et,a=wa(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),o=n.callbackNode,a===0||n===r&&(lt===2||lt===9)||n.cancelPendingCommit!==null)return o!==null&&o!==null&&Re(o),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Ii(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(o!==null&&Re(o),Ea(a)){case 2:case 8:a=xt;break;case 32:a=Rt;break;case 268435456:a=is;break;default:a=Rt}return o=Ev.bind(null,n),a=Pe(a,o),n.callbackPriority=r,n.callbackNode=a,r}return o!==null&&o!==null&&Re(o),n.callbackPriority=2,n.callbackNode=null,2}function Ev(n,r){if(ln!==0&&ln!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Bu()&&n.callbackNode!==a)return null;var o=et;return o=wa(n,n===mt?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),o===0?null:(iv(n,o,r),wv(n,je()),n.callbackNode!=null&&n.callbackNode===a?Ev.bind(null,n):null)}function Tv(n,r){if(Bu())return null;iv(n,r,!0)}function wE(){OE(function(){(at&6)!==0?Pe(vt,_E):_v()})}function cm(){return ia===0&&(ia=Bl()),ia}function Sv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ra(""+n)}function Nv(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function EE(n,r,a,o,f){if(r==="submit"&&a&&a.stateNode===f){var p=Sv((f[kt]||null).action),S=o.submitter;S&&(r=(r=S[kt]||null)?Sv(r.formAction):S.getAttribute("formAction"),r!==null&&(p=r,S=null));var D=new Ia("action","action",null,o,f);n.push({event:D,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ia!==0){var G=S?Nv(f,S):new FormData(f);Rf(a,{pending:!0,data:G,method:f.method,action:p},null,G)}}else typeof p=="function"&&(D.preventDefault(),G=S?Nv(f,S):new FormData(f),Rf(a,{pending:!0,data:G,method:f.method,action:p},p,G))},currentTarget:f}]})}}for(var um=0;um<Qh.length;um++){var dm=Qh[um],TE=dm.toLowerCase(),SE=dm[0].toUpperCase()+dm.slice(1);cs(TE,"on"+SE)}cs(i0,"onAnimationEnd"),cs(a0,"onAnimationIteration"),cs(l0,"onAnimationStart"),cs("dblclick","onDoubleClick"),cs("focusin","onFocus"),cs("focusout","onBlur"),cs(q2,"onTransitionRun"),cs(B2,"onTransitionStart"),cs(H2,"onTransitionCancel"),cs(o0,"onTransitionEnd"),er("onMouseEnter",["mouseout","mouseover"]),er("onMouseLeave",["mouseout","mouseover"]),er("onPointerEnter",["pointerout","pointerover"]),er("onPointerLeave",["pointerout","pointerover"]),ls("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ls("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ls("onBeforeInput",["compositionend","keypress","textInput","paste"]),ls("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ls("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ls("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lo));function Av(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var o=n[a],f=o.event;o=o.listeners;e:{var p=void 0;if(r)for(var S=o.length-1;0<=S;S--){var D=o[S],G=D.instance,ie=D.currentTarget;if(D=D.listener,G!==p&&f.isPropagationStopped())break e;p=D,f.currentTarget=ie;try{p(f)}catch(me){Ou(me)}f.currentTarget=null,p=G}else for(S=0;S<o.length;S++){if(D=o[S],G=D.instance,ie=D.currentTarget,D=D.listener,G!==p&&f.isPropagationStopped())break e;p=D,f.currentTarget=ie;try{p(f)}catch(me){Ou(me)}f.currentTarget=null,p=G}}}}function Ke(n,r){var a=r[Ql];a===void 0&&(a=r[Ql]=new Set);var o=n+"__bubble";a.has(o)||(jv(r,n,2,!1),a.add(o))}function hm(n,r,a){var o=0;r&&(o|=4),jv(a,n,o,r)}var $u="_reactListening"+Math.random().toString(36).slice(2);function fm(n){if(!n[$u]){n[$u]=!0,Yl.forEach(function(a){a!=="selectionchange"&&(NE.has(a)||hm(a,!1,n),hm(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[$u]||(r[$u]=!0,hm("selectionchange",!1,r))}}function jv(n,r,a,o){switch(Zv(r)){case 2:var f=JE;break;case 8:f=eT;break;default:f=Am}a=f.bind(null,r,a,n),f=void 0,!Qn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),o?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function mm(n,r,a,o,f){var p=o;if((r&1)===0&&(r&2)===0&&o!==null)e:for(;;){if(o===null)return;var S=o.tag;if(S===3||S===4){var D=o.stateNode.containerInfo;if(D===f)break;if(S===4)for(S=o.return;S!==null;){var G=S.tag;if((G===3||G===4)&&S.stateNode.containerInfo===f)return;S=S.return}for(;D!==null;){if(S=Js(D),S===null)return;if(G=S.tag,G===5||G===6||G===26||G===27){o=p=S;continue e}D=D.parentNode}}o=o.return}Yc(function(){var ie=p,me=$n(a),ge=[];e:{var le=c0.get(n);if(le!==void 0){var ce=Ia,Ve=n;switch(n){case"keypress":if(Ns(a)===0)break e;case"keydown":case"keyup":ce=Pa;break;case"focusin":Ve="focus",ce=Da;break;case"focusout":Ve="blur",ce=Da;break;case"beforeblur":case"afterblur":ce=Da;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=Yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=Uh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=nu;break;case i0:case a0:case l0:ce=ka;break;case o0:ce=ru;break;case"scroll":case"scrollend":ce=Kc;break;case"wheel":ce=La;break;case"copy":case"cut":case"paste":ce=Ma;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=ao;break;case"toggle":case"beforetoggle":ce=au}var De=(r&4)!==0,ht=!De&&(n==="scroll"||n==="scrollend"),ee=De?le!==null?le+"Capture":null:le;De=[];for(var W=ie,re;W!==null;){var pe=W;if(re=pe.stateNode,pe=pe.tag,pe!==5&&pe!==26&&pe!==27||re===null||ee===null||(pe=Vi(W,ee),pe!=null&&De.push(Vo(W,pe,re))),ht)break;W=W.return}0<De.length&&(le=new ce(le,Ve,null,a,me),ge.push({event:le,listeners:De}))}}if((r&7)===0){e:{if(le=n==="mouseover"||n==="pointerover",ce=n==="mouseout"||n==="pointerout",le&&a!==sr&&(Ve=a.relatedTarget||a.fromElement)&&(Js(Ve)||Ve[Hn]))break e;if((ce||le)&&(le=me.window===me?me:(le=me.ownerDocument)?le.defaultView||le.parentWindow:window,ce?(Ve=a.relatedTarget||a.toElement,ce=ie,Ve=Ve?Js(Ve):null,Ve!==null&&(ht=c(Ve),De=Ve.tag,Ve!==ht||De!==5&&De!==27&&De!==6)&&(Ve=null)):(ce=null,Ve=ie),ce!==Ve)){if(De=Yn,pe="onMouseLeave",ee="onMouseEnter",W="mouse",(n==="pointerout"||n==="pointerover")&&(De=ao,pe="onPointerLeave",ee="onPointerEnter",W="pointer"),ht=ce==null?le:ws(ce),re=Ve==null?le:ws(Ve),le=new De(pe,W+"leave",ce,a,me),le.target=ht,le.relatedTarget=re,pe=null,Js(me)===ie&&(De=new De(ee,W+"enter",Ve,a,me),De.target=re,De.relatedTarget=ht,pe=De),ht=pe,ce&&Ve)t:{for(De=ce,ee=Ve,W=0,re=De;re;re=ol(re))W++;for(re=0,pe=ee;pe;pe=ol(pe))re++;for(;0<W-re;)De=ol(De),W--;for(;0<re-W;)ee=ol(ee),re--;for(;W--;){if(De===ee||ee!==null&&De===ee.alternate)break t;De=ol(De),ee=ol(ee)}De=null}else De=null;ce!==null&&Rv(ge,le,ce,De,!1),Ve!==null&&ht!==null&&Rv(ge,ht,Ve,De,!0)}}e:{if(le=ie?ws(ie):window,ce=le.nodeName&&le.nodeName.toLowerCase(),ce==="select"||ce==="input"&&le.type==="file")var Se=Yg;else if(Ht(le))if(Kg)Se=U2;else{Se=L2;var Qe=P2}else ce=le.nodeName,!ce||ce.toLowerCase()!=="input"||le.type!=="checkbox"&&le.type!=="radio"?ie&&Jl(ie.elementType)&&(Se=Yg):Se=V2;if(Se&&(Se=Se(n,ie))){or(ge,Se,a,me);break e}Qe&&Qe(n,le,ie),n==="focusout"&&ie&&le.type==="number"&&ie.memoizedProps.value!=null&&Ur(le,"number",le.value)}switch(Qe=ie?ws(ie):window,n){case"focusin":(Ht(Qe)||Qe.contentEditable==="true")&&(Va=Qe,Hh=ie,co=null);break;case"focusout":co=Hh=Va=null;break;case"mousedown":Gh=!0;break;case"contextmenu":case"mouseup":case"dragend":Gh=!1,s0(ge,a,me);break;case"selectionchange":if(F2)break;case"keydown":case"keyup":s0(ge,a,me)}var Ae;if(Rs)e:{switch(n){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Ze?ue(n,a)&&(Me="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Me="onCompositionStart");Me&&(E&&a.locale!=="ko"&&(Ze||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Ze&&(Ae=to()):(Ss=me,zr="value"in Ss?Ss.value:Ss.textContent,Ze=!0)),Qe=Qu(ie,Me),0<Qe.length&&(Me=new ro(Me,n,null,a,me),ge.push({event:Me,listeners:Qe}),Ae?Me.data=Ae:(Ae=be(a),Ae!==null&&(Me.data=Ae)))),(Ae=x?Bt(n,a):Je(n,a))&&(Me=Qu(ie,"onBeforeInput"),0<Me.length&&(Qe=new ro("onBeforeInput","beforeinput",null,a,me),ge.push({event:Qe,listeners:Me}),Qe.data=Ae)),EE(ge,n,ie,a,me)}Av(ge,r)})}function Vo(n,r,a){return{instance:n,listener:r,currentTarget:a}}function Qu(n,r){for(var a=r+"Capture",o=[];n!==null;){var f=n,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=Vi(n,a),f!=null&&o.unshift(Vo(n,f,p)),f=Vi(n,r),f!=null&&o.push(Vo(n,f,p))),n.tag===3)return o;n=n.return}return[]}function ol(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Rv(n,r,a,o,f){for(var p=r._reactName,S=[];a!==null&&a!==o;){var D=a,G=D.alternate,ie=D.stateNode;if(D=D.tag,G!==null&&G===o)break;D!==5&&D!==26&&D!==27||ie===null||(G=ie,f?(ie=Vi(a,p),ie!=null&&S.unshift(Vo(a,ie,G))):f||(ie=Vi(a,p),ie!=null&&S.push(Vo(a,ie,G)))),a=a.return}S.length!==0&&n.push({event:r,listeners:S})}var AE=/\r\n?/g,jE=/\u0000|\uFFFD/g;function Iv(n){return(typeof n=="string"?n:""+n).replace(AE,`
`).replace(jE,"")}function Cv(n,r){return r=Iv(r),Iv(n)===r}function Yu(){}function dt(n,r,a,o,f,p){switch(a){case"children":typeof o=="string"?r==="body"||r==="textarea"&&o===""||Gn(n,o):(typeof o=="number"||typeof o=="bigint")&&r!=="body"&&Gn(n,""+o);break;case"className":Es(n,"class",o);break;case"tabIndex":Es(n,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Es(n,a,o);break;case"style":Zl(n,o,p);break;case"data":if(r!=="object"){Es(n,"data",o);break}case"src":case"href":if(o===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){n.removeAttribute(a);break}o=Ra(""+o),n.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(r!=="input"&&dt(n,r,"name",f.name,f,null),dt(n,r,"formEncType",f.formEncType,f,null),dt(n,r,"formMethod",f.formMethod,f,null),dt(n,r,"formTarget",f.formTarget,f,null)):(dt(n,r,"encType",f.encType,f,null),dt(n,r,"method",f.method,f,null),dt(n,r,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){n.removeAttribute(a);break}o=Ra(""+o),n.setAttribute(a,o);break;case"onClick":o!=null&&(n.onclick=Yu);break;case"onScroll":o!=null&&Ke("scroll",n);break;case"onScrollEnd":o!=null&&Ke("scrollend",n);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(a=o.__html,a!=null){if(f.children!=null)throw Error(i(60));n.innerHTML=a}}break;case"multiple":n.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":n.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){n.removeAttribute("xlink:href");break}a=Ra(""+o),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?n.setAttribute(a,""+o):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":o===!0?n.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?n.setAttribute(a,o):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?n.setAttribute(a,o):n.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?n.removeAttribute(a):n.setAttribute(a,o);break;case"popover":Ke("beforetoggle",n),Ke("toggle",n),Vr(n,"popover",o);break;case"xlinkActuate":sn(n,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":sn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":sn(n,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":sn(n,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":sn(n,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":sn(n,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":sn(n,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":sn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":sn(n,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Vr(n,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Lh.get(a)||a,Vr(n,a,o))}}function pm(n,r,a,o,f,p){switch(a){case"style":Zl(n,o,p);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(a=o.__html,a!=null){if(f.children!=null)throw Error(i(60));n.innerHTML=a}}break;case"children":typeof o=="string"?Gn(n,o):(typeof o=="number"||typeof o=="bigint")&&Gn(n,""+o);break;case"onScroll":o!=null&&Ke("scroll",n);break;case"onScrollEnd":o!=null&&Ke("scrollend",n);break;case"onClick":o!=null&&(n.onclick=Yu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ta.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),p=n[kt]||null,p=p!=null?p[a]:null,typeof p=="function"&&n.removeEventListener(r,p,f),typeof o=="function")){typeof p!="function"&&p!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,o,f);break e}a in n?n[a]=o:o===!0?n.setAttribute(a,""):Vr(n,a,o)}}}function on(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ke("error",n),Ke("load",n);var o=!1,f=!1,p;for(p in a)if(a.hasOwnProperty(p)){var S=a[p];if(S!=null)switch(p){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:dt(n,r,p,S,a,null)}}f&&dt(n,r,"srcSet",a.srcSet,a,null),o&&dt(n,r,"src",a.src,a,null);return;case"input":Ke("invalid",n);var D=p=S=f=null,G=null,ie=null;for(o in a)if(a.hasOwnProperty(o)){var me=a[o];if(me!=null)switch(o){case"name":f=me;break;case"type":S=me;break;case"checked":G=me;break;case"defaultChecked":ie=me;break;case"value":p=me;break;case"defaultValue":D=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(i(137,r));break;default:dt(n,r,o,me,a,null)}}Mi(n,p,D,G,ie,S,f,!1),ja(n);return;case"select":Ke("invalid",n),o=S=p=null;for(f in a)if(a.hasOwnProperty(f)&&(D=a[f],D!=null))switch(f){case"value":p=D;break;case"defaultValue":S=D;break;case"multiple":o=D;default:dt(n,r,f,D,a,null)}r=p,a=S,n.multiple=!!o,r!=null?nr(n,!!o,r,!1):a!=null&&nr(n,!!o,a,!0);return;case"textarea":Ke("invalid",n),p=f=o=null;for(S in a)if(a.hasOwnProperty(S)&&(D=a[S],D!=null))switch(S){case"value":o=D;break;case"defaultValue":f=D;break;case"children":p=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(i(91));break;default:dt(n,r,S,D,a,null)}Pi(n,o,f,p),ja(n);return;case"option":for(G in a)if(a.hasOwnProperty(G)&&(o=a[G],o!=null))switch(G){case"selected":n.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:dt(n,r,G,o,a,null)}return;case"dialog":Ke("beforetoggle",n),Ke("toggle",n),Ke("cancel",n),Ke("close",n);break;case"iframe":case"object":Ke("load",n);break;case"video":case"audio":for(o=0;o<Lo.length;o++)Ke(Lo[o],n);break;case"image":Ke("error",n),Ke("load",n);break;case"details":Ke("toggle",n);break;case"embed":case"source":case"link":Ke("error",n),Ke("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ie in a)if(a.hasOwnProperty(ie)&&(o=a[ie],o!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:dt(n,r,ie,o,a,null)}return;default:if(Jl(r)){for(me in a)a.hasOwnProperty(me)&&(o=a[me],o!==void 0&&pm(n,r,me,o,a,void 0));return}}for(D in a)a.hasOwnProperty(D)&&(o=a[D],o!=null&&dt(n,r,D,o,a,null))}function RE(n,r,a,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,S=null,D=null,G=null,ie=null,me=null;for(ce in a){var ge=a[ce];if(a.hasOwnProperty(ce)&&ge!=null)switch(ce){case"checked":break;case"value":break;case"defaultValue":G=ge;default:o.hasOwnProperty(ce)||dt(n,r,ce,null,o,ge)}}for(var le in o){var ce=o[le];if(ge=a[le],o.hasOwnProperty(le)&&(ce!=null||ge!=null))switch(le){case"type":p=ce;break;case"name":f=ce;break;case"checked":ie=ce;break;case"defaultChecked":me=ce;break;case"value":S=ce;break;case"defaultValue":D=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(i(137,r));break;default:ce!==ge&&dt(n,r,le,ce,o,ge)}}Mn(n,S,D,G,ie,me,p,f);return;case"select":ce=S=D=le=null;for(p in a)if(G=a[p],a.hasOwnProperty(p)&&G!=null)switch(p){case"value":break;case"multiple":ce=G;default:o.hasOwnProperty(p)||dt(n,r,p,null,o,G)}for(f in o)if(p=o[f],G=a[f],o.hasOwnProperty(f)&&(p!=null||G!=null))switch(f){case"value":le=p;break;case"defaultValue":D=p;break;case"multiple":S=p;default:p!==G&&dt(n,r,f,p,o,G)}r=D,a=S,o=ce,le!=null?nr(n,!!a,le,!1):!!o!=!!a&&(r!=null?nr(n,!!a,r,!0):nr(n,!!a,a?[]:"",!1));return;case"textarea":ce=le=null;for(D in a)if(f=a[D],a.hasOwnProperty(D)&&f!=null&&!o.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:dt(n,r,D,null,o,f)}for(S in o)if(f=o[S],p=a[S],o.hasOwnProperty(S)&&(f!=null||p!=null))switch(S){case"value":le=f;break;case"defaultValue":ce=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==p&&dt(n,r,S,f,o,p)}ct(n,le,ce);return;case"option":for(var Ve in a)if(le=a[Ve],a.hasOwnProperty(Ve)&&le!=null&&!o.hasOwnProperty(Ve))switch(Ve){case"selected":n.selected=!1;break;default:dt(n,r,Ve,null,o,le)}for(G in o)if(le=o[G],ce=a[G],o.hasOwnProperty(G)&&le!==ce&&(le!=null||ce!=null))switch(G){case"selected":n.selected=le&&typeof le!="function"&&typeof le!="symbol";break;default:dt(n,r,G,le,o,ce)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in a)le=a[De],a.hasOwnProperty(De)&&le!=null&&!o.hasOwnProperty(De)&&dt(n,r,De,null,o,le);for(ie in o)if(le=o[ie],ce=a[ie],o.hasOwnProperty(ie)&&le!==ce&&(le!=null||ce!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(i(137,r));break;default:dt(n,r,ie,le,o,ce)}return;default:if(Jl(r)){for(var ht in a)le=a[ht],a.hasOwnProperty(ht)&&le!==void 0&&!o.hasOwnProperty(ht)&&pm(n,r,ht,void 0,o,le);for(me in o)le=o[me],ce=a[me],!o.hasOwnProperty(me)||le===ce||le===void 0&&ce===void 0||pm(n,r,me,le,o,ce);return}}for(var ee in a)le=a[ee],a.hasOwnProperty(ee)&&le!=null&&!o.hasOwnProperty(ee)&&dt(n,r,ee,null,o,le);for(ge in o)le=o[ge],ce=a[ge],!o.hasOwnProperty(ge)||le===ce||le==null&&ce==null||dt(n,r,ge,le,o,ce)}var gm=null,ym=null;function Ku(n){return n.nodeType===9?n:n.ownerDocument}function Ov(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Dv(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function vm(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var xm=null;function IE(){var n=window.event;return n&&n.type==="popstate"?n===xm?!1:(xm=n,!0):(xm=null,!1)}var kv=typeof setTimeout=="function"?setTimeout:void 0,CE=typeof clearTimeout=="function"?clearTimeout:void 0,Mv=typeof Promise=="function"?Promise:void 0,OE=typeof queueMicrotask=="function"?queueMicrotask:typeof Mv<"u"?function(n){return Mv.resolve(null).then(n).catch(DE)}:kv;function DE(n){setTimeout(function(){throw n})}function ni(n){return n==="head"}function Pv(n,r){var a=r,o=0,f=0;do{var p=a.nextSibling;if(n.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"){if(0<o&&8>o){a=o;var S=n.ownerDocument;if(a&1&&Uo(S.documentElement),a&2&&Uo(S.body),a&4)for(a=S.head,Uo(a),S=a.firstChild;S;){var D=S.nextSibling,G=S.nodeName;S[Ci]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&S.rel.toLowerCase()==="stylesheet"||a.removeChild(S),S=D}}if(f===0){n.removeChild(p),Qo(r);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:o=a.charCodeAt(0)-48;else o=0;a=p}while(a);Qo(r)}function bm(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":bm(a),Lr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function kE(n,r,a,o){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!o&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(o){if(!n[Ci])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=ds(n.nextSibling),n===null)break}return null}function ME(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=ds(n.nextSibling),n===null))return null;return n}function _m(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function PE(n,r){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")r();else{var o=function(){r(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),n._reactRetry=o}}function ds(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var wm=null;function Lv(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function Vv(n,r,a){switch(r=Ku(a),n){case"html":if(n=r.documentElement,!n)throw Error(i(452));return n;case"head":if(n=r.head,!n)throw Error(i(453));return n;case"body":if(n=r.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function Uo(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);Lr(n)}var ts=new Map,Uv=new Set;function Xu(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var _r=_.d;_.d={f:LE,r:VE,D:UE,C:zE,L:FE,m:qE,X:HE,S:BE,M:GE};function LE(){var n=_r.f(),r=Fu();return n||r}function VE(n){var r=_s(n);r!==null&&r.tag===5&&r.type==="form"?iy(r):_r.r(n)}var cl=typeof document>"u"?null:document;function zv(n,r,a){var o=cl;if(o&&typeof r=="string"&&r){var f=Mt(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Uv.has(f)||(Uv.add(f),n={rel:n,crossOrigin:a,href:r},o.querySelector(f)===null&&(r=o.createElement("link"),on(r,"link",n),It(r),o.head.appendChild(r)))}}function UE(n){_r.D(n),zv("dns-prefetch",n,null)}function zE(n,r){_r.C(n,r),zv("preconnect",n,r)}function FE(n,r,a){_r.L(n,r,a);var o=cl;if(o&&n&&r){var f='link[rel="preload"][as="'+Mt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Mt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Mt(a.imageSizes)+'"]')):f+='[href="'+Mt(n)+'"]';var p=f;switch(r){case"style":p=ul(n);break;case"script":p=dl(n)}ts.has(p)||(n=w({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),ts.set(p,n),o.querySelector(f)!==null||r==="style"&&o.querySelector(zo(p))||r==="script"&&o.querySelector(Fo(p))||(r=o.createElement("link"),on(r,"link",n),It(r),o.head.appendChild(r)))}}function qE(n,r){_r.m(n,r);var a=cl;if(a&&n){var o=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Mt(o)+'"][href="'+Mt(n)+'"]',p=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=dl(n)}if(!ts.has(p)&&(n=w({rel:"modulepreload",href:n},r),ts.set(p,n),a.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Fo(p)))return}o=a.createElement("link"),on(o,"link",n),It(o),a.head.appendChild(o)}}}function BE(n,r,a){_r.S(n,r,a);var o=cl;if(o&&n){var f=bn(o).hoistableStyles,p=ul(n);r=r||"default";var S=f.get(p);if(!S){var D={loading:0,preload:null};if(S=o.querySelector(zo(p)))D.loading=5;else{n=w({rel:"stylesheet",href:n,"data-precedence":r},a),(a=ts.get(p))&&Em(n,a);var G=S=o.createElement("link");It(G),on(G,"link",n),G._p=new Promise(function(ie,me){G.onload=ie,G.onerror=me}),G.addEventListener("load",function(){D.loading|=1}),G.addEventListener("error",function(){D.loading|=2}),D.loading|=4,Wu(S,r,o)}S={type:"stylesheet",instance:S,count:1,state:D},f.set(p,S)}}}function HE(n,r){_r.X(n,r);var a=cl;if(a&&n){var o=bn(a).hoistableScripts,f=dl(n),p=o.get(f);p||(p=a.querySelector(Fo(f)),p||(n=w({src:n,async:!0},r),(r=ts.get(f))&&Tm(n,r),p=a.createElement("script"),It(p),on(p,"link",n),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},o.set(f,p))}}function GE(n,r){_r.M(n,r);var a=cl;if(a&&n){var o=bn(a).hoistableScripts,f=dl(n),p=o.get(f);p||(p=a.querySelector(Fo(f)),p||(n=w({src:n,async:!0,type:"module"},r),(r=ts.get(f))&&Tm(n,r),p=a.createElement("script"),It(p),on(p,"link",n),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},o.set(f,p))}}function Fv(n,r,a,o){var f=(f=Y.current)?Xu(f):null;if(!f)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=ul(a.href),a=bn(f).hoistableStyles,o=a.get(r),o||(o={type:"style",instance:null,count:0,state:null},a.set(r,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=ul(a.href);var p=bn(f).hoistableStyles,S=p.get(n);if(S||(f=f.ownerDocument||f,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,S),(p=f.querySelector(zo(n)))&&!p._p&&(S.instance=p,S.state.loading=5),ts.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ts.set(n,a),p||$E(f,n,a,S.state))),r&&o===null)throw Error(i(528,""));return S}if(r&&o!==null)throw Error(i(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=dl(a),a=bn(f).hoistableScripts,o=a.get(r),o||(o={type:"script",instance:null,count:0,state:null},a.set(r,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function ul(n){return'href="'+Mt(n)+'"'}function zo(n){return'link[rel="stylesheet"]['+n+"]"}function qv(n){return w({},n,{"data-precedence":n.precedence,precedence:null})}function $E(n,r,a,o){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?o.loading=1:(r=n.createElement("link"),o.preload=r,r.addEventListener("load",function(){return o.loading|=1}),r.addEventListener("error",function(){return o.loading|=2}),on(r,"link",a),It(r),n.head.appendChild(r))}function dl(n){return'[src="'+Mt(n)+'"]'}function Fo(n){return"script[async]"+n}function Bv(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var o=n.querySelector('style[data-href~="'+Mt(a.href)+'"]');if(o)return r.instance=o,It(o),o;var f=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(n.ownerDocument||n).createElement("style"),It(o),on(o,"style",f),Wu(o,a.precedence,n),r.instance=o;case"stylesheet":f=ul(a.href);var p=n.querySelector(zo(f));if(p)return r.state.loading|=4,r.instance=p,It(p),p;o=qv(a),(f=ts.get(f))&&Em(o,f),p=(n.ownerDocument||n).createElement("link"),It(p);var S=p;return S._p=new Promise(function(D,G){S.onload=D,S.onerror=G}),on(p,"link",o),r.state.loading|=4,Wu(p,a.precedence,n),r.instance=p;case"script":return p=dl(a.src),(f=n.querySelector(Fo(p)))?(r.instance=f,It(f),f):(o=a,(f=ts.get(p))&&(o=w({},a),Tm(o,f)),n=n.ownerDocument||n,f=n.createElement("script"),It(f),on(f,"link",o),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(o=r.instance,r.state.loading|=4,Wu(o,a.precedence,n));return r.instance}function Wu(n,r,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,p=f,S=0;S<o.length;S++){var D=o[S];if(D.dataset.precedence===r)p=D;else if(p!==f)break}p?p.parentNode.insertBefore(n,p.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function Em(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Tm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Zu=null;function Hv(n,r,a){if(Zu===null){var o=new Map,f=Zu=new Map;f.set(a,o)}else f=Zu,o=f.get(a),o||(o=new Map,f.set(a,o));if(o.has(n))return o;for(o.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var p=a[f];if(!(p[Ci]||p[qt]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var S=p.getAttribute(r)||"";S=n+S;var D=o.get(S);D?D.push(p):o.set(S,[p])}}return o}function Gv(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function QE(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function $v(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var qo=null;function YE(){}function KE(n,r,a){if(qo===null)throw Error(i(475));var o=qo;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=ul(a.href),p=n.querySelector(zo(f));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(o.count++,o=Ju.bind(o),n.then(o,o)),r.state.loading|=4,r.instance=p,It(p);return}p=n.ownerDocument||n,a=qv(a),(f=ts.get(f))&&Em(a,f),p=p.createElement("link"),It(p);var S=p;S._p=new Promise(function(D,G){S.onload=D,S.onerror=G}),on(p,"link",a),r.instance=p}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(o.count++,r=Ju.bind(o),n.addEventListener("load",r),n.addEventListener("error",r))}}function XE(){if(qo===null)throw Error(i(475));var n=qo;return n.stylesheets&&n.count===0&&Sm(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&Sm(n,n.stylesheets),n.unsuspend){var o=n.unsuspend;n.unsuspend=null,o()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Ju(){if(this.count--,this.count===0){if(this.stylesheets)Sm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var ed=null;function Sm(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,ed=new Map,r.forEach(WE,n),ed=null,Ju.call(n))}function WE(n,r){if(!(r.state.loading&4)){var a=ed.get(n);if(a)var o=a.get(null);else{a=new Map,ed.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var S=f[p];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(a.set(S.dataset.precedence,S),o=S)}o&&a.set(null,o)}f=r.instance,S=f.getAttribute("data-precedence"),p=a.get(S)||o,p===o&&a.set(null,f),a.set(S,f),this.count++,o=Ju.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),p?p.parentNode.insertBefore(f,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var Bo={$$typeof:J,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function ZE(n,r,a,o,f,p,S,D){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ws(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ws(0),this.hiddenUpdates=Ws(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Qv(n,r,a,o,f,p,S,D,G,ie,me,ge){return n=new ZE(n,r,a,S,D,G,ie,ge),r=1,p===!0&&(r|=24),p=Ln(3,null,null,r),n.current=p,p.stateNode=n,r=af(),r.refCount++,n.pooledCache=r,r.refCount++,p.memoizedState={element:o,isDehydrated:a,cache:r},uf(p),n}function Yv(n){return n?(n=qa,n):qa}function Kv(n,r,a,o,f,p){f=Yv(f),o.context===null?o.context=f:o.pendingContext=f,o=Br(r),o.payload={element:a},p=p===void 0?null:p,p!==null&&(o.callback=p),a=Hr(n,o,r),a!==null&&(qn(a,n,r),xo(a,n,r))}function Xv(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function Nm(n,r){Xv(n,r),(n=n.alternate)&&Xv(n,r)}function Wv(n){if(n.tag===13){var r=Fa(n,67108864);r!==null&&qn(r,n,67108864),Nm(n,67108864)}}var td=!0;function JE(n,r,a,o){var f=L.T;L.T=null;var p=_.p;try{_.p=2,Am(n,r,a,o)}finally{_.p=p,L.T=f}}function eT(n,r,a,o){var f=L.T;L.T=null;var p=_.p;try{_.p=8,Am(n,r,a,o)}finally{_.p=p,L.T=f}}function Am(n,r,a,o){if(td){var f=jm(o);if(f===null)mm(n,r,o,nd,a),Jv(n,o);else if(nT(f,n,r,a,o))o.stopPropagation();else if(Jv(n,o),r&4&&-1<tT.indexOf(n)){for(;f!==null;){var p=_s(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var S=as(p.pendingLanes);if(S!==0){var D=p;for(D.pendingLanes|=2,D.entangledLanes|=2;S;){var G=1<<31-hn(S);D.entanglements[1]|=G,S&=~G}Ms(p),(at&6)===0&&(Uu=je()+500,Po(0))}}break;case 13:D=Fa(p,2),D!==null&&qn(D,p,2),Fu(),Nm(p,2)}if(p=jm(o),p===null&&mm(n,r,o,nd,a),p===f)break;f=p}f!==null&&o.stopPropagation()}else mm(n,r,o,null,a)}}function jm(n){return n=$n(n),Rm(n)}var nd=null;function Rm(n){if(nd=null,n=Js(n),n!==null){var r=c(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=h(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return nd=n,null}function Zv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yt()){case vt:return 2;case xt:return 8;case Rt:case rs:return 32;case is:return 268435456;default:return 32}default:return 32}}var Im=!1,si=null,ri=null,ii=null,Ho=new Map,Go=new Map,ai=[],tT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jv(n,r){switch(n){case"focusin":case"focusout":si=null;break;case"dragenter":case"dragleave":ri=null;break;case"mouseover":case"mouseout":ii=null;break;case"pointerover":case"pointerout":Ho.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Go.delete(r.pointerId)}}function $o(n,r,a,o,f,p){return n===null||n.nativeEvent!==p?(n={blockedOn:r,domEventName:a,eventSystemFlags:o,nativeEvent:p,targetContainers:[f]},r!==null&&(r=_s(r),r!==null&&Wv(r)),n):(n.eventSystemFlags|=o,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function nT(n,r,a,o,f){switch(r){case"focusin":return si=$o(si,n,r,a,o,f),!0;case"dragenter":return ri=$o(ri,n,r,a,o,f),!0;case"mouseover":return ii=$o(ii,n,r,a,o,f),!0;case"pointerover":var p=f.pointerId;return Ho.set(p,$o(Ho.get(p)||null,n,r,a,o,f)),!0;case"gotpointercapture":return p=f.pointerId,Go.set(p,$o(Go.get(p)||null,n,r,a,o,f)),!0}return!1}function ex(n){var r=Js(n.target);if(r!==null){var a=c(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){n.blockedOn=r,Fc(n.priority,function(){if(a.tag===13){var o=Fn();o=kr(o);var f=Fa(a,o);f!==null&&qn(f,a,o),Nm(a,o)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function sd(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=jm(n.nativeEvent);if(a===null){a=n.nativeEvent;var o=new a.constructor(a.type,a);sr=o,a.target.dispatchEvent(o),sr=null}else return r=_s(a),r!==null&&Wv(r),n.blockedOn=a,!1;r.shift()}return!0}function tx(n,r,a){sd(n)&&a.delete(r)}function sT(){Im=!1,si!==null&&sd(si)&&(si=null),ri!==null&&sd(ri)&&(ri=null),ii!==null&&sd(ii)&&(ii=null),Ho.forEach(tx),Go.forEach(tx)}function rd(n,r){n.blockedOn===r&&(n.blockedOn=null,Im||(Im=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,sT)))}var id=null;function nx(n){id!==n&&(id=n,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){id===n&&(id=null);for(var r=0;r<n.length;r+=3){var a=n[r],o=n[r+1],f=n[r+2];if(typeof o!="function"){if(Rm(o||a)===null)continue;break}var p=_s(a);p!==null&&(n.splice(r,3),r-=3,Rf(p,{pending:!0,data:f,method:a.method,action:o},o,f))}}))}function Qo(n){function r(G){return rd(G,n)}si!==null&&rd(si,n),ri!==null&&rd(ri,n),ii!==null&&rd(ii,n),Ho.forEach(r),Go.forEach(r);for(var a=0;a<ai.length;a++){var o=ai[a];o.blockedOn===n&&(o.blockedOn=null)}for(;0<ai.length&&(a=ai[0],a.blockedOn===null);)ex(a),a.blockedOn===null&&ai.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var f=a[o],p=a[o+1],S=f[kt]||null;if(typeof p=="function")S||nx(a);else if(S){var D=null;if(p&&p.hasAttribute("formAction")){if(f=p,S=p[kt]||null)D=S.formAction;else if(Rm(f)!==null)continue}else D=S.action;typeof D=="function"?a[o+1]=D:(a.splice(o,3),o-=3),nx(a)}}}function Cm(n){this._internalRoot=n}ad.prototype.render=Cm.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(i(409));var a=r.current,o=Fn();Kv(a,o,n,r,null,null)},ad.prototype.unmount=Cm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;Kv(n.current,2,null,n,null,null),Fu(),r[Hn]=null}};function ad(n){this._internalRoot=n}ad.prototype.unstable_scheduleHydration=function(n){if(n){var r=Mr();n={blockedOn:null,target:n,priority:r};for(var a=0;a<ai.length&&r!==0&&r<ai[a].priority;a++);ai.splice(a,0,n),a===0&&ex(n)}};var sx=e.version;if(sx!=="19.1.0")throw Error(i(527,sx,"19.1.0"));_.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=g(r),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var rT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ld=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ld.isDisabled&&ld.supportsFiber)try{bt=ld.inject(rT),$e=ld}catch{}}return Ko.createRoot=function(n,r){if(!l(n))throw Error(i(299));var a=!1,o="",f=xy,p=by,S=_y,D=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(S=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(D=r.unstable_transitionCallbacks)),r=Qv(n,1,!1,null,null,a,o,f,p,S,D,null),n[Hn]=r.current,fm(n),new Cm(r)},Ko.hydrateRoot=function(n,r,a){if(!l(n))throw Error(i(299));var o=!1,f="",p=xy,S=by,D=_y,G=null,ie=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(S=a.onCaughtError),a.onRecoverableError!==void 0&&(D=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(G=a.unstable_transitionCallbacks),a.formState!==void 0&&(ie=a.formState)),r=Qv(n,1,!0,r,a??null,o,f,p,S,D,G,ie),r.context=Yv(null),a=r.current,o=Fn(),o=kr(o),f=Br(o),f.callback=null,Hr(a,f,o),a=o,r.current.lanes=a,Zs(r,a),Ms(r),n[Hn]=r.current,fm(n),new ad(r)},Ko.version="19.1.0",Ko}var fx;function pT(){if(fx)return km.exports;fx=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),km.exports=mT(),km.exports}var gT=pT(),Xo={},mx;function yT(){if(mx)return Xo;mx=1,Object.defineProperty(Xo,"__esModule",{value:!0}),Xo.parse=h,Xo.serialize=y;const s=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,c=(()=>{const R=function(){};return R.prototype=Object.create(null),R})();function h(R,q){const U=new c,M=R.length;if(M<2)return U;const B=(q==null?void 0:q.decode)||w;let X=0;do{const Z=R.indexOf("=",X);if(Z===-1)break;const J=R.indexOf(";",X),se=J===-1?M:J;if(Z>se){X=R.lastIndexOf(";",Z-1)+1;continue}const O=m(R,X,Z),F=g(R,Z,O),j=R.slice(O,F);if(U[j]===void 0){let I=m(R,Z+1,se),T=g(R,se,I);const b=B(R.slice(I,T));U[j]=b}X=se+1}while(X<M);return U}function m(R,q,U){do{const M=R.charCodeAt(q);if(M!==32&&M!==9)return q}while(++q<U);return U}function g(R,q,U){for(;q>U;){const M=R.charCodeAt(--q);if(M!==32&&M!==9)return q+1}return U}function y(R,q,U){const M=(U==null?void 0:U.encode)||encodeURIComponent;if(!s.test(R))throw new TypeError(`argument name is invalid: ${R}`);const B=M(q);if(!e.test(B))throw new TypeError(`argument val is invalid: ${q}`);let X=R+"="+B;if(!U)return X;if(U.maxAge!==void 0){if(!Number.isInteger(U.maxAge))throw new TypeError(`option maxAge is invalid: ${U.maxAge}`);X+="; Max-Age="+U.maxAge}if(U.domain){if(!t.test(U.domain))throw new TypeError(`option domain is invalid: ${U.domain}`);X+="; Domain="+U.domain}if(U.path){if(!i.test(U.path))throw new TypeError(`option path is invalid: ${U.path}`);X+="; Path="+U.path}if(U.expires){if(!A(U.expires)||!Number.isFinite(U.expires.valueOf()))throw new TypeError(`option expires is invalid: ${U.expires}`);X+="; Expires="+U.expires.toUTCString()}if(U.httpOnly&&(X+="; HttpOnly"),U.secure&&(X+="; Secure"),U.partitioned&&(X+="; Partitioned"),U.priority)switch(typeof U.priority=="string"?U.priority.toLowerCase():void 0){case"low":X+="; Priority=Low";break;case"medium":X+="; Priority=Medium";break;case"high":X+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${U.priority}`)}if(U.sameSite)switch(typeof U.sameSite=="string"?U.sameSite.toLowerCase():U.sameSite){case!0:case"strict":X+="; SameSite=Strict";break;case"lax":X+="; SameSite=Lax";break;case"none":X+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${U.sameSite}`)}return X}function w(R){if(R.indexOf("%")===-1)return R;try{return decodeURIComponent(R)}catch{return R}}function A(R){return l.call(R)==="[object Date]"}return Xo}yT();var px="popstate";function vT(s={}){function e(i,l){let{pathname:c,search:h,hash:m}=i.location;return fp("",{pathname:c,search:h,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(i,l){return typeof l=="string"?l:dc(l)}return bT(e,t,null,s)}function St(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function gs(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xT(){return Math.random().toString(36).substring(2,10)}function gx(s,e){return{usr:s.state,key:s.key,idx:e}}function fp(s,e,t=null,i){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?Cl(e):e,state:t,key:e&&e.key||i||xT()}}function dc({pathname:s="/",search:e="",hash:t=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(s+=t.charAt(0)==="#"?t:"#"+t),s}function Cl(s){let e={};if(s){let t=s.indexOf("#");t>=0&&(e.hash=s.substring(t),s=s.substring(0,t));let i=s.indexOf("?");i>=0&&(e.search=s.substring(i),s=s.substring(0,i)),s&&(e.pathname=s)}return e}function bT(s,e,t,i={}){let{window:l=document.defaultView,v5Compat:c=!1}=i,h=l.history,m="POP",g=null,y=w();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function w(){return(h.state||{idx:null}).idx}function A(){m="POP";let B=w(),X=B==null?null:B-y;y=B,g&&g({action:m,location:M.location,delta:X})}function R(B,X){m="PUSH";let Z=fp(M.location,B,X);y=w()+1;let J=gx(Z,y),se=M.createHref(Z);try{h.pushState(J,"",se)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;l.location.assign(se)}c&&g&&g({action:m,location:M.location,delta:1})}function q(B,X){m="REPLACE";let Z=fp(M.location,B,X);y=w();let J=gx(Z,y),se=M.createHref(Z);h.replaceState(J,"",se),c&&g&&g({action:m,location:M.location,delta:0})}function U(B){return _T(B)}let M={get action(){return m},get location(){return s(l,h)},listen(B){if(g)throw new Error("A history only accepts one active listener");return l.addEventListener(px,A),g=B,()=>{l.removeEventListener(px,A),g=null}},createHref(B){return e(l,B)},createURL:U,encodeLocation(B){let X=U(B);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:R,replace:q,go(B){return h.go(B)}};return M}function _T(s,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),St(t,"No window.location.(origin|href) available to create URL");let i=typeof s=="string"?s:dc(s);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function R_(s,e,t="/"){return wT(s,e,t,!1)}function wT(s,e,t,i){let l=typeof e=="string"?Cl(e):e,c=Ar(l.pathname||"/",t);if(c==null)return null;let h=I_(s);ET(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let y=kT(c);m=OT(h[g],y,i)}return m}function I_(s,e=[],t=[],i=""){let l=(c,h,m)=>{let g={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};g.relativePath.startsWith("/")&&(St(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length));let y=Tr([i,g.relativePath]),w=t.concat(g);c.children&&c.children.length>0&&(St(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),I_(c.children,e,w,y)),!(c.path==null&&!c.index)&&e.push({path:y,score:IT(y,c.index),routesMeta:w})};return s.forEach((c,h)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))l(c,h);else for(let g of C_(c.path))l(c,h,g)}),e}function C_(s){let e=s.split("/");if(e.length===0)return[];let[t,...i]=e,l=t.endsWith("?"),c=t.replace(/\?$/,"");if(i.length===0)return l?[c,""]:[c];let h=C_(i.join("/")),m=[];return m.push(...h.map(g=>g===""?c:[c,g].join("/"))),l&&m.push(...h),m.map(g=>s.startsWith("/")&&g===""?"/":g)}function ET(s){s.sort((e,t)=>e.score!==t.score?t.score-e.score:CT(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var TT=/^:[\w-]+$/,ST=3,NT=2,AT=1,jT=10,RT=-2,yx=s=>s==="*";function IT(s,e){let t=s.split("/"),i=t.length;return t.some(yx)&&(i+=RT),e&&(i+=NT),t.filter(l=>!yx(l)).reduce((l,c)=>l+(TT.test(c)?ST:c===""?AT:jT),i)}function CT(s,e){return s.length===e.length&&s.slice(0,-1).every((i,l)=>i===e[l])?s[s.length-1]-e[e.length-1]:0}function OT(s,e,t=!1){let{routesMeta:i}=s,l={},c="/",h=[];for(let m=0;m<i.length;++m){let g=i[m],y=m===i.length-1,w=c==="/"?e:e.slice(c.length)||"/",A=jd({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},w),R=g.route;if(!A&&y&&t&&!i[i.length-1].route.index&&(A=jd({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},w)),!A)return null;Object.assign(l,A.params),h.push({params:l,pathname:Tr([c,A.pathname]),pathnameBase:VT(Tr([c,A.pathnameBase])),route:R}),A.pathnameBase!=="/"&&(c=Tr([c,A.pathnameBase]))}return h}function jd(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[t,i]=DT(s.path,s.caseSensitive,s.end),l=e.match(t);if(!l)return null;let c=l[0],h=c.replace(/(.)\/+$/,"$1"),m=l.slice(1);return{params:i.reduce((y,{paramName:w,isOptional:A},R)=>{if(w==="*"){let U=m[R]||"";h=c.slice(0,c.length-U.length).replace(/(.)\/+$/,"$1")}const q=m[R];return A&&!q?y[w]=void 0:y[w]=(q||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:h,pattern:s}}function DT(s,e=!1,t=!0){gs(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let i=[],l="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(i.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(i.push({paramName:"*"}),l+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?l+="\\/*$":s!==""&&s!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),i]}function kT(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gs(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function Ar(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=s.charAt(t);return i&&i!=="/"?null:s.slice(t)||"/"}function MT(s,e="/"){let{pathname:t,search:i="",hash:l=""}=typeof s=="string"?Cl(s):s;return{pathname:t?t.startsWith("/")?t:PT(t,e):e,search:UT(i),hash:zT(l)}}function PT(s,e){let t=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(l=>{l===".."?t.length>1&&t.pop():l!=="."&&t.push(l)}),t.length>1?t.join("/"):"/"}function Vm(s,e,t,i){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function LT(s){return s.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function O_(s){let e=LT(s);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function D_(s,e,t,i=!1){let l;typeof s=="string"?l=Cl(s):(l={...s},St(!l.pathname||!l.pathname.includes("?"),Vm("?","pathname","search",l)),St(!l.pathname||!l.pathname.includes("#"),Vm("#","pathname","hash",l)),St(!l.search||!l.search.includes("#"),Vm("#","search","hash",l)));let c=s===""||l.pathname==="",h=c?"/":l.pathname,m;if(h==null)m=t;else{let A=e.length-1;if(!i&&h.startsWith("..")){let R=h.split("/");for(;R[0]==="..";)R.shift(),A-=1;l.pathname=R.join("/")}m=A>=0?e[A]:"/"}let g=MT(l,m),y=h&&h!=="/"&&h.endsWith("/"),w=(c||h===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(y||w)&&(g.pathname+="/"),g}var Tr=s=>s.join("/").replace(/\/\/+/g,"/"),VT=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),UT=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,zT=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function FT(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var k_=["POST","PUT","PATCH","DELETE"];new Set(k_);var qT=["GET",...k_];new Set(qT);var Ol=H.createContext(null);Ol.displayName="DataRouter";var th=H.createContext(null);th.displayName="DataRouterState";var M_=H.createContext({isTransitioning:!1});M_.displayName="ViewTransition";var BT=H.createContext(new Map);BT.displayName="Fetchers";var HT=H.createContext(null);HT.displayName="Await";var $s=H.createContext(null);$s.displayName="Navigation";var _c=H.createContext(null);_c.displayName="Location";var Qs=H.createContext({outlet:null,matches:[],isDataRoute:!1});Qs.displayName="Route";var Hp=H.createContext(null);Hp.displayName="RouteError";function GT(s,{relative:e}={}){St(wc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=H.useContext($s),{hash:l,pathname:c,search:h}=Ec(s,{relative:e}),m=c;return t!=="/"&&(m=c==="/"?t:Tr([t,c])),i.createHref({pathname:m,search:h,hash:l})}function wc(){return H.useContext(_c)!=null}function vs(){return St(wc(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(_c).location}var P_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function L_(s){H.useContext($s).static||H.useLayoutEffect(s)}function kn(){let{isDataRoute:s}=H.useContext(Qs);return s?aS():$T()}function $T(){St(wc(),"useNavigate() may be used only in the context of a <Router> component.");let s=H.useContext(Ol),{basename:e,navigator:t}=H.useContext($s),{matches:i}=H.useContext(Qs),{pathname:l}=vs(),c=JSON.stringify(O_(i)),h=H.useRef(!1);return L_(()=>{h.current=!0}),H.useCallback((g,y={})=>{if(gs(h.current,P_),!h.current)return;if(typeof g=="number"){t.go(g);return}let w=D_(g,JSON.parse(c),l,y.relative==="path");s==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:Tr([e,w.pathname])),(y.replace?t.replace:t.push)(w,y.state,y)},[e,t,c,l,s])}var QT=H.createContext(null);function YT(s){let e=H.useContext(Qs).outlet;return e&&H.createElement(QT.Provider,{value:s},e)}function Ec(s,{relative:e}={}){let{matches:t}=H.useContext(Qs),{pathname:i}=vs(),l=JSON.stringify(O_(t));return H.useMemo(()=>D_(s,JSON.parse(l),i,e==="path"),[s,l,i,e])}function KT(s,e){return V_(s,e)}function V_(s,e,t,i){var X;St(wc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=H.useContext($s),{matches:c}=H.useContext(Qs),h=c[c.length-1],m=h?h.params:{},g=h?h.pathname:"/",y=h?h.pathnameBase:"/",w=h&&h.route;{let Z=w&&w.path||"";U_(g,!w||Z.endsWith("*")||Z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Z}"> to <Route path="${Z==="/"?"*":`${Z}/*`}">.`)}let A=vs(),R;if(e){let Z=typeof e=="string"?Cl(e):e;St(y==="/"||((X=Z.pathname)==null?void 0:X.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${Z.pathname}" was given in the \`location\` prop.`),R=Z}else R=A;let q=R.pathname||"/",U=q;if(y!=="/"){let Z=y.replace(/^\//,"").split("/");U="/"+q.replace(/^\//,"").split("/").slice(Z.length).join("/")}let M=R_(s,{pathname:U});gs(w||M!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),gs(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=eS(M&&M.map(Z=>Object.assign({},Z,{params:Object.assign({},m,Z.params),pathname:Tr([y,l.encodeLocation?l.encodeLocation(Z.pathname).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?y:Tr([y,l.encodeLocation?l.encodeLocation(Z.pathnameBase).pathname:Z.pathnameBase])})),c,t,i);return e&&B?H.createElement(_c.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},B):B}function XT(){let s=iS(),e=FT(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),t=s instanceof Error?s.stack:null,i="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:i},c={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",s),h=H.createElement(H.Fragment,null,H.createElement("p",null," Hey developer "),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:c},"ErrorBoundary")," or"," ",H.createElement("code",{style:c},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),t?H.createElement("pre",{style:l},t):null,h)}var WT=H.createElement(XT,null),ZT=class extends H.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){console.error("React Router caught the following error during render",s,e)}render(){return this.state.error!==void 0?H.createElement(Qs.Provider,{value:this.props.routeContext},H.createElement(Hp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function JT({routeContext:s,match:e,children:t}){let i=H.useContext(Ol);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(Qs.Provider,{value:s},t)}function eS(s,e=[],t=null,i=null){if(s==null){if(!t)return null;if(t.errors)s=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)s=t.matches;else return null}let l=s,c=t==null?void 0:t.errors;if(c!=null){let g=l.findIndex(y=>y.route.id&&(c==null?void 0:c[y.route.id])!==void 0);St(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,g+1))}let h=!1,m=-1;if(t)for(let g=0;g<l.length;g++){let y=l[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=g),y.route.id){let{loaderData:w,errors:A}=t,R=y.route.loader&&!w.hasOwnProperty(y.route.id)&&(!A||A[y.route.id]===void 0);if(y.route.lazy||R){h=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((g,y,w)=>{let A,R=!1,q=null,U=null;t&&(A=c&&y.route.id?c[y.route.id]:void 0,q=y.route.errorElement||WT,h&&(m<0&&w===0?(U_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,U=null):m===w&&(R=!0,U=y.route.hydrateFallbackElement||null)));let M=e.concat(l.slice(0,w+1)),B=()=>{let X;return A?X=q:R?X=U:y.route.Component?X=H.createElement(y.route.Component,null):y.route.element?X=y.route.element:X=g,H.createElement(JT,{match:y,routeContext:{outlet:g,matches:M,isDataRoute:t!=null},children:X})};return t&&(y.route.ErrorBoundary||y.route.errorElement||w===0)?H.createElement(ZT,{location:t.location,revalidation:t.revalidation,component:q,error:A,children:B(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):B()},null)}function Gp(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tS(s){let e=H.useContext(Ol);return St(e,Gp(s)),e}function nS(s){let e=H.useContext(th);return St(e,Gp(s)),e}function sS(s){let e=H.useContext(Qs);return St(e,Gp(s)),e}function $p(s){let e=sS(s),t=e.matches[e.matches.length-1];return St(t.route.id,`${s} can only be used on routes that contain a unique "id"`),t.route.id}function rS(){return $p("useRouteId")}function iS(){var i;let s=H.useContext(Hp),e=nS("useRouteError"),t=$p("useRouteError");return s!==void 0?s:(i=e.errors)==null?void 0:i[t]}function aS(){let{router:s}=tS("useNavigate"),e=$p("useNavigate"),t=H.useRef(!1);return L_(()=>{t.current=!0}),H.useCallback(async(l,c={})=>{gs(t.current,P_),t.current&&(typeof l=="number"?s.navigate(l):await s.navigate(l,{fromRouteId:e,...c}))},[s,e])}var vx={};function U_(s,e,t){!e&&!vx[s]&&(vx[s]=!0,gs(!1,t))}H.memo(lS);function lS({routes:s,future:e,state:t}){return V_(s,void 0,t,e)}function oS(s){return YT(s.context)}function Tn(s){St(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cS({basename:s="/",children:e=null,location:t,navigationType:i="POP",navigator:l,static:c=!1}){St(!wc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=s.replace(/^\/*/,"/"),m=H.useMemo(()=>({basename:h,navigator:l,static:c,future:{}}),[h,l,c]);typeof t=="string"&&(t=Cl(t));let{pathname:g="/",search:y="",hash:w="",state:A=null,key:R="default"}=t,q=H.useMemo(()=>{let U=Ar(g,h);return U==null?null:{location:{pathname:U,search:y,hash:w,state:A,key:R},navigationType:i}},[h,g,y,w,A,R,i]);return gs(q!=null,`<Router basename="${h}"> is not able to match the URL "${g}${y}${w}" because it does not start with the basename, so the <Router> won't render anything.`),q==null?null:H.createElement($s.Provider,{value:m},H.createElement(_c.Provider,{children:e,value:q}))}function uS({children:s,location:e}){return KT(mp(s),e)}function mp(s,e=[]){let t=[];return H.Children.forEach(s,(i,l)=>{if(!H.isValidElement(i))return;let c=[...e,l];if(i.type===H.Fragment){t.push.apply(t,mp(i.props.children,c));return}St(i.type===Tn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),St(!i.props.index||!i.props.children,"An index route cannot have child routes.");let h={id:i.props.id||c.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(h.children=mp(i.props.children,c)),t.push(h)}),t}var yd="get",vd="application/x-www-form-urlencoded";function nh(s){return s!=null&&typeof s.tagName=="string"}function dS(s){return nh(s)&&s.tagName.toLowerCase()==="button"}function hS(s){return nh(s)&&s.tagName.toLowerCase()==="form"}function fS(s){return nh(s)&&s.tagName.toLowerCase()==="input"}function mS(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function pS(s,e){return s.button===0&&(!e||e==="_self")&&!mS(s)}function pp(s=""){return new URLSearchParams(typeof s=="string"||Array.isArray(s)||s instanceof URLSearchParams?s:Object.keys(s).reduce((e,t)=>{let i=s[t];return e.concat(Array.isArray(i)?i.map(l=>[t,l]):[[t,i]])},[]))}function gS(s,e){let t=pp(s);return e&&e.forEach((i,l)=>{t.has(l)||e.getAll(l).forEach(c=>{t.append(l,c)})}),t}var cd=null;function yS(){if(cd===null)try{new FormData(document.createElement("form"),0),cd=!1}catch{cd=!0}return cd}var vS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Um(s){return s!=null&&!vS.has(s)?(gs(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vd}"`),null):s}function xS(s,e){let t,i,l,c,h;if(hS(s)){let m=s.getAttribute("action");i=m?Ar(m,e):null,t=s.getAttribute("method")||yd,l=Um(s.getAttribute("enctype"))||vd,c=new FormData(s)}else if(dS(s)||fS(s)&&(s.type==="submit"||s.type==="image")){let m=s.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=s.getAttribute("formaction")||m.getAttribute("action");if(i=g?Ar(g,e):null,t=s.getAttribute("formmethod")||m.getAttribute("method")||yd,l=Um(s.getAttribute("formenctype"))||Um(m.getAttribute("enctype"))||vd,c=new FormData(m,s),!yS()){let{name:y,type:w,value:A}=s;if(w==="image"){let R=y?`${y}.`:"";c.append(`${R}x`,"0"),c.append(`${R}y`,"0")}else y&&c.append(y,A)}}else{if(nh(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=yd,i=null,l=vd,h=s}return c&&l==="text/plain"&&(h=c,c=void 0),{action:i,method:t.toLowerCase(),encType:l,formData:c,body:h}}function Qp(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}async function bS(s,e){if(s.id in e)return e[s.id];try{let t=await import(s.module);return e[s.id]=t,t}catch(t){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _S(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function wS(s,e,t){let i=await Promise.all(s.map(async l=>{let c=e.routes[l.route.id];if(c){let h=await bS(c,t);return h.links?h.links():[]}return[]}));return NS(i.flat(1).filter(_S).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function xx(s,e,t,i,l,c){let h=(g,y)=>t[y]?g.route.id!==t[y].route.id:!0,m=(g,y)=>{var w;return t[y].pathname!==g.pathname||((w=t[y].route.path)==null?void 0:w.endsWith("*"))&&t[y].params["*"]!==g.params["*"]};return c==="assets"?e.filter((g,y)=>h(g,y)||m(g,y)):c==="data"?e.filter((g,y)=>{var A;let w=i.routes[g.route.id];if(!w||!w.hasLoader)return!1;if(h(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let R=g.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((A=t[0])==null?void 0:A.params)||{},nextUrl:new URL(s,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function ES(s,e,{includeHydrateFallback:t}={}){return TS(s.map(i=>{let l=e.routes[i.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),t&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function TS(s){return[...new Set(s)]}function SS(s){let e={},t=Object.keys(s).sort();for(let i of t)e[i]=s[i];return e}function NS(s,e){let t=new Set;return new Set(e),s.reduce((i,l)=>{let c=JSON.stringify(SS(l));return t.has(c)||(t.add(c),i.push({key:c,link:l})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var AS=new Set([100,101,204,205]);function jS(s,e){let t=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return t.pathname==="/"?t.pathname="_root.data":e&&Ar(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function z_(){let s=H.useContext(Ol);return Qp(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function RS(){let s=H.useContext(th);return Qp(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Yp=H.createContext(void 0);Yp.displayName="FrameworkContext";function F_(){let s=H.useContext(Yp);return Qp(s,"You must render this element inside a <HydratedRouter> element"),s}function IS(s,e){let t=H.useContext(Yp),[i,l]=H.useState(!1),[c,h]=H.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:w,onTouchStart:A}=e,R=H.useRef(null);H.useEffect(()=>{if(s==="render"&&h(!0),s==="viewport"){let M=X=>{X.forEach(Z=>{h(Z.isIntersecting)})},B=new IntersectionObserver(M,{threshold:.5});return R.current&&B.observe(R.current),()=>{B.disconnect()}}},[s]),H.useEffect(()=>{if(i){let M=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(M)}}},[i]);let q=()=>{l(!0)},U=()=>{l(!1),h(!1)};return t?s!=="intent"?[c,R,{}]:[c,R,{onFocus:Wo(m,q),onBlur:Wo(g,U),onMouseEnter:Wo(y,q),onMouseLeave:Wo(w,U),onTouchStart:Wo(A,q)}]:[!1,R,{}]}function Wo(s,e){return t=>{s&&s(t),t.defaultPrevented||e(t)}}function CS({page:s,...e}){let{router:t}=z_(),i=H.useMemo(()=>R_(t.routes,s,t.basename),[t.routes,s,t.basename]);return i?H.createElement(DS,{page:s,matches:i,...e}):null}function OS(s){let{manifest:e,routeModules:t}=F_(),[i,l]=H.useState([]);return H.useEffect(()=>{let c=!1;return wS(s,e,t).then(h=>{c||l(h)}),()=>{c=!0}},[s,e,t]),i}function DS({page:s,matches:e,...t}){let i=vs(),{manifest:l,routeModules:c}=F_(),{basename:h}=z_(),{loaderData:m,matches:g}=RS(),y=H.useMemo(()=>xx(s,e,g,l,i,"data"),[s,e,g,l,i]),w=H.useMemo(()=>xx(s,e,g,l,i,"assets"),[s,e,g,l,i]),A=H.useMemo(()=>{if(s===i.pathname+i.search+i.hash)return[];let U=new Set,M=!1;if(e.forEach(X=>{var J;let Z=l.routes[X.route.id];!Z||!Z.hasLoader||(!y.some(se=>se.route.id===X.route.id)&&X.route.id in m&&((J=c[X.route.id])!=null&&J.shouldRevalidate)||Z.hasClientLoader?M=!0:U.add(X.route.id))}),U.size===0)return[];let B=jS(s,h);return M&&U.size>0&&B.searchParams.set("_routes",e.filter(X=>U.has(X.route.id)).map(X=>X.route.id).join(",")),[B.pathname+B.search]},[h,m,i,l,y,e,s,c]),R=H.useMemo(()=>ES(w,l),[w,l]),q=OS(w);return H.createElement(H.Fragment,null,A.map(U=>H.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...t})),R.map(U=>H.createElement("link",{key:U,rel:"modulepreload",href:U,...t})),q.map(({key:U,link:M})=>H.createElement("link",{key:U,...M})))}function kS(...s){return e=>{s.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var q_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{q_&&(window.__reactRouterVersion="7.6.2")}catch{}function MS({basename:s,children:e,window:t}){let i=H.useRef();i.current==null&&(i.current=vT({window:t,v5Compat:!0}));let l=i.current,[c,h]=H.useState({action:l.action,location:l.location}),m=H.useCallback(g=>{H.startTransition(()=>h(g))},[h]);return H.useLayoutEffect(()=>l.listen(m),[l,m]),H.createElement(cS,{basename:s,children:e,location:c.location,navigationType:c.action,navigator:l})}var B_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qt=H.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:l,reloadDocument:c,replace:h,state:m,target:g,to:y,preventScrollReset:w,viewTransition:A,...R},q){let{basename:U}=H.useContext($s),M=typeof y=="string"&&B_.test(y),B,X=!1;if(typeof y=="string"&&M&&(B=y,q_))try{let T=new URL(window.location.href),b=y.startsWith("//")?new URL(T.protocol+y):new URL(y),k=Ar(b.pathname,U);b.origin===T.origin&&k!=null?y=k+b.search+b.hash:X=!0}catch{gs(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Z=GT(y,{relative:l}),[J,se,O]=IS(i,R),F=US(y,{replace:h,state:m,target:g,preventScrollReset:w,relative:l,viewTransition:A});function j(T){e&&e(T),T.defaultPrevented||F(T)}let I=H.createElement("a",{...R,...O,href:B||Z,onClick:X||c?e:j,ref:kS(q,se),target:g,"data-discover":!M&&t==="render"?"true":void 0});return J&&!M?H.createElement(H.Fragment,null,I,H.createElement(CS,{page:Z})):I});Qt.displayName="Link";var PS=H.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:l=!1,style:c,to:h,viewTransition:m,children:g,...y},w){let A=Ec(h,{relative:y.relative}),R=vs(),q=H.useContext(th),{navigator:U,basename:M}=H.useContext($s),B=q!=null&&GS(A)&&m===!0,X=U.encodeLocation?U.encodeLocation(A).pathname:A.pathname,Z=R.pathname,J=q&&q.navigation&&q.navigation.location?q.navigation.location.pathname:null;t||(Z=Z.toLowerCase(),J=J?J.toLowerCase():null,X=X.toLowerCase()),J&&M&&(J=Ar(J,M)||J);const se=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let O=Z===X||!l&&Z.startsWith(X)&&Z.charAt(se)==="/",F=J!=null&&(J===X||!l&&J.startsWith(X)&&J.charAt(X.length)==="/"),j={isActive:O,isPending:F,isTransitioning:B},I=O?e:void 0,T;typeof i=="function"?T=i(j):T=[i,O?"active":null,F?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let b=typeof c=="function"?c(j):c;return H.createElement(Qt,{...y,"aria-current":I,className:T,ref:w,style:b,to:h,viewTransition:m},typeof g=="function"?g(j):g)});PS.displayName="NavLink";var LS=H.forwardRef(({discover:s="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:l,state:c,method:h=yd,action:m,onSubmit:g,relative:y,preventScrollReset:w,viewTransition:A,...R},q)=>{let U=BS(),M=HS(m,{relative:y}),B=h.toLowerCase()==="get"?"get":"post",X=typeof m=="string"&&B_.test(m),Z=J=>{if(g&&g(J),J.defaultPrevented)return;J.preventDefault();let se=J.nativeEvent.submitter,O=(se==null?void 0:se.getAttribute("formmethod"))||h;U(se||J.currentTarget,{fetcherKey:e,method:O,navigate:t,replace:l,state:c,relative:y,preventScrollReset:w,viewTransition:A})};return H.createElement("form",{ref:q,method:B,action:M,onSubmit:i?g:Z,...R,"data-discover":!X&&s==="render"?"true":void 0})});LS.displayName="Form";function VS(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function H_(s){let e=H.useContext(Ol);return St(e,VS(s)),e}function US(s,{target:e,replace:t,state:i,preventScrollReset:l,relative:c,viewTransition:h}={}){let m=kn(),g=vs(),y=Ec(s,{relative:c});return H.useCallback(w=>{if(pS(w,e)){w.preventDefault();let A=t!==void 0?t:dc(g)===dc(y);m(s,{replace:A,state:i,preventScrollReset:l,relative:c,viewTransition:h})}},[g,m,y,t,i,e,s,l,c,h])}function zS(s){gs(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=H.useRef(pp(s)),t=H.useRef(!1),i=vs(),l=H.useMemo(()=>gS(i.search,t.current?null:e.current),[i.search]),c=kn(),h=H.useCallback((m,g)=>{const y=pp(typeof m=="function"?m(l):m);t.current=!0,c("?"+y,g)},[c,l]);return[l,h]}var FS=0,qS=()=>`__${String(++FS)}__`;function BS(){let{router:s}=H_("useSubmit"),{basename:e}=H.useContext($s),t=rS();return H.useCallback(async(i,l={})=>{let{action:c,method:h,encType:m,formData:g,body:y}=xS(i,e);if(l.navigate===!1){let w=l.fetcherKey||qS();await s.fetch(w,t,l.action||c,{preventScrollReset:l.preventScrollReset,formData:g,body:y,formMethod:l.method||h,formEncType:l.encType||m,flushSync:l.flushSync})}else await s.navigate(l.action||c,{preventScrollReset:l.preventScrollReset,formData:g,body:y,formMethod:l.method||h,formEncType:l.encType||m,replace:l.replace,state:l.state,fromRouteId:t,flushSync:l.flushSync,viewTransition:l.viewTransition})},[s,e,t])}function HS(s,{relative:e}={}){let{basename:t}=H.useContext($s),i=H.useContext(Qs);St(i,"useFormAction must be used inside a RouteContext");let[l]=i.matches.slice(-1),c={...Ec(s||".",{relative:e})},h=vs();if(s==null){c.search=h.search;let m=new URLSearchParams(c.search),g=m.getAll("index");if(g.some(w=>w==="")){m.delete("index"),g.filter(A=>A).forEach(A=>m.append("index",A));let w=m.toString();c.search=w?`?${w}`:""}}return(!s||s===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(c.pathname=c.pathname==="/"?t:Tr([t,c.pathname])),dc(c)}function GS(s,e={}){let t=H.useContext(M_);St(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=H_("useViewTransitionState"),l=Ec(s,{relative:e.relative});if(!t.isTransitioning)return!1;let c=Ar(t.currentLocation.pathname,i)||t.currentLocation.pathname,h=Ar(t.nextLocation.pathname,i)||t.nextLocation.pathname;return jd(l.pathname,h)!=null||jd(l.pathname,c)!=null}[...AS];const $S=()=>{};var bx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_=function(s){const e=[];let t=0;for(let i=0;i<s.length;i++){let l=s.charCodeAt(i);l<128?e[t++]=l:l<2048?(e[t++]=l>>6|192,e[t++]=l&63|128):(l&64512)===55296&&i+1<s.length&&(s.charCodeAt(i+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++i)&1023),e[t++]=l>>18|240,e[t++]=l>>12&63|128,e[t++]=l>>6&63|128,e[t++]=l&63|128):(e[t++]=l>>12|224,e[t++]=l>>6&63|128,e[t++]=l&63|128)}return e},QS=function(s){const e=[];let t=0,i=0;for(;t<s.length;){const l=s[t++];if(l<128)e[i++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[t++];e[i++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[t++],h=s[t++],m=s[t++],g=((l&7)<<18|(c&63)<<12|(h&63)<<6|m&63)-65536;e[i++]=String.fromCharCode(55296+(g>>10)),e[i++]=String.fromCharCode(56320+(g&1023))}else{const c=s[t++],h=s[t++];e[i++]=String.fromCharCode((l&15)<<12|(c&63)<<6|h&63)}}return e.join("")},$_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let l=0;l<s.length;l+=3){const c=s[l],h=l+1<s.length,m=h?s[l+1]:0,g=l+2<s.length,y=g?s[l+2]:0,w=c>>2,A=(c&3)<<4|m>>4;let R=(m&15)<<2|y>>6,q=y&63;g||(q=64,h||(R=64)),i.push(t[w],t[A],t[R],t[q])}return i.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(G_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):QS(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let l=0;l<s.length;){const c=t[s.charAt(l++)],m=l<s.length?t[s.charAt(l)]:0;++l;const y=l<s.length?t[s.charAt(l)]:64;++l;const A=l<s.length?t[s.charAt(l)]:64;if(++l,c==null||m==null||y==null||A==null)throw new YS;const R=c<<2|m>>4;if(i.push(R),y!==64){const q=m<<4&240|y>>2;if(i.push(q),A!==64){const U=y<<6&192|A;i.push(U)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class YS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KS=function(s){const e=G_(s);return $_.encodeByteArray(e,!0)},Rd=function(s){return KS(s).replace(/\./g,"")},Q_=function(s){try{return $_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS=()=>XS().__FIREBASE_DEFAULTS__,ZS=()=>{if(typeof process>"u"||typeof bx>"u")return;const s=bx.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},JS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Q_(s[1]);return e&&JSON.parse(e)},sh=()=>{try{return $S()||WS()||ZS()||JS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Y_=s=>{var e,t;return(t=(e=sh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[s]},K_=s=>{const e=Y_(s);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},X_=()=>{var s;return(s=sh())===null||s===void 0?void 0:s.config},W_=s=>{var e;return(e=sh())===null||e===void 0?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ya(s){return s.endsWith(".cloudworkstations.dev")}async function Kp(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Rd(JSON.stringify(t)),Rd(JSON.stringify(h)),""].join(".")}const rc={};function tN(){const s={prod:[],emulator:[]};for(const e of Object.keys(rc))rc[e]?s.emulator.push(e):s.prod.push(e);return s}function nN(s){let e=document.getElementById(s),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),t=!0),{created:t,element:e}}let _x=!1;function Xp(s,e){if(typeof window>"u"||typeof document>"u"||!ya(window.location.host)||rc[s]===e||rc[s]||_x)return;rc[s]=e;function t(R){return`__firebase__banner__${R}`}const i="__firebase__banner",c=tN().prod.length>0;function h(){const R=document.getElementById(i);R&&R.remove()}function m(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function g(R,q){R.setAttribute("width","24"),R.setAttribute("id",q),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function y(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{_x=!0,h()},R}function w(R,q){R.setAttribute("id",q),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function A(){const R=nN(i),q=t("text"),U=document.getElementById(q)||document.createElement("span"),M=t("learnmore"),B=document.getElementById(M)||document.createElement("a"),X=t("preprendIcon"),Z=document.getElementById(X)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const J=R.element;m(J),w(B,M);const se=y();g(Z,X),J.append(Z,U,B,se),document.body.appendChild(J)}c?(U.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xn())}function rN(){var s;const e=(s=sh())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function aN(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function lN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oN(){const s=xn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function cN(){return!rN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uN(){try{return typeof indexedDB=="object"}catch{return!1}}function dN(){return new Promise((s,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(i);l.onsuccess=()=>{l.result.close(),t||self.indexedDB.deleteDatabase(i),s(!0)},l.onupgradeneeded=()=>{t=!1},l.onerror=()=>{var c;e(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN="FirebaseError";class Ys extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=hN,Object.setPrototypeOf(this,Ys.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tc.prototype.create)}}class Tc{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},l=`${this.service}/${e}`,c=this.errors[e],h=c?fN(c,i):"Error",m=`${this.serviceName}: ${h} (${l}).`;return new Ys(l,m,i)}}function fN(s,e){return s.replace(mN,(t,i)=>{const l=e[i];return l!=null?String(l):`<${i}?>`})}const mN=/\{\$([^}]+)}/g;function pN(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function ua(s,e){if(s===e)return!0;const t=Object.keys(s),i=Object.keys(e);for(const l of t){if(!i.includes(l))return!1;const c=s[l],h=e[l];if(wx(c)&&wx(h)){if(!ua(c,h))return!1}else if(c!==h)return!1}for(const l of i)if(!t.includes(l))return!1;return!0}function wx(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(s){const e=[];for(const[t,i]of Object.entries(s))Array.isArray(i)?i.forEach(l=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function gN(s,e){const t=new yN(s,e);return t.subscribe.bind(t)}class yN{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let l;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");vN(e,["next","error","complete"])?l=e:l={next:e,error:t,complete:i},l.next===void 0&&(l.next=zm),l.error===void 0&&(l.error=zm),l.complete===void 0&&(l.complete=zm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vN(s,e){if(typeof s!="object"||s===null)return!1;for(const t of e)if(t in s&&typeof s[t]=="function")return!0;return!1}function zm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(s){return s&&s._delegate?s._delegate:s}class vi{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new eN;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:t});l&&i.resolve(l)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_N(e))try{this.getOrInitializeService({instanceIdentifier:la})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(t);try{const c=this.getOrInitializeService({instanceIdentifier:l});i.resolve(c)}catch{}}}}clearInstance(e=la){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=la){return this.instances.has(e)}getOptions(e=la){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[c,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);i===m&&h.resolve(l)}return l}onInit(e,t){var i;const l=this.normalizeInstanceIdentifier(t),c=(i=this.onInitCallbacks.get(l))!==null&&i!==void 0?i:new Set;c.add(e),this.onInitCallbacks.set(l,c);const h=this.instances.get(l);return h&&e(h,l),()=>{c.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const l of i)try{l(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:bN(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=la){return this.component?this.component.multipleInstances?e:la:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bN(s){return s===la?void 0:s}function _N(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new xN(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Xe||(Xe={}));const EN={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},TN=Xe.INFO,SN={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},NN=(s,e,...t)=>{if(e<s.logLevel)return;const i=new Date().toISOString(),l=SN[e];if(l)console[l](`[${i}]  ${s.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Wp{constructor(e){this.name=e,this._logLevel=TN,this._logHandler=NN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...e),this._logHandler(this,Xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...e),this._logHandler(this,Xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...e),this._logHandler(this,Xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...e),this._logHandler(this,Xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...e),this._logHandler(this,Xe.ERROR,...e)}}const AN=(s,e)=>e.some(t=>s instanceof t);let Ex,Tx;function jN(){return Ex||(Ex=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RN(){return Tx||(Tx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const J_=new WeakMap,gp=new WeakMap,e1=new WeakMap,Fm=new WeakMap,Zp=new WeakMap;function IN(s){const e=new Promise((t,i)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",h)},c=()=>{t(pi(s.result)),l()},h=()=>{i(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&J_.set(t,s)}).catch(()=>{}),Zp.set(e,s),e}function CN(s){if(gp.has(s))return;const e=new Promise((t,i)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",h),s.removeEventListener("abort",h)},c=()=>{t(),l()},h=()=>{i(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",h),s.addEventListener("abort",h)});gp.set(s,e)}let yp={get(s,e,t){if(s instanceof IDBTransaction){if(e==="done")return gp.get(s);if(e==="objectStoreNames")return s.objectStoreNames||e1.get(s);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return pi(s[e])},set(s,e,t){return s[e]=t,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function ON(s){yp=s(yp)}function DN(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=s.call(qm(this),e,...t);return e1.set(i,e.sort?e.sort():[e]),pi(i)}:RN().includes(s)?function(...e){return s.apply(qm(this),e),pi(J_.get(this))}:function(...e){return pi(s.apply(qm(this),e))}}function kN(s){return typeof s=="function"?DN(s):(s instanceof IDBTransaction&&CN(s),AN(s,jN())?new Proxy(s,yp):s)}function pi(s){if(s instanceof IDBRequest)return IN(s);if(Fm.has(s))return Fm.get(s);const e=kN(s);return e!==s&&(Fm.set(s,e),Zp.set(e,s)),e}const qm=s=>Zp.get(s);function MN(s,e,{blocked:t,upgrade:i,blocking:l,terminated:c}={}){const h=indexedDB.open(s,e),m=pi(h);return i&&h.addEventListener("upgradeneeded",g=>{i(pi(h.result),g.oldVersion,g.newVersion,pi(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),m.then(g=>{c&&g.addEventListener("close",()=>c()),l&&g.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const PN=["get","getKey","getAll","getAllKeys","count"],LN=["put","add","delete","clear"],Bm=new Map;function Sx(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Bm.get(e))return Bm.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,l=LN.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(l||PN.includes(t)))return;const c=async function(h,...m){const g=this.transaction(h,l?"readwrite":"readonly");let y=g.store;return i&&(y=y.index(m.shift())),(await Promise.all([y[t](...m),l&&g.done]))[0]};return Bm.set(e,c),c}ON(s=>({...s,get:(e,t,i)=>Sx(e,t)||s.get(e,t,i),has:(e,t)=>!!Sx(e,t)||s.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(UN(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function UN(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vp="@firebase/app",Nx="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr=new Wp("@firebase/app"),zN="@firebase/app-compat",FN="@firebase/analytics-compat",qN="@firebase/analytics",BN="@firebase/app-check-compat",HN="@firebase/app-check",GN="@firebase/auth",$N="@firebase/auth-compat",QN="@firebase/database",YN="@firebase/data-connect",KN="@firebase/database-compat",XN="@firebase/functions",WN="@firebase/functions-compat",ZN="@firebase/installations",JN="@firebase/installations-compat",e4="@firebase/messaging",t4="@firebase/messaging-compat",n4="@firebase/performance",s4="@firebase/performance-compat",r4="@firebase/remote-config",i4="@firebase/remote-config-compat",a4="@firebase/storage",l4="@firebase/storage-compat",o4="@firebase/firestore",c4="@firebase/ai",u4="@firebase/firestore-compat",d4="firebase",h4="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp="[DEFAULT]",f4={[vp]:"fire-core",[zN]:"fire-core-compat",[qN]:"fire-analytics",[FN]:"fire-analytics-compat",[HN]:"fire-app-check",[BN]:"fire-app-check-compat",[GN]:"fire-auth",[$N]:"fire-auth-compat",[QN]:"fire-rtdb",[YN]:"fire-data-connect",[KN]:"fire-rtdb-compat",[XN]:"fire-fn",[WN]:"fire-fn-compat",[ZN]:"fire-iid",[JN]:"fire-iid-compat",[e4]:"fire-fcm",[t4]:"fire-fcm-compat",[n4]:"fire-perf",[s4]:"fire-perf-compat",[r4]:"fire-rc",[i4]:"fire-rc-compat",[a4]:"fire-gcs",[l4]:"fire-gcs-compat",[o4]:"fire-fst",[u4]:"fire-fst-compat",[c4]:"fire-vertex","fire-js":"fire-js",[d4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Id=new Map,m4=new Map,bp=new Map;function Ax(s,e){try{s.container.addComponent(e)}catch(t){jr.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,t)}}function da(s){const e=s.name;if(bp.has(e))return jr.debug(`There were multiple attempts to register component ${e}.`),!1;bp.set(e,s);for(const t of Id.values())Ax(t,s);for(const t of m4.values())Ax(t,s);return!0}function rh(s,e){const t=s.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),s.container.getProvider(e)}function hs(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gi=new Tc("app","Firebase",p4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new vi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=h4;function t1(s,e={}){let t=s;typeof e!="object"&&(e={name:e});const i=Object.assign({name:xp,automaticDataCollectionEnabled:!0},e),l=i.name;if(typeof l!="string"||!l)throw gi.create("bad-app-name",{appName:String(l)});if(t||(t=X_()),!t)throw gi.create("no-options");const c=Id.get(l);if(c){if(ua(t,c.options)&&ua(i,c.config))return c;throw gi.create("duplicate-app",{appName:l})}const h=new wN(l);for(const g of bp.values())h.addComponent(g);const m=new g4(t,i,h);return Id.set(l,m),m}function Jp(s=xp){const e=Id.get(s);if(!e&&s===xp&&X_())return t1();if(!e)throw gi.create("no-app",{appName:s});return e}function Ls(s,e,t){var i;let l=(i=f4[s])!==null&&i!==void 0?i:s;t&&(l+=`-${t}`);const c=l.match(/\s|\//),h=e.match(/\s|\//);if(c||h){const m=[`Unable to register library "${l}" with version "${e}":`];c&&m.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),jr.warn(m.join(" "));return}da(new vi(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4="firebase-heartbeat-database",v4=1,hc="firebase-heartbeat-store";let Hm=null;function n1(){return Hm||(Hm=MN(y4,v4,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(hc)}catch(t){console.warn(t)}}}}).catch(s=>{throw gi.create("idb-open",{originalErrorMessage:s.message})})),Hm}async function x4(s){try{const t=(await n1()).transaction(hc),i=await t.objectStore(hc).get(s1(s));return await t.done,i}catch(e){if(e instanceof Ys)jr.warn(e.message);else{const t=gi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});jr.warn(t.message)}}}async function jx(s,e){try{const i=(await n1()).transaction(hc,"readwrite");await i.objectStore(hc).put(e,s1(s)),await i.done}catch(t){if(t instanceof Ys)jr.warn(t.message);else{const i=gi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});jr.warn(i.message)}}}function s1(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4=1024,_4=30;class w4{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new T4(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Rx();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(h=>h.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>_4){const h=S4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){jr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Rx(),{heartbeatsToSend:i,unsentEntries:l}=E4(this._heartbeatsCache.heartbeats),c=Rd(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(t){return jr.warn(t),""}}}function Rx(){return new Date().toISOString().substring(0,10)}function E4(s,e=b4){const t=[];let i=s.slice();for(const l of s){const c=t.find(h=>h.agent===l.agent);if(c){if(c.dates.push(l.date),Ix(t)>e){c.dates.pop();break}}else if(t.push({agent:l.agent,dates:[l.date]}),Ix(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class T4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uN()?dN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await x4(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const l=await this.read();return jx(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const l=await this.read();return jx(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function Ix(s){return Rd(JSON.stringify({version:2,heartbeats:s})).length}function S4(s){if(s.length===0)return-1;let e=0,t=s[0].date;for(let i=1;i<s.length;i++)s[i].date<t&&(t=s[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4(s){da(new vi("platform-logger",e=>new VN(e),"PRIVATE")),da(new vi("heartbeat",e=>new w4(e),"PRIVATE")),Ls(vp,Nx,s),Ls(vp,Nx,"esm2017"),Ls("fire-js","")}N4("");var A4="firebase",j4="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ls(A4,j4,"app");function eg(s,e){var t={};for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&e.indexOf(i)<0&&(t[i]=s[i]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(s);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(s,i[l])&&(t[i[l]]=s[i[l]]);return t}function r1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const R4=r1,i1=new Tc("auth","Firebase",r1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd=new Wp("@firebase/auth");function I4(s,...e){Cd.logLevel<=Xe.WARN&&Cd.warn(`Auth (${va}): ${s}`,...e)}function xd(s,...e){Cd.logLevel<=Xe.ERROR&&Cd.error(`Auth (${va}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(s,...e){throw tg(s,...e)}function Vs(s,...e){return tg(s,...e)}function a1(s,e,t){const i=Object.assign(Object.assign({},R4()),{[e]:t});return new Tc("auth","Firebase",i).create(e,{appName:s.name})}function ca(s){return a1(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tg(s,...e){if(typeof s!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=s.name),s._errorFactory.create(t,...i)}return i1.create(s,...e)}function Ue(s,e,...t){if(!s)throw tg(e,...t)}function wr(s){const e="INTERNAL ASSERTION FAILED: "+s;throw xd(e),new Error(e)}function Ir(s,e){s||wr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function C4(){return Cx()==="http:"||Cx()==="https:"}function Cx(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(C4()||aN()||"connection"in navigator)?navigator.onLine:!0}function D4(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ir(t>e,"Short delay should be less than long delay!"),this.isMobile=sN()||lN()}get(){return O4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(s,e){Ir(s.emulator,"Emulator should always be set here");const{url:t}=s.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],P4=new Nc(3e4,6e4);function sg(s,e){return s.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:s.tenantId}):e}async function Dl(s,e,t,i,l={}){return o1(s,l,async()=>{let c={},h={};i&&(e==="GET"?h=i:c={body:JSON.stringify(i)});const m=Sc(Object.assign({key:s.config.apiKey},h)).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const y=Object.assign({method:e,headers:g},c);return iN()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&ya(s.emulatorConfig.host)&&(y.credentials="include"),l1.fetch()(await c1(s,s.config.apiHost,t,m),y)})}async function o1(s,e,t){s._canInitEmulator=!1;const i=Object.assign(Object.assign({},k4),e);try{const l=new V4(s),c=await Promise.race([t(),l.promise]);l.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw ud(s,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const m=c.ok?h.errorMessage:h.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw ud(s,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw ud(s,"email-already-in-use",h);if(g==="USER_DISABLED")throw ud(s,"user-disabled",h);const w=i[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw a1(s,w,y);Rr(s,w)}}catch(l){if(l instanceof Ys)throw l;Rr(s,"network-request-failed",{message:String(l)})}}async function L4(s,e,t,i,l={}){const c=await Dl(s,e,t,i,l);return"mfaPendingCredential"in c&&Rr(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function c1(s,e,t,i){const l=`${e}${t}?${i}`,c=s,h=c.config.emulator?ng(s.config,l):`${s.config.apiScheme}://${l}`;return M4.includes(t)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(h).toString():h}class V4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Vs(this.auth,"network-request-failed")),P4.get())})}}function ud(s,e,t){const i={appName:s.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const l=Vs(s,e,i);return l.customData._tokenResponse=t,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U4(s,e){return Dl(s,"POST","/v1/accounts:delete",e)}async function Od(s,e){return Dl(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function z4(s,e=!1){const t=dn(s),i=await t.getIdToken(e),l=rg(i);Ue(l&&l.exp&&l.auth_time&&l.iat,t.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,h=c==null?void 0:c.sign_in_provider;return{claims:l,token:i,authTime:ic(Gm(l.auth_time)),issuedAtTime:ic(Gm(l.iat)),expirationTime:ic(Gm(l.exp)),signInProvider:h||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Gm(s){return Number(s)*1e3}function rg(s){const[e,t,i]=s.split(".");if(e===void 0||t===void 0||i===void 0)return xd("JWT malformed, contained fewer than 3 sections"),null;try{const l=Q_(t);return l?JSON.parse(l):(xd("Failed to decode base64 JWT payload"),null)}catch(l){return xd("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function Ox(s){const e=rg(s);return Ue(e,"internal-error"),Ue(typeof e.exp<"u","internal-error"),Ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fc(s,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Ys&&F4(i)&&s.auth.currentUser===s&&await s.auth.signOut(),i}}function F4({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const l=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ic(this.lastLoginAt),this.creationTime=ic(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dd(s){var e;const t=s.auth,i=await s.getIdToken(),l=await fc(s,Od(t,{idToken:i}));Ue(l==null?void 0:l.users.length,t,"internal-error");const c=l.users[0];s._notifyReloadListener(c);const h=!((e=c.providerUserInfo)===null||e===void 0)&&e.length?u1(c.providerUserInfo):[],m=H4(s.providerData,h),g=s.isAnonymous,y=!(s.email&&c.passwordHash)&&!(m!=null&&m.length),w=g?y:!1,A={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:m,metadata:new wp(c.createdAt,c.lastLoginAt),isAnonymous:w};Object.assign(s,A)}async function B4(s){const e=dn(s);await Dd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function H4(s,e){return[...s.filter(i=>!e.some(l=>l.providerId===i.providerId)),...e]}function u1(s){return s.map(e=>{var{providerId:t}=e,i=eg(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G4(s,e){const t=await o1(s,{},async()=>{const i=Sc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,h=await c1(s,l,"/v1/token",`key=${c}`),m=await s._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:i};return s.emulatorConfig&&ya(s.emulatorConfig.host)&&(g.credentials="include"),l1.fetch()(h,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function $4(s,e){return Dl(s,"POST","/v2/accounts:revokeToken",sg(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ue(e.idToken,"internal-error"),Ue(typeof e.idToken<"u","internal-error"),Ue(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ox(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ue(e.length!==0,"internal-error");const t=Ox(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:l,expiresIn:c}=await G4(e,t);this.updateTokensAndExpiration(i,l,Number(c))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:l,expirationTime:c}=t,h=new vl;return i&&(Ue(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),l&&(Ue(typeof l=="string","internal-error",{appName:e}),h.accessToken=l),c&&(Ue(typeof c=="number","internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vl,this.toJSON())}_performRefresh(){return wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(s,e){Ue(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class fs{constructor(e){var{uid:t,auth:i,stsTokenManager:l}=e,c=eg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new q4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new wp(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(e){const t=await fc(this,this.stsTokenManager.getToken(this.auth,e));return Ue(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return z4(this,e)}reload(){return B4(this)}_assign(e){this!==e&&(Ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new fs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Dd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hs(this.auth.app))return Promise.reject(ca(this.auth));const e=await this.getIdToken();return await fc(this,U4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,l,c,h,m,g,y,w;const A=(i=t.displayName)!==null&&i!==void 0?i:void 0,R=(l=t.email)!==null&&l!==void 0?l:void 0,q=(c=t.phoneNumber)!==null&&c!==void 0?c:void 0,U=(h=t.photoURL)!==null&&h!==void 0?h:void 0,M=(m=t.tenantId)!==null&&m!==void 0?m:void 0,B=(g=t._redirectEventId)!==null&&g!==void 0?g:void 0,X=(y=t.createdAt)!==null&&y!==void 0?y:void 0,Z=(w=t.lastLoginAt)!==null&&w!==void 0?w:void 0,{uid:J,emailVerified:se,isAnonymous:O,providerData:F,stsTokenManager:j}=t;Ue(J&&j,e,"internal-error");const I=vl.fromJSON(this.name,j);Ue(typeof J=="string",e,"internal-error"),oi(A,e.name),oi(R,e.name),Ue(typeof se=="boolean",e,"internal-error"),Ue(typeof O=="boolean",e,"internal-error"),oi(q,e.name),oi(U,e.name),oi(M,e.name),oi(B,e.name),oi(X,e.name),oi(Z,e.name);const T=new fs({uid:J,auth:e,email:R,emailVerified:se,displayName:A,isAnonymous:O,photoURL:U,phoneNumber:q,tenantId:M,stsTokenManager:I,createdAt:X,lastLoginAt:Z});return F&&Array.isArray(F)&&(T.providerData=F.map(b=>Object.assign({},b))),B&&(T._redirectEventId=B),T}static async _fromIdTokenResponse(e,t,i=!1){const l=new vl;l.updateFromServerResponse(t);const c=new fs({uid:t.localId,auth:e,stsTokenManager:l,isAnonymous:i});return await Dd(c),c}static async _fromGetAccountInfoResponse(e,t,i){const l=t.users[0];Ue(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?u1(l.providerUserInfo):[],h=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),m=new vl;m.updateFromIdToken(i);const g=new fs({uid:l.localId,auth:e,stsTokenManager:m,isAnonymous:h}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new wp(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx=new Map;function Er(s){Ir(s instanceof Function,"Expected a class definition");let e=Dx.get(s);return e?(Ir(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,Dx.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}d1.type="NONE";const kx=d1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bd(s,e,t){return`firebase:${s}:${e}:${t}`}class xl{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:l,name:c}=this.auth;this.fullUserKey=bd(this.userKey,l.apiKey,c),this.fullPersistenceKey=bd("persistence",l.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Od(this.auth,{idToken:e}).catch(()=>{});return t?fs._fromGetAccountInfoResponse(this.auth,t,e):null}return fs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new xl(Er(kx),e,i);const l=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||Er(kx);const h=bd(i,e.config.apiKey,e.name);let m=null;for(const y of t)try{const w=await y._get(h);if(w){let A;if(typeof w=="string"){const R=await Od(e,{idToken:w}).catch(()=>{});if(!R)break;A=await fs._fromGetAccountInfoResponse(e,R,w)}else A=fs._fromJSON(e,w);y!==c&&(m=A),c=y;break}}catch{}const g=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new xl(c,e,i):(c=g[0],m&&await c._set(h,m.toJSON()),await Promise.all(t.map(async y=>{if(y!==c)try{await y._remove(h)}catch{}})),new xl(c,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(p1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(h1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(y1(e))return"Blackberry";if(v1(e))return"Webos";if(f1(e))return"Safari";if((e.includes("chrome/")||m1(e))&&!e.includes("edge/"))return"Chrome";if(g1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=s.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function h1(s=xn()){return/firefox\//i.test(s)}function f1(s=xn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function m1(s=xn()){return/crios\//i.test(s)}function p1(s=xn()){return/iemobile/i.test(s)}function g1(s=xn()){return/android/i.test(s)}function y1(s=xn()){return/blackberry/i.test(s)}function v1(s=xn()){return/webos/i.test(s)}function ig(s=xn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Q4(s=xn()){var e;return ig(s)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Y4(){return oN()&&document.documentMode===10}function x1(s=xn()){return ig(s)||g1(s)||v1(s)||y1(s)||/windows phone/i.test(s)||p1(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(s,e=[]){let t;switch(s){case"Browser":t=Mx(xn());break;case"Worker":t=`${Mx(xn())}-${s}`;break;default:t=s}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${va}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=c=>new Promise((h,m)=>{try{const g=e(c);h(g)}catch(g){m(g)}});i.onAbort=t,this.queue.push(i);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const l of t)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X4(s,e={}){return Dl(s,"GET","/v2/passwordPolicy",sg(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4=6;class Z4{constructor(e){var t,i,l,c;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:W4,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=e.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,l,c,h,m;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(t=g.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),g.isValid&&(g.isValid=(i=g.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),g.isValid&&(g.isValid=(l=g.containsLowercaseLetter)!==null&&l!==void 0?l:!0),g.isValid&&(g.isValid=(c=g.containsUppercaseLetter)!==null&&c!==void 0?c:!0),g.isValid&&(g.isValid=(h=g.containsNumericCharacter)!==null&&h!==void 0?h:!0),g.isValid&&(g.isValid=(m=g.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),g}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),l&&(t.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let l=0;l<e.length;l++)i=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e,t,i,l){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Px(this),this.idTokenSubscription=new Px(this),this.beforeStateQueue=new K4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=i1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Er(t)),this._initializationPromise=this.queue(async()=>{var i,l,c;if(!this._deleted&&(this.persistenceManager=await xl.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Od(this,{idToken:e}),i=await fs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(hs(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let l=i,c=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=l==null?void 0:l._redirectEventId,g=await this.tryRedirectSignIn(e);(!h||h===m)&&(g!=null&&g.user)&&(l=g.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(h){l=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return Ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Dd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=D4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hs(this.app))return Promise.reject(ca(this));const t=e?dn(e):null;return t&&Ue(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hs(this.app)?Promise.reject(ca(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hs(this.app)?Promise.reject(ca(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Er(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await X4(this),t=new Z4(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Tc("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await $4(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Er(e)||this._popupRedirectResolver;Ue(t,this,"argument-error"),this.redirectPersistenceManager=await xl.create(this,[Er(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,l){if(this._deleted)return()=>{};const c=typeof t=="function"?t:t.next.bind(t);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ue(m,this,"internal-error"),m.then(()=>{h||c(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,i,l);return()=>{h=!0,g()}}else{const g=e.addObserver(t);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=b1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const l=await this._getAppCheckToken();return l&&(t["X-Firebase-AppCheck"]=l),t}async _getAppCheckToken(){var e;if(hs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&I4(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ag(s){return dn(s)}class Px{constructor(e){this.auth=e,this.observer=null,this.addObserver=gN(t=>this.observer=t)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eA(s){lg=s}function tA(s){return lg.loadJS(s)}function nA(){return lg.gapiScript}function sA(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(s,e){const t=rh(s,"auth");if(t.isInitialized()){const l=t.getImmediate(),c=t.getOptions();if(ua(c,e??{}))return l;Rr(l,"already-initialized")}return t.initialize({options:e})}function iA(s,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Er);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function aA(s,e,t){const i=ag(s);Ue(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const l=!1,c=_1(e),{host:h,port:m}=lA(e),g=m===null?"":`:${m}`,y={url:`${c}//${h}${g}/`},w=Object.freeze({host:h,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!i._canInitEmulator){Ue(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ue(ua(y,i.config.emulator)&&ua(w,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=y,i.emulatorConfig=w,i.settings.appVerificationDisabledForTesting=!0,ya(h)?(Kp(`${c}//${h}${g}`),Xp("Auth",!0)):oA()}function _1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function lA(s){const e=_1(s),t=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(i);if(l){const c=l[1];return{host:c,port:Lx(i.substr(c.length+1))}}else{const[c,h]=i.split(":");return{host:c,port:Lx(h)}}}function Lx(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function oA(){function s(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return wr("not implemented")}_getIdTokenResponse(e){return wr("not implemented")}_linkToIdToken(e,t){return wr("not implemented")}_getReauthenticationResolver(e){return wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(s,e){return L4(s,"POST","/v1/accounts:signInWithIdp",sg(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA="http://localhost";class ha extends w1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ha(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Rr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:l}=t,c=eg(t,["providerId","signInMethod"]);if(!i||!l)return null;const h=new ha(i,l);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return bl(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,bl(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,bl(e,t)}buildRequest(){const e={requestUri:cA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Sc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac extends E1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends Ac{constructor(){super("facebook.com")}static credential(e){return ha._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ci.credential(e.oauthAccessToken)}catch{return null}}}ci.FACEBOOK_SIGN_IN_METHOD="facebook.com";ci.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends Ac{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ha._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return ui.credential(t,i)}catch{return null}}}ui.GOOGLE_SIGN_IN_METHOD="google.com";ui.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends Ac{constructor(){super("github.com")}static credential(e){return ha._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return di.credential(e.oauthAccessToken)}catch{return null}}}di.GITHUB_SIGN_IN_METHOD="github.com";di.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends Ac{constructor(){super("twitter.com")}static credential(e,t){return ha._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return hi.credential(t,i)}catch{return null}}}hi.TWITTER_SIGN_IN_METHOD="twitter.com";hi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,l=!1){const c=await fs._fromIdTokenResponse(e,i,l),h=Vx(i);return new wl({user:c,providerId:h,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const l=Vx(i);return new wl({user:e,providerId:l,_tokenResponse:i,operationType:t})}}function Vx(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd extends Ys{constructor(e,t,i,l){var c;super(t.code,t.message),this.operationType=i,this.user=l,Object.setPrototypeOf(this,kd.prototype),this.customData={appName:e.name,tenantId:(c=e.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,l){return new kd(e,t,i,l)}}function T1(s,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(s):t._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?kd._fromErrorAndOperation(s,c,e,i):c})}async function uA(s,e,t=!1){const i=await fc(s,e._linkToIdToken(s.auth,await s.getIdToken()),t);return wl._forOperation(s,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dA(s,e,t=!1){const{auth:i}=s;if(hs(i.app))return Promise.reject(ca(i));const l="reauthenticate";try{const c=await fc(s,T1(i,l,e,s),t);Ue(c.idToken,i,"internal-error");const h=rg(c.idToken);Ue(h,i,"internal-error");const{sub:m}=h;return Ue(s.uid===m,i,"user-mismatch"),wl._forOperation(s,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&Rr(i,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hA(s,e,t=!1){if(hs(s.app))return Promise.reject(ca(s));const i="signIn",l=await T1(s,i,e),c=await wl._fromIdTokenResponse(s,i,l);return t||await s._updateCurrentUser(c.user),c}function fA(s,e,t,i){return dn(s).onIdTokenChanged(e,t,i)}function mA(s,e,t){return dn(s).beforeAuthStateChanged(e,t)}const Md="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Md,"1"),this.storage.removeItem(Md),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA=1e3,gA=10;class N1 extends S1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=x1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),l=this.localCache[t];i!==l&&e(t,l,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const i=e.key;t?this.detachListener():this.stopPolling();const l=()=>{const h=this.storage.getItem(i);!t&&this.localCache[i]===h||this.notifyListeners(i,h)},c=this.storage.getItem(i);Y4()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,gA):l()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const l of Array.from(i))l(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},pA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}N1.type="LOCAL";const yA=N1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1 extends S1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}A1.type="SESSION";const j1=A1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(l=>l.isListeningto(e));if(t)return t;const i=new ih(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:l,data:c}=t.data,h=this.handlersMap[l];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:l});const m=Array.from(h).map(async y=>y(t.origin,c)),g=await vA(m);t.ports[0].postMessage({status:"done",eventId:i,eventType:l,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ih.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(s="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return s+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,h;return new Promise((m,g)=>{const y=og("",20);l.port1.start();const w=setTimeout(()=>{g(new Error("unsupported_event"))},i);h={messageChannel:l,onMessage(A){const R=A;if(R.data.eventId===y)switch(R.data.status){case"ack":clearTimeout(w),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(R.data.response);break;default:clearTimeout(w),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(h),l.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[l.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Us(){return window}function bA(s){Us().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(){return typeof Us().WorkerGlobalScope<"u"&&typeof Us().importScripts=="function"}async function _A(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wA(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function EA(){return R1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="firebaseLocalStorageDb",TA=1,Pd="firebaseLocalStorage",C1="fbase_key";class jc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ah(s,e){return s.transaction([Pd],e?"readwrite":"readonly").objectStore(Pd)}function SA(){const s=indexedDB.deleteDatabase(I1);return new jc(s).toPromise()}function Ep(){const s=indexedDB.open(I1,TA);return new Promise((e,t)=>{s.addEventListener("error",()=>{t(s.error)}),s.addEventListener("upgradeneeded",()=>{const i=s.result;try{i.createObjectStore(Pd,{keyPath:C1})}catch(l){t(l)}}),s.addEventListener("success",async()=>{const i=s.result;i.objectStoreNames.contains(Pd)?e(i):(i.close(),await SA(),e(await Ep()))})})}async function Ux(s,e,t){const i=ah(s,!0).put({[C1]:e,value:t});return new jc(i).toPromise()}async function NA(s,e){const t=ah(s,!1).get(e),i=await new jc(t).toPromise();return i===void 0?null:i.value}function zx(s,e){const t=ah(s,!0).delete(e);return new jc(t).toPromise()}const AA=800,jA=3;class O1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ep(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>jA)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return R1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ih._getInstance(EA()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await _A(),!this.activeServiceWorker)return;this.sender=new xA(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||wA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ep();return await Ux(e,Md,"1"),await zx(e,Md),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Ux(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>NA(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>zx(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=ah(l,!1).getAll();return new jc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)i.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),t.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!i.has(l)&&(this.notifyListeners(l,null),t.push(l));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const l of Array.from(i))l(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),AA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}O1.type="LOCAL";const RA=O1;new Nc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(s,e){return e?Er(e):(Ue(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg extends w1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return bl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return bl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function CA(s){return hA(s.auth,new cg(s),s.bypassAuthState)}function OA(s){const{auth:e,user:t}=s;return Ue(t,e,"internal-error"),dA(t,new cg(s),s.bypassAuthState)}async function DA(s){const{auth:e,user:t}=s;return Ue(t,e,"internal-error"),uA(t,new cg(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e,t,i,l,c=!1){this.auth=e,this.resolver=i,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:l,tenantId:c,error:h,type:m}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:t,sessionId:i,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return CA;case"linkViaPopup":case"linkViaRedirect":return DA;case"reauthViaPopup":case"reauthViaRedirect":return OA;default:Rr(this.auth,"internal-error")}}resolve(e){Ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA=new Nc(2e3,1e4);class gl extends D1{constructor(e,t,i,l,c){super(e,t,l,c),this.provider=i,this.authWindow=null,this.pollId=null,gl.currentPopupAction&&gl.currentPopupAction.cancel(),gl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ue(e,this.auth,"internal-error"),e}async onExecution(){Ir(this.filter.length===1,"Popup operations only handle one event");const e=og();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Vs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Vs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,kA.get())};e()}}gl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA="pendingRedirect",_d=new Map;class PA extends D1{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=_d.get(this.auth._key());if(!e){try{const i=await LA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}_d.set(this.auth._key(),e)}return this.bypassAuthState||_d.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function LA(s,e){const t=zA(e),i=UA(s);if(!await i._isAvailable())return!1;const l=await i._get(t)==="true";return await i._remove(t),l}function VA(s,e){_d.set(s._key(),e)}function UA(s){return Er(s._redirectPersistence)}function zA(s){return bd(MA,s.config.apiKey,s.name)}async function FA(s,e,t=!1){if(hs(s.app))return Promise.reject(ca(s));const i=ag(s),l=IA(i,e),h=await new PA(i,l,t).execute();return h&&!t&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA=10*60*1e3;class BA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HA(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!k1(e)){const l=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Vs(this.auth,l))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qA&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fx(e))}saveEventToCache(e){this.cachedEventUids.add(Fx(e)),this.lastProcessedEventTime=Date.now()}}function Fx(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function k1({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function HA(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return k1(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GA(s,e={}){return Dl(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,QA=/^https?/;async function YA(s){if(s.config.emulator)return;const{authorizedDomains:e}=await GA(s);for(const t of e)try{if(KA(t))return}catch{}Rr(s,"unauthorized-domain")}function KA(s){const e=_p(),{protocol:t,hostname:i}=new URL(e);if(s.startsWith("chrome-extension://")){const h=new URL(s);return h.hostname===""&&i===""?t==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===i}if(!QA.test(t))return!1;if($A.test(s))return i===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA=new Nc(3e4,6e4);function qx(){const s=Us().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let t=0;t<s.CP.length;t++)s.CP[t]=null}}function WA(s){return new Promise((e,t)=>{var i,l,c;function h(){qx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qx(),t(Vs(s,"network-request-failed"))},timeout:XA.get()})}if(!((l=(i=Us().gapi)===null||i===void 0?void 0:i.iframes)===null||l===void 0)&&l.Iframe)e(gapi.iframes.getContext());else if(!((c=Us().gapi)===null||c===void 0)&&c.load)h();else{const m=sA("iframefcb");return Us()[m]=()=>{gapi.load?h():t(Vs(s,"network-request-failed"))},tA(`${nA()}?onload=${m}`).catch(g=>t(g))}}).catch(e=>{throw wd=null,e})}let wd=null;function ZA(s){return wd=wd||WA(s),wd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA=new Nc(5e3,15e3),e6="__/auth/iframe",t6="emulator/auth/iframe",n6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},s6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function r6(s){const e=s.config;Ue(e.authDomain,s,"auth-domain-config-required");const t=e.emulator?ng(e,t6):`https://${s.config.authDomain}/${e6}`,i={apiKey:e.apiKey,appName:s.name,v:va},l=s6.get(s.config.apiHost);l&&(i.eid=l);const c=s._getFrameworks();return c.length&&(i.fw=c.join(",")),`${t}?${Sc(i).slice(1)}`}async function i6(s){const e=await ZA(s),t=Us().gapi;return Ue(t,s,"internal-error"),e.open({where:document.body,url:r6(s),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:n6,dontclear:!0},i=>new Promise(async(l,c)=>{await i.restyle({setHideOnLeave:!1});const h=Vs(s,"network-request-failed"),m=Us().setTimeout(()=>{c(h)},JA.get());function g(){Us().clearTimeout(m),l(i)}i.ping(g).then(g,()=>{c(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},l6=500,o6=600,c6="_blank",u6="http://localhost";class Bx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function d6(s,e,t,i=l6,l=o6){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let m="";const g=Object.assign(Object.assign({},a6),{width:i.toString(),height:l.toString(),top:c,left:h}),y=xn().toLowerCase();t&&(m=m1(y)?c6:t),h1(y)&&(e=e||u6,g.scrollbars="yes");const w=Object.entries(g).reduce((R,[q,U])=>`${R}${q}=${U},`,"");if(Q4(y)&&m!=="_self")return h6(e||"",m),new Bx(null);const A=window.open(e||"",m,w);Ue(A,s,"popup-blocked");try{A.focus()}catch{}return new Bx(A)}function h6(s,e){const t=document.createElement("a");t.href=s,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6="__/auth/handler",m6="emulator/auth/handler",p6=encodeURIComponent("fac");async function Hx(s,e,t,i,l,c){Ue(s.config.authDomain,s,"auth-domain-config-required"),Ue(s.config.apiKey,s,"invalid-api-key");const h={apiKey:s.config.apiKey,appName:s.name,authType:t,redirectUrl:i,v:va,eventId:l};if(e instanceof E1){e.setDefaultLanguage(s.languageCode),h.providerId=e.providerId||"",pN(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,A]of Object.entries({}))h[w]=A}if(e instanceof Ac){const w=e.getScopes().filter(A=>A!=="");w.length>0&&(h.scopes=w.join(","))}s.tenantId&&(h.tid=s.tenantId);const m=h;for(const w of Object.keys(m))m[w]===void 0&&delete m[w];const g=await s._getAppCheckToken(),y=g?`#${p6}=${encodeURIComponent(g)}`:"";return`${g6(s)}?${Sc(m).slice(1)}${y}`}function g6({config:s}){return s.emulator?ng(s,m6):`https://${s.authDomain}/${f6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m="webStorageSupport";class y6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=j1,this._completeRedirectFn=FA,this._overrideRedirectResult=VA}async _openPopup(e,t,i,l){var c;Ir((c=this.eventManagers[e._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const h=await Hx(e,t,i,_p(),l);return d6(e,h,og())}async _openRedirect(e,t,i,l){await this._originValidation(e);const c=await Hx(e,t,i,_p(),l);return bA(c),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:l,promise:c}=this.eventManagers[t];return l?Promise.resolve(l):(Ir(c,"If manager is not set, promise should be"),c)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await i6(e),i=new BA(e);return t.register("authEvent",l=>(Ue(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:i.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send($m,{type:$m},l=>{var c;const h=(c=l==null?void 0:l[0])===null||c===void 0?void 0:c[$m];h!==void 0&&t(!!h),Rr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=YA(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return x1()||f1()||ig()}}const v6=y6;var Gx="@firebase/auth",$x="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b6(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _6(s){da(new vi("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=i.options;Ue(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const g={apiKey:h,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:b1(s)},y=new J4(i,l,c,g);return iA(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),da(new vi("auth-internal",e=>{const t=ag(e.getProvider("auth").getImmediate());return(i=>new x6(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ls(Gx,$x,b6(s)),Ls(Gx,$x,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6=5*60,E6=W_("authIdTokenMaxAge")||w6;let Qx=null;const T6=s=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>E6)return;const l=t==null?void 0:t.token;Qx!==l&&(Qx=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function S6(s=Jp()){const e=rh(s,"auth");if(e.isInitialized())return e.getImmediate();const t=rA(s,{popupRedirectResolver:v6,persistence:[RA,yA,j1]}),i=W_("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(i,location.origin);if(location.origin===c.origin){const h=T6(c.toString());mA(t,h,()=>h(t.currentUser)),fA(t,m=>h(m))}}const l=Y_("auth");return l&&aA(t,`http://${l}`),t}function N6(){var s,e;return(e=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&e!==void 0?e:document}eA({loadJS(s){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",s),i.onload=e,i.onerror=l=>{const c=Vs("internal-error");c.customData=l,t(c)},i.type="text/javascript",i.charset="UTF-8",N6().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_6("Browser");var Yx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yi,M1;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,I){function T(){}T.prototype=I.prototype,j.D=I.prototype,j.prototype=new T,j.prototype.constructor=j,j.C=function(b,k,V){for(var C=Array(arguments.length-2),z=2;z<arguments.length;z++)C[z-2]=arguments[z];return I.prototype[k].apply(b,C)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(j,I,T){T||(T=0);var b=Array(16);if(typeof I=="string")for(var k=0;16>k;++k)b[k]=I.charCodeAt(T++)|I.charCodeAt(T++)<<8|I.charCodeAt(T++)<<16|I.charCodeAt(T++)<<24;else for(k=0;16>k;++k)b[k]=I[T++]|I[T++]<<8|I[T++]<<16|I[T++]<<24;I=j.g[0],T=j.g[1],k=j.g[2];var V=j.g[3],C=I+(V^T&(k^V))+b[0]+3614090360&4294967295;I=T+(C<<7&4294967295|C>>>25),C=V+(k^I&(T^k))+b[1]+3905402710&4294967295,V=I+(C<<12&4294967295|C>>>20),C=k+(T^V&(I^T))+b[2]+606105819&4294967295,k=V+(C<<17&4294967295|C>>>15),C=T+(I^k&(V^I))+b[3]+3250441966&4294967295,T=k+(C<<22&4294967295|C>>>10),C=I+(V^T&(k^V))+b[4]+4118548399&4294967295,I=T+(C<<7&4294967295|C>>>25),C=V+(k^I&(T^k))+b[5]+1200080426&4294967295,V=I+(C<<12&4294967295|C>>>20),C=k+(T^V&(I^T))+b[6]+2821735955&4294967295,k=V+(C<<17&4294967295|C>>>15),C=T+(I^k&(V^I))+b[7]+4249261313&4294967295,T=k+(C<<22&4294967295|C>>>10),C=I+(V^T&(k^V))+b[8]+1770035416&4294967295,I=T+(C<<7&4294967295|C>>>25),C=V+(k^I&(T^k))+b[9]+2336552879&4294967295,V=I+(C<<12&4294967295|C>>>20),C=k+(T^V&(I^T))+b[10]+4294925233&4294967295,k=V+(C<<17&4294967295|C>>>15),C=T+(I^k&(V^I))+b[11]+2304563134&4294967295,T=k+(C<<22&4294967295|C>>>10),C=I+(V^T&(k^V))+b[12]+1804603682&4294967295,I=T+(C<<7&4294967295|C>>>25),C=V+(k^I&(T^k))+b[13]+4254626195&4294967295,V=I+(C<<12&4294967295|C>>>20),C=k+(T^V&(I^T))+b[14]+2792965006&4294967295,k=V+(C<<17&4294967295|C>>>15),C=T+(I^k&(V^I))+b[15]+1236535329&4294967295,T=k+(C<<22&4294967295|C>>>10),C=I+(k^V&(T^k))+b[1]+4129170786&4294967295,I=T+(C<<5&4294967295|C>>>27),C=V+(T^k&(I^T))+b[6]+3225465664&4294967295,V=I+(C<<9&4294967295|C>>>23),C=k+(I^T&(V^I))+b[11]+643717713&4294967295,k=V+(C<<14&4294967295|C>>>18),C=T+(V^I&(k^V))+b[0]+3921069994&4294967295,T=k+(C<<20&4294967295|C>>>12),C=I+(k^V&(T^k))+b[5]+3593408605&4294967295,I=T+(C<<5&4294967295|C>>>27),C=V+(T^k&(I^T))+b[10]+38016083&4294967295,V=I+(C<<9&4294967295|C>>>23),C=k+(I^T&(V^I))+b[15]+3634488961&4294967295,k=V+(C<<14&4294967295|C>>>18),C=T+(V^I&(k^V))+b[4]+3889429448&4294967295,T=k+(C<<20&4294967295|C>>>12),C=I+(k^V&(T^k))+b[9]+568446438&4294967295,I=T+(C<<5&4294967295|C>>>27),C=V+(T^k&(I^T))+b[14]+3275163606&4294967295,V=I+(C<<9&4294967295|C>>>23),C=k+(I^T&(V^I))+b[3]+4107603335&4294967295,k=V+(C<<14&4294967295|C>>>18),C=T+(V^I&(k^V))+b[8]+1163531501&4294967295,T=k+(C<<20&4294967295|C>>>12),C=I+(k^V&(T^k))+b[13]+2850285829&4294967295,I=T+(C<<5&4294967295|C>>>27),C=V+(T^k&(I^T))+b[2]+4243563512&4294967295,V=I+(C<<9&4294967295|C>>>23),C=k+(I^T&(V^I))+b[7]+1735328473&4294967295,k=V+(C<<14&4294967295|C>>>18),C=T+(V^I&(k^V))+b[12]+2368359562&4294967295,T=k+(C<<20&4294967295|C>>>12),C=I+(T^k^V)+b[5]+4294588738&4294967295,I=T+(C<<4&4294967295|C>>>28),C=V+(I^T^k)+b[8]+2272392833&4294967295,V=I+(C<<11&4294967295|C>>>21),C=k+(V^I^T)+b[11]+1839030562&4294967295,k=V+(C<<16&4294967295|C>>>16),C=T+(k^V^I)+b[14]+4259657740&4294967295,T=k+(C<<23&4294967295|C>>>9),C=I+(T^k^V)+b[1]+2763975236&4294967295,I=T+(C<<4&4294967295|C>>>28),C=V+(I^T^k)+b[4]+1272893353&4294967295,V=I+(C<<11&4294967295|C>>>21),C=k+(V^I^T)+b[7]+4139469664&4294967295,k=V+(C<<16&4294967295|C>>>16),C=T+(k^V^I)+b[10]+3200236656&4294967295,T=k+(C<<23&4294967295|C>>>9),C=I+(T^k^V)+b[13]+681279174&4294967295,I=T+(C<<4&4294967295|C>>>28),C=V+(I^T^k)+b[0]+3936430074&4294967295,V=I+(C<<11&4294967295|C>>>21),C=k+(V^I^T)+b[3]+3572445317&4294967295,k=V+(C<<16&4294967295|C>>>16),C=T+(k^V^I)+b[6]+76029189&4294967295,T=k+(C<<23&4294967295|C>>>9),C=I+(T^k^V)+b[9]+3654602809&4294967295,I=T+(C<<4&4294967295|C>>>28),C=V+(I^T^k)+b[12]+3873151461&4294967295,V=I+(C<<11&4294967295|C>>>21),C=k+(V^I^T)+b[15]+530742520&4294967295,k=V+(C<<16&4294967295|C>>>16),C=T+(k^V^I)+b[2]+3299628645&4294967295,T=k+(C<<23&4294967295|C>>>9),C=I+(k^(T|~V))+b[0]+4096336452&4294967295,I=T+(C<<6&4294967295|C>>>26),C=V+(T^(I|~k))+b[7]+1126891415&4294967295,V=I+(C<<10&4294967295|C>>>22),C=k+(I^(V|~T))+b[14]+2878612391&4294967295,k=V+(C<<15&4294967295|C>>>17),C=T+(V^(k|~I))+b[5]+4237533241&4294967295,T=k+(C<<21&4294967295|C>>>11),C=I+(k^(T|~V))+b[12]+1700485571&4294967295,I=T+(C<<6&4294967295|C>>>26),C=V+(T^(I|~k))+b[3]+2399980690&4294967295,V=I+(C<<10&4294967295|C>>>22),C=k+(I^(V|~T))+b[10]+4293915773&4294967295,k=V+(C<<15&4294967295|C>>>17),C=T+(V^(k|~I))+b[1]+2240044497&4294967295,T=k+(C<<21&4294967295|C>>>11),C=I+(k^(T|~V))+b[8]+1873313359&4294967295,I=T+(C<<6&4294967295|C>>>26),C=V+(T^(I|~k))+b[15]+4264355552&4294967295,V=I+(C<<10&4294967295|C>>>22),C=k+(I^(V|~T))+b[6]+2734768916&4294967295,k=V+(C<<15&4294967295|C>>>17),C=T+(V^(k|~I))+b[13]+1309151649&4294967295,T=k+(C<<21&4294967295|C>>>11),C=I+(k^(T|~V))+b[4]+4149444226&4294967295,I=T+(C<<6&4294967295|C>>>26),C=V+(T^(I|~k))+b[11]+3174756917&4294967295,V=I+(C<<10&4294967295|C>>>22),C=k+(I^(V|~T))+b[2]+718787259&4294967295,k=V+(C<<15&4294967295|C>>>17),C=T+(V^(k|~I))+b[9]+3951481745&4294967295,j.g[0]=j.g[0]+I&4294967295,j.g[1]=j.g[1]+(k+(C<<21&4294967295|C>>>11))&4294967295,j.g[2]=j.g[2]+k&4294967295,j.g[3]=j.g[3]+V&4294967295}i.prototype.u=function(j,I){I===void 0&&(I=j.length);for(var T=I-this.blockSize,b=this.B,k=this.h,V=0;V<I;){if(k==0)for(;V<=T;)l(this,j,V),V+=this.blockSize;if(typeof j=="string"){for(;V<I;)if(b[k++]=j.charCodeAt(V++),k==this.blockSize){l(this,b),k=0;break}}else for(;V<I;)if(b[k++]=j[V++],k==this.blockSize){l(this,b),k=0;break}}this.h=k,this.o+=I},i.prototype.v=function(){var j=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);j[0]=128;for(var I=1;I<j.length-8;++I)j[I]=0;var T=8*this.o;for(I=j.length-8;I<j.length;++I)j[I]=T&255,T/=256;for(this.u(j),j=Array(16),I=T=0;4>I;++I)for(var b=0;32>b;b+=8)j[T++]=this.g[I]>>>b&255;return j};function c(j,I){var T=m;return Object.prototype.hasOwnProperty.call(T,j)?T[j]:T[j]=I(j)}function h(j,I){this.h=I;for(var T=[],b=!0,k=j.length-1;0<=k;k--){var V=j[k]|0;b&&V==I||(T[k]=V,b=!1)}this.g=T}var m={};function g(j){return-128<=j&&128>j?c(j,function(I){return new h([I|0],0>I?-1:0)}):new h([j|0],0>j?-1:0)}function y(j){if(isNaN(j)||!isFinite(j))return A;if(0>j)return B(y(-j));for(var I=[],T=1,b=0;j>=T;b++)I[b]=j/T|0,T*=4294967296;return new h(I,0)}function w(j,I){if(j.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(j.charAt(0)=="-")return B(w(j.substring(1),I));if(0<=j.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=y(Math.pow(I,8)),b=A,k=0;k<j.length;k+=8){var V=Math.min(8,j.length-k),C=parseInt(j.substring(k,k+V),I);8>V?(V=y(Math.pow(I,V)),b=b.j(V).add(y(C))):(b=b.j(T),b=b.add(y(C)))}return b}var A=g(0),R=g(1),q=g(16777216);s=h.prototype,s.m=function(){if(M(this))return-B(this).m();for(var j=0,I=1,T=0;T<this.g.length;T++){var b=this.i(T);j+=(0<=b?b:4294967296+b)*I,I*=4294967296}return j},s.toString=function(j){if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(U(this))return"0";if(M(this))return"-"+B(this).toString(j);for(var I=y(Math.pow(j,6)),T=this,b="";;){var k=se(T,I).g;T=X(T,k.j(I));var V=((0<T.g.length?T.g[0]:T.h)>>>0).toString(j);if(T=k,U(T))return V+b;for(;6>V.length;)V="0"+V;b=V+b}},s.i=function(j){return 0>j?0:j<this.g.length?this.g[j]:this.h};function U(j){if(j.h!=0)return!1;for(var I=0;I<j.g.length;I++)if(j.g[I]!=0)return!1;return!0}function M(j){return j.h==-1}s.l=function(j){return j=X(this,j),M(j)?-1:U(j)?0:1};function B(j){for(var I=j.g.length,T=[],b=0;b<I;b++)T[b]=~j.g[b];return new h(T,~j.h).add(R)}s.abs=function(){return M(this)?B(this):this},s.add=function(j){for(var I=Math.max(this.g.length,j.g.length),T=[],b=0,k=0;k<=I;k++){var V=b+(this.i(k)&65535)+(j.i(k)&65535),C=(V>>>16)+(this.i(k)>>>16)+(j.i(k)>>>16);b=C>>>16,V&=65535,C&=65535,T[k]=C<<16|V}return new h(T,T[T.length-1]&-2147483648?-1:0)};function X(j,I){return j.add(B(I))}s.j=function(j){if(U(this)||U(j))return A;if(M(this))return M(j)?B(this).j(B(j)):B(B(this).j(j));if(M(j))return B(this.j(B(j)));if(0>this.l(q)&&0>j.l(q))return y(this.m()*j.m());for(var I=this.g.length+j.g.length,T=[],b=0;b<2*I;b++)T[b]=0;for(b=0;b<this.g.length;b++)for(var k=0;k<j.g.length;k++){var V=this.i(b)>>>16,C=this.i(b)&65535,z=j.i(k)>>>16,ae=j.i(k)&65535;T[2*b+2*k]+=C*ae,Z(T,2*b+2*k),T[2*b+2*k+1]+=V*ae,Z(T,2*b+2*k+1),T[2*b+2*k+1]+=C*z,Z(T,2*b+2*k+1),T[2*b+2*k+2]+=V*z,Z(T,2*b+2*k+2)}for(b=0;b<I;b++)T[b]=T[2*b+1]<<16|T[2*b];for(b=I;b<2*I;b++)T[b]=0;return new h(T,0)};function Z(j,I){for(;(j[I]&65535)!=j[I];)j[I+1]+=j[I]>>>16,j[I]&=65535,I++}function J(j,I){this.g=j,this.h=I}function se(j,I){if(U(I))throw Error("division by zero");if(U(j))return new J(A,A);if(M(j))return I=se(B(j),I),new J(B(I.g),B(I.h));if(M(I))return I=se(j,B(I)),new J(B(I.g),I.h);if(30<j.g.length){if(M(j)||M(I))throw Error("slowDivide_ only works with positive integers.");for(var T=R,b=I;0>=b.l(j);)T=O(T),b=O(b);var k=F(T,1),V=F(b,1);for(b=F(b,2),T=F(T,2);!U(b);){var C=V.add(b);0>=C.l(j)&&(k=k.add(T),V=C),b=F(b,1),T=F(T,1)}return I=X(j,k.j(I)),new J(k,I)}for(k=A;0<=j.l(I);){for(T=Math.max(1,Math.floor(j.m()/I.m())),b=Math.ceil(Math.log(T)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),V=y(T),C=V.j(I);M(C)||0<C.l(j);)T-=b,V=y(T),C=V.j(I);U(V)&&(V=R),k=k.add(V),j=X(j,C)}return new J(k,j)}s.A=function(j){return se(this,j).h},s.and=function(j){for(var I=Math.max(this.g.length,j.g.length),T=[],b=0;b<I;b++)T[b]=this.i(b)&j.i(b);return new h(T,this.h&j.h)},s.or=function(j){for(var I=Math.max(this.g.length,j.g.length),T=[],b=0;b<I;b++)T[b]=this.i(b)|j.i(b);return new h(T,this.h|j.h)},s.xor=function(j){for(var I=Math.max(this.g.length,j.g.length),T=[],b=0;b<I;b++)T[b]=this.i(b)^j.i(b);return new h(T,this.h^j.h)};function O(j){for(var I=j.g.length+1,T=[],b=0;b<I;b++)T[b]=j.i(b)<<1|j.i(b-1)>>>31;return new h(T,j.h)}function F(j,I){var T=I>>5;I%=32;for(var b=j.g.length-T,k=[],V=0;V<b;V++)k[V]=0<I?j.i(V+T)>>>I|j.i(V+T+1)<<32-I:j.i(V+T);return new h(k,j.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,M1=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=w,yi=h}).apply(typeof Yx<"u"?Yx:typeof self<"u"?self:typeof window<"u"?window:{});var dd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var P1,tc,L1,Ed,Tp,V1,U1,z1;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,x,E){return d==Array.prototype||d==Object.prototype||(d[x]=E.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof dd=="object"&&dd];for(var x=0;x<d.length;++x){var E=d[x];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=t(this);function l(d,x){if(x)e:{var E=i;d=d.split(".");for(var P=0;P<d.length-1;P++){var ne=d[P];if(!(ne in E))break e;E=E[ne]}d=d[d.length-1],P=E[d],x=x(P),x!=P&&x!=null&&e(E,d,{configurable:!0,writable:!0,value:x})}}function c(d,x){d instanceof String&&(d+="");var E=0,P=!1,ne={next:function(){if(!P&&E<d.length){var ue=E++;return{value:x(ue,d[ue]),done:!1}}return P=!0,{done:!0,value:void 0}}};return ne[Symbol.iterator]=function(){return ne},ne}l("Array.prototype.values",function(d){return d||function(){return c(this,function(x,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function g(d){var x=typeof d;return x=x!="object"?x:d?Array.isArray(d)?"array":x:"null",x=="array"||x=="object"&&typeof d.length=="number"}function y(d){var x=typeof d;return x=="object"&&d!=null||x=="function"}function w(d,x,E){return d.call.apply(d.bind,arguments)}function A(d,x,E){if(!d)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var ne=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ne,P),d.apply(x,ne)}}return function(){return d.apply(x,arguments)}}function R(d,x,E){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:A,R.apply(null,arguments)}function q(d,x){var E=Array.prototype.slice.call(arguments,1);return function(){var P=E.slice();return P.push.apply(P,arguments),d.apply(this,P)}}function U(d,x){function E(){}E.prototype=x.prototype,d.aa=x.prototype,d.prototype=new E,d.prototype.constructor=d,d.Qb=function(P,ne,ue){for(var be=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)be[Ze-2]=arguments[Ze];return x.prototype[ne].apply(P,be)}}function M(d){const x=d.length;if(0<x){const E=Array(x);for(let P=0;P<x;P++)E[P]=d[P];return E}return[]}function B(d,x){for(let E=1;E<arguments.length;E++){const P=arguments[E];if(g(P)){const ne=d.length||0,ue=P.length||0;d.length=ne+ue;for(let be=0;be<ue;be++)d[ne+be]=P[be]}else d.push(P)}}class X{constructor(x,E){this.i=x,this.j=E,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function Z(d){return/^[\s\xa0]*$/.test(d)}function J(){var d=m.navigator;return d&&(d=d.userAgent)?d:""}function se(d){return se[" "](d),d}se[" "]=function(){};var O=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function F(d,x,E){for(const P in d)x.call(E,d[P],P,d)}function j(d,x){for(const E in d)x.call(void 0,d[E],E,d)}function I(d){const x={};for(const E in d)x[E]=d[E];return x}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(d,x){let E,P;for(let ne=1;ne<arguments.length;ne++){P=arguments[ne];for(E in P)d[E]=P[E];for(let ue=0;ue<T.length;ue++)E=T[ue],Object.prototype.hasOwnProperty.call(P,E)&&(d[E]=P[E])}}function k(d){var x=1;d=d.split(":");const E=[];for(;0<x&&d.length;)E.push(d.shift()),x--;return d.length&&E.push(d.join(":")),E}function V(d){m.setTimeout(()=>{throw d},0)}function C(){var d=$;let x=null;return d.g&&(x=d.g,d.g=d.g.next,d.g||(d.h=null),x.next=null),x}class z{constructor(){this.h=this.g=null}add(x,E){const P=ae.get();P.set(x,E),this.h?this.h.next=P:this.g=P,this.h=P}}var ae=new X(()=>new L,d=>d.reset());class L{constructor(){this.next=this.g=this.h=null}set(x,E){this.h=x,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let _,fe=!1,$=new z,v=()=>{const d=m.Promise.resolve(void 0);_=()=>{d.then(N)}};var N=()=>{for(var d;d=C();){try{d.h.call(d.g)}catch(E){V(E)}var x=ae;x.j(d),100>x.h&&(x.h++,d.next=x.g,x.g=d)}fe=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function K(d,x){this.type=d,this.g=this.target=x,this.defaultPrevented=!1}K.prototype.h=function(){this.defaultPrevented=!0};var te=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var d=!1,x=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};m.addEventListener("test",E,x),m.removeEventListener("test",E,x)}catch{}return d}();function de(d,x){if(K.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var E=this.type=d.type,P=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=x,x=d.relatedTarget){if(O){e:{try{se(x.nodeName);var ne=!0;break e}catch{}ne=!1}ne||(x=null)}}else E=="mouseover"?x=d.fromElement:E=="mouseout"&&(x=d.toElement);this.relatedTarget=x,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Y[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&de.aa.h.call(this)}}U(de,K);var Y={2:"touch",3:"pen",4:"mouse"};de.prototype.h=function(){de.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var oe="closure_listenable_"+(1e6*Math.random()|0),he=0;function xe(d,x,E,P,ne){this.listener=d,this.proxy=null,this.src=x,this.type=E,this.capture=!!P,this.ha=ne,this.key=++he,this.da=this.fa=!1}function _e(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Ne(d){this.src=d,this.g={},this.h=0}Ne.prototype.add=function(d,x,E,P,ne){var ue=d.toString();d=this.g[ue],d||(d=this.g[ue]=[],this.h++);var be=Pe(d,x,P,ne);return-1<be?(x=d[be],E||(x.fa=!1)):(x=new xe(x,this.src,ue,!!P,ne),x.fa=E,d.push(x)),x};function Ce(d,x){var E=x.type;if(E in d.g){var P=d.g[E],ne=Array.prototype.indexOf.call(P,x,void 0),ue;(ue=0<=ne)&&Array.prototype.splice.call(P,ne,1),ue&&(_e(x),d.g[E].length==0&&(delete d.g[E],d.h--))}}function Pe(d,x,E,P){for(var ne=0;ne<d.length;++ne){var ue=d[ne];if(!ue.da&&ue.listener==x&&ue.capture==!!E&&ue.ha==P)return ne}return-1}var Re="closure_lm_"+(1e6*Math.random()|0),Oe={};function Ge(d,x,E,P,ne){if(Array.isArray(x)){for(var ue=0;ue<x.length;ue++)Ge(d,x[ue],E,P,ne);return null}return E=xs(E),d&&d[oe]?d.K(x,E,y(P)?!!P.capture:!1,ne):je(d,x,E,!1,P,ne)}function je(d,x,E,P,ne,ue){if(!x)throw Error("Invalid event type");var be=y(ne)?!!ne.capture:!!ne,Ze=is(d);if(Ze||(d[Re]=Ze=new Ne(d)),E=Ze.add(x,E,P,be,ue),E.proxy)return E;if(P=yt(),E.proxy=P,P.src=d,P.listener=E,d.addEventListener)te||(ne=be),ne===void 0&&(ne=!1),d.addEventListener(x.toString(),P,ne);else if(d.attachEvent)d.attachEvent(Rt(x.toString()),P);else if(d.addListener&&d.removeListener)d.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return E}function yt(){function d(E){return x.call(d.src,d.listener,E)}const x=rs;return d}function vt(d,x,E,P,ne){if(Array.isArray(x))for(var ue=0;ue<x.length;ue++)vt(d,x[ue],E,P,ne);else P=y(P)?!!P.capture:!!P,E=xs(E),d&&d[oe]?(d=d.i,x=String(x).toString(),x in d.g&&(ue=d.g[x],E=Pe(ue,E,P,ne),-1<E&&(_e(ue[E]),Array.prototype.splice.call(ue,E,1),ue.length==0&&(delete d.g[x],d.h--)))):d&&(d=is(d))&&(x=d.g[x.toString()],d=-1,x&&(d=Pe(x,E,P,ne)),(E=-1<d?x[d]:null)&&xt(E))}function xt(d){if(typeof d!="number"&&d&&!d.da){var x=d.src;if(x&&x[oe])Ce(x.i,d);else{var E=d.type,P=d.proxy;x.removeEventListener?x.removeEventListener(E,P,d.capture):x.detachEvent?x.detachEvent(Rt(E),P):x.addListener&&x.removeListener&&x.removeListener(P),(E=is(x))?(Ce(E,d),E.h==0&&(E.src=null,x[Re]=null)):_e(d)}}}function Rt(d){return d in Oe?Oe[d]:Oe[d]="on"+d}function rs(d,x){if(d.da)d=!0;else{x=new de(x,this);var E=d.listener,P=d.ha||d.src;d.fa&&xt(d),d=E.call(P,x)}return d}function is(d){return d=d[Re],d instanceof Ne?d:null}var Dr="__closure_events_fn_"+(1e9*Math.random()>>>0);function xs(d){return typeof d=="function"?d:(d[Dr]||(d[Dr]=function(x){return d.handleEvent(x)}),d[Dr])}function bt(){Q.call(this),this.i=new Ne(this),this.M=this,this.F=null}U(bt,Q),bt.prototype[oe]=!0,bt.prototype.removeEventListener=function(d,x,E,P){vt(this,d,x,E,P)};function $e(d,x){var E,P=d.F;if(P)for(E=[];P;P=P.F)E.push(P);if(d=d.M,P=x.type||x,typeof x=="string")x=new K(x,d);else if(x instanceof K)x.target=x.target||d;else{var ne=x;x=new K(P,d),b(x,ne)}if(ne=!0,E)for(var ue=E.length-1;0<=ue;ue--){var be=x.g=E[ue];ne=Ft(be,P,!0,x)&&ne}if(be=x.g=d,ne=Ft(be,P,!0,x)&&ne,ne=Ft(be,P,!1,x)&&ne,E)for(ue=0;ue<E.length;ue++)be=x.g=E[ue],ne=Ft(be,P,!1,x)&&ne}bt.prototype.N=function(){if(bt.aa.N.call(this),this.i){var d=this.i,x;for(x in d.g){for(var E=d.g[x],P=0;P<E.length;P++)_e(E[P]);delete d.g[x],d.h--}}this.F=null},bt.prototype.K=function(d,x,E,P){return this.i.add(String(d),x,!1,E,P)},bt.prototype.L=function(d,x,E,P){return this.i.add(String(d),x,!0,E,P)};function Ft(d,x,E,P){if(x=d.i.g[String(x)],!x)return!0;x=x.concat();for(var ne=!0,ue=0;ue<x.length;++ue){var be=x[ue];if(be&&!be.da&&be.capture==E){var Ze=be.listener,Bt=be.ha||be.src;be.fa&&Ce(d.i,be),ne=Ze.call(Bt,P)!==!1&&ne}}return ne&&!P.defaultPrevented}function hn(d,x,E){if(typeof d=="function")E&&(d=R(d,E));else if(d&&typeof d.handleEvent=="function")d=R(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:m.setTimeout(d,x||0)}function zc(d){d.g=hn(()=>{d.g=null,d.i&&(d.i=!1,zc(d))},d.l);const x=d.h;d.h=null,d.m.apply(null,x)}class Dh extends Q{constructor(x,E){super(),this.m=x,this.l=E,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:zc(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ai(d){Q.call(this),this.h=d,this.g={}}U(Ai,Q);var ji=[];function Ri(d){F(d.g,function(x,E){this.g.hasOwnProperty(E)&&xt(x)},d),d.g={}}Ai.prototype.N=function(){Ai.aa.N.call(this),Ri(this)},Ai.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var as=m.JSON.stringify,wa=m.JSON.parse,Ii=class{stringify(d){return m.JSON.stringify(d,void 0)}parse(d){return m.JSON.parse(d,void 0)}};function ql(){}ql.prototype.h=null;function Bl(d){return d.h||(d.h=d.i())}function Hl(){}var Ws={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zs(){K.call(this,"d")}U(Zs,K);function Gl(){K.call(this,"c")}U(Gl,K);var bs={},$l=null;function kr(){return $l=$l||new bt}bs.La="serverreachability";function Ea(d){K.call(this,bs.La,d)}U(Ea,K);function Mr(d){const x=kr();$e(x,new Ea(x))}bs.STAT_EVENT="statevent";function Fc(d,x){K.call(this,bs.STAT_EVENT,d),this.stat=x}U(Fc,K);function _t(d){const x=kr();$e(x,new Fc(x,d))}bs.Ma="timingevent";function qt(d,x){K.call(this,bs.Ma,d),this.size=x}U(qt,K);function kt(d,x){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){d()},x)}function Hn(){this.g=!0}Hn.prototype.xa=function(){this.g=!1};function Ql(d,x,E,P,ne,ue){d.info(function(){if(d.g)if(ue)for(var be="",Ze=ue.split("&"),Bt=0;Bt<Ze.length;Bt++){var Je=Ze[Bt].split("=");if(1<Je.length){var Xt=Je[0];Je=Je[1];var Ht=Xt.split("_");be=2<=Ht.length&&Ht[1]=="type"?be+(Xt+"="+Je+"&"):be+(Xt+"=redacted&")}}else be=null;else be=ue;return"XMLHTTP REQ ("+P+") [attempt "+ne+"]: "+x+`
`+E+`
`+be})}function kh(d,x,E,P,ne,ue,be){d.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+ne+"]: "+x+`
`+E+`
`+ue+" "+be})}function Pr(d,x,E,P){d.info(function(){return"XMLHTTP TEXT ("+x+"): "+Ci(d,E)+(P?" "+P:"")})}function qc(d,x){d.info(function(){return"TIMEOUT: "+x})}Hn.prototype.info=function(){};function Ci(d,x){if(!d.g)return x;if(!x)return null;try{var E=JSON.parse(x);if(E){for(d=0;d<E.length;d++)if(Array.isArray(E[d])){var P=E[d];if(!(2>P.length)){var ne=P[1];if(Array.isArray(ne)&&!(1>ne.length)){var ue=ne[0];if(ue!="noop"&&ue!="stop"&&ue!="close")for(var be=1;be<ne.length;be++)ne[be]=""}}}}return as(E)}catch{return x}}var Lr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Js={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_s;function ws(){}U(ws,ql),ws.prototype.g=function(){return new XMLHttpRequest},ws.prototype.i=function(){return{}},_s=new ws;function bn(d,x,E,P){this.j=d,this.i=x,this.l=E,this.R=P||1,this.U=new Ai(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new It}function It(){this.i=null,this.g="",this.h=!1}var Yl={},Ta={};function ls(d,x,E){d.L=1,d.v=Pi(Mn(x)),d.m=E,d.P=!0,er(d,null)}function er(d,x){d.F=Date.now(),Oi(d),d.A=Mn(d.v);var E=d.A,P=d.R;Array.isArray(P)||(P=[String(P)]),eo(E.i,"t",P),d.C=0,E=d.j.J,d.h=new It,d.g=ru(d.j,E?x:null,!d.m),0<d.O&&(d.M=new Dh(R(d.Y,d,d.g),d.O)),x=d.U,E=d.g,P=d.ca;var ne="readystatechange";Array.isArray(ne)||(ne&&(ji[0]=ne.toString()),ne=ji);for(var ue=0;ue<ne.length;ue++){var be=Ge(E,ne[ue],P||x.handleEvent,!1,x.h||x);if(!be)break;x.g[be.key]=be}x=d.H?I(d.H):{},d.m?(d.u||(d.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,x)):(d.u="GET",d.g.ea(d.A,d.u,null,x)),Mr(),Ql(d.i,d.u,d.A,d.l,d.R,d.m)}bn.prototype.ca=function(d){d=d.target;const x=this.M;x&&Yn(d)==3?x.j():this.Y(d)},bn.prototype.Y=function(d){try{if(d==this.g)e:{const Ht=Yn(this.g);var x=this.g.Ba();const or=this.g.Z();if(!(3>Ht)&&(Ht!=3||this.g&&(this.h.h||this.g.oa()||Xc(this.g)))){this.J||Ht!=4||x==7||(x==8||0>=or?Mr(3):Mr(2)),Vr(this);var E=this.g.Z();this.X=E;t:if(Bc(this)){var P=Xc(this.g);d="";var ne=P.length,ue=Yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sn(this),Es(this);var be="";break t}this.h.i=new m.TextDecoder}for(x=0;x<ne;x++)this.h.h=!0,d+=this.h.i.decode(P[x],{stream:!(ue&&x==ne-1)});P.length=0,this.h.g+=d,this.C=0,be=this.h.g}else be=this.g.oa();if(this.o=E==200,kh(this.i,this.u,this.A,this.l,this.R,Ht,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Ze,Bt=this.g;if((Ze=Bt.g?Bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(Ze)){var Je=Ze;break t}}Je=null}if(E=Je)Pr(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Di(this,E);else{this.o=!1,this.s=3,_t(12),sn(this),Es(this);break e}}if(this.P){E=!0;let rn;for(;!this.J&&this.C<be.length;)if(rn=Hc(this,be),rn==Ta){Ht==4&&(this.s=4,_t(14),E=!1),Pr(this.i,this.l,null,"[Incomplete Response]");break}else if(rn==Yl){this.s=4,_t(15),Pr(this.i,this.l,be,"[Invalid Chunk]"),E=!1;break}else Pr(this.i,this.l,rn,null),Di(this,rn);if(Bc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ht!=4||be.length!=0||this.h.h||(this.s=1,_t(16),E=!1),this.o=this.o&&E,!E)Pr(this.i,this.l,be,"[Invalid Chunked Response]"),sn(this),Es(this);else if(0<be.length&&!this.W){this.W=!0;var Xt=this.j;Xt.g==this&&Xt.ba&&!Xt.M&&(Xt.j.info("Great, no buffering proxy detected. Bytes received: "+be.length),Hi(Xt),Xt.M=!0,_t(11))}}else Pr(this.i,this.l,be,null),Di(this,be);Ht==4&&sn(this),this.o&&!this.J&&(Ht==4?tu(this.j,this):(this.o=!1,Oi(this)))}else Uh(this.g),E==400&&0<be.indexOf("Unknown SID")?(this.s=3,_t(12)):(this.s=0,_t(13)),sn(this),Es(this)}}}catch{}finally{}};function Bc(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Hc(d,x){var E=d.C,P=x.indexOf(`
`,E);return P==-1?Ta:(E=Number(x.substring(E,P)),isNaN(E)?Yl:(P+=1,P+E>x.length?Ta:(x=x.slice(P,P+E),d.C=P+E,x)))}bn.prototype.cancel=function(){this.J=!0,sn(this)};function Oi(d){d.S=Date.now()+d.I,Gc(d,d.I)}function Gc(d,x){if(d.B!=null)throw Error("WatchDog timer not null");d.B=kt(R(d.ba,d),x)}function Vr(d){d.B&&(m.clearTimeout(d.B),d.B=null)}bn.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(qc(this.i,this.A),this.L!=2&&(Mr(),_t(17)),sn(this),this.s=2,Es(this)):Gc(this,this.S-d)};function Es(d){d.j.G==0||d.J||tu(d.j,d)}function sn(d){Vr(d);var x=d.M;x&&typeof x.ma=="function"&&x.ma(),d.M=null,Ri(d.U),d.g&&(x=d.g,d.g=null,x.abort(),x.ma())}function Di(d,x){try{var E=d.j;if(E.G!=0&&(E.g==d||Kl(E.h,d))){if(!d.K&&Kl(E.h,d)&&E.G==3){try{var P=E.Da.g.parse(x)}catch{P=null}if(Array.isArray(P)&&P.length==3){var ne=P;if(ne[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<d.F)Pa(E),ka(E);else break e;io(E),_t(18)}}else E.za=ne[1],0<E.za-E.T&&37500>ne[2]&&E.F&&E.v==0&&!E.C&&(E.C=kt(R(E.Za,E),6e3));if(1>=Na(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else lr(E,11)}else if((d.K||E.g==d)&&Pa(E),!Z(x))for(ne=E.Da.g.parse(x),x=0;x<ne.length;x++){let Je=ne[x];if(E.T=Je[0],Je=Je[1],E.G==2)if(Je[0]=="c"){E.K=Je[1],E.ia=Je[2];const Xt=Je[3];Xt!=null&&(E.la=Xt,E.j.info("VER="+E.la));const Ht=Je[4];Ht!=null&&(E.Aa=Ht,E.j.info("SVER="+E.Aa));const or=Je[5];or!=null&&typeof or=="number"&&0<or&&(P=1.5*or,E.L=P,E.j.info("backChannelRequestTimeoutMs_="+P)),P=E;const rn=d.g;if(rn){const Is=rn.g?rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Is){var ue=P.h;ue.g||Is.indexOf("spdy")==-1&&Is.indexOf("quic")==-1&&Is.indexOf("h2")==-1||(ue.j=ue.l,ue.g=new Set,ue.h&&(Aa(ue,ue.h),ue.h=null))}if(P.D){const lo=rn.g?rn.g.getResponseHeader("X-HTTP-Session-Id"):null;lo&&(P.ya=lo,ct(P.I,P.D,lo))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-d.F,E.j.info("Handshake RTT: "+E.R+"ms")),P=E;var be=d;if(P.qa=su(P,P.J?P.ia:null,P.W),be.K){_n(P.h,be);var Ze=be,Bt=P.L;Bt&&(Ze.I=Bt),Ze.B&&(Vr(Ze),Oi(Ze)),P.g=be}else Jc(P);0<E.i.length&&Ma(E)}else Je[0]!="stop"&&Je[0]!="close"||lr(E,7);else E.G==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?lr(E,7):so(E):Je[0]!="noop"&&E.l&&E.l.ta(Je),E.v=0)}}Mr(4)}catch{}}var $c=class{constructor(d,x){this.g=d,this.map=x}};function tr(d){this.l=d||10,m.PerformanceNavigationTiming?(d=m.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Sa(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Na(d){return d.h?1:d.g?d.g.size:0}function Kl(d,x){return d.h?d.h==x:d.g?d.g.has(x):!1}function Aa(d,x){d.g?d.g.add(x):d.h=x}function _n(d,x){d.h&&d.h==x?d.h=null:d.g&&d.g.has(x)&&d.g.delete(x)}tr.prototype.cancel=function(){if(this.i=Xl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Xl(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let x=d.i;for(const E of d.g.values())x=x.concat(E.D);return x}return M(d.i)}function Mh(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(g(d)){for(var x=[],E=d.length,P=0;P<E;P++)x.push(d[P]);return x}x=[],E=0;for(P in d)x[E++]=d[P];return x}function ja(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(g(d)||typeof d=="string"){var x=[];d=d.length;for(var E=0;E<d;E++)x.push(E);return x}x=[],E=0;for(const P in d)x[E++]=P;return x}}}function Wl(d,x){if(d.forEach&&typeof d.forEach=="function")d.forEach(x,void 0);else if(g(d)||typeof d=="string")Array.prototype.forEach.call(d,x,void 0);else for(var E=ja(d),P=Mh(d),ne=P.length,ue=0;ue<ne;ue++)x.call(void 0,P[ue],E&&E[ue],d)}var ki=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ph(d,x){if(d){d=d.split("&");for(var E=0;E<d.length;E++){var P=d[E].indexOf("="),ne=null;if(0<=P){var ue=d[E].substring(0,P);ne=d[E].substring(P+1)}else ue=d[E];x(ue,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function Mt(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Mt){this.h=d.h,Mi(this,d.j),this.o=d.o,this.g=d.g,Ur(this,d.s),this.l=d.l;var x=d.i,E=new sr;E.i=x.i,x.g&&(E.g=new Map(x.g),E.h=x.h),nr(this,E),this.m=d.m}else d&&(x=String(d).match(ki))?(this.h=!1,Mi(this,x[1]||"",!0),this.o=Gn(x[2]||""),this.g=Gn(x[3]||"",!0),Ur(this,x[4]),this.l=Gn(x[5]||"",!0),nr(this,x[6]||"",!0),this.m=Gn(x[7]||"")):(this.h=!1,this.i=new sr(null,this.h))}Mt.prototype.toString=function(){var d=[],x=this.j;x&&d.push(Li(x,Zl,!0),":");var E=this.g;return(E||x=="file")&&(d.push("//"),(x=this.o)&&d.push(Li(x,Zl,!0),"@"),d.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&d.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(Li(E,E.charAt(0)=="/"?Lh:Jl,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",Li(E,Ra)),d.join("")};function Mn(d){return new Mt(d)}function Mi(d,x,E){d.j=E?Gn(x,!0):x,d.j&&(d.j=d.j.replace(/:$/,""))}function Ur(d,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);d.s=x}else d.s=null}function nr(d,x,E){x instanceof sr?(d.i=x,Yc(d.i,d.h)):(E||(x=Li(x,Vh)),d.i=new sr(x,d.h))}function ct(d,x,E){d.i.set(x,E)}function Pi(d){return ct(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Gn(d,x){return d?x?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Li(d,x,E){return typeof d=="string"?(d=encodeURI(d).replace(x,Qc),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Qc(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Zl=/[#\/\?@]/g,Jl=/[#\?:]/g,Lh=/[#\?]/g,Vh=/[#\?@]/g,Ra=/#/g;function sr(d,x){this.h=this.g=null,this.i=d||null,this.j=!!x}function $n(d){d.g||(d.g=new Map,d.h=0,d.i&&Ph(d.i,function(x,E){d.add(decodeURIComponent(x.replace(/\+/g," ")),E)}))}s=sr.prototype,s.add=function(d,x){$n(this),this.i=null,d=Ts(this,d);var E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(x),this.h+=1,this};function rr(d,x){$n(d),x=Ts(d,x),d.g.has(x)&&(d.i=null,d.h-=d.g.get(x).length,d.g.delete(x))}function ir(d,x){return $n(d),x=Ts(d,x),d.g.has(x)}s.forEach=function(d,x){$n(this),this.g.forEach(function(E,P){E.forEach(function(ne){d.call(x,ne,P,this)},this)},this)},s.na=function(){$n(this);const d=Array.from(this.g.values()),x=Array.from(this.g.keys()),E=[];for(let P=0;P<x.length;P++){const ne=d[P];for(let ue=0;ue<ne.length;ue++)E.push(x[P])}return E},s.V=function(d){$n(this);let x=[];if(typeof d=="string")ir(this,d)&&(x=x.concat(this.g.get(Ts(this,d))));else{d=Array.from(this.g.values());for(let E=0;E<d.length;E++)x=x.concat(d[E])}return x},s.set=function(d,x){return $n(this),this.i=null,d=Ts(this,d),ir(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[x]),this.h+=1,this},s.get=function(d,x){return d?(d=this.V(d),0<d.length?String(d[0]):x):x};function eo(d,x,E){rr(d,x),0<E.length&&(d.i=null,d.g.set(Ts(d,x),M(E)),d.h+=E.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],x=Array.from(this.g.keys());for(var E=0;E<x.length;E++){var P=x[E];const ue=encodeURIComponent(String(P)),be=this.V(P);for(P=0;P<be.length;P++){var ne=ue;be[P]!==""&&(ne+="="+encodeURIComponent(String(be[P]))),d.push(ne)}}return this.i=d.join("&")};function Ts(d,x){return x=String(x),d.j&&(x=x.toLowerCase()),x}function Yc(d,x){x&&!d.j&&($n(d),d.i=null,d.g.forEach(function(E,P){var ne=P.toLowerCase();P!=ne&&(rr(this,P),eo(this,ne,E))},d)),d.j=x}function Vi(d,x){const E=new Hn;if(m.Image){const P=new Image;P.onload=q(Qn,E,"TestLoadImage: loaded",!0,x,P),P.onerror=q(Qn,E,"TestLoadImage: error",!1,x,P),P.onabort=q(Qn,E,"TestLoadImage: abort",!1,x,P),P.ontimeout=q(Qn,E,"TestLoadImage: timeout",!1,x,P),m.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=d}else x(!1)}function os(d,x){const E=new Hn,P=new AbortController,ne=setTimeout(()=>{P.abort(),Qn(E,"TestPingServer: timeout",!1,x)},1e4);fetch(d,{signal:P.signal}).then(ue=>{clearTimeout(ne),ue.ok?Qn(E,"TestPingServer: ok",!0,x):Qn(E,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(ne),Qn(E,"TestPingServer: error",!1,x)})}function Qn(d,x,E,P,ne){try{ne&&(ne.onload=null,ne.onerror=null,ne.onabort=null,ne.ontimeout=null),P(E)}catch{}}function Ui(){this.g=new Ii}function Ss(d,x,E){const P=E||"";try{Wl(d,function(ne,ue){let be=ne;y(ne)&&(be=as(ne)),x.push(P+ue+"="+encodeURIComponent(be))})}catch(ne){throw x.push(P+"type="+encodeURIComponent("_badmap")),ne}}function zr(d){this.l=d.Ub||null,this.j=d.eb||!1}U(zr,ql),zr.prototype.g=function(){return new ar(this.l,this.j)},zr.prototype.i=function(d){return function(){return d}}({});function ar(d,x){bt.call(this),this.D=d,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(ar,bt),s=ar.prototype,s.open=function(d,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=x,this.readyState=1,As(this)},s.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(x.body=d),(this.D||m).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ns(this)),this.readyState=0},s.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,As(this)),this.g&&(this.readyState=3,As(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;to(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function to(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}s.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var x=d.value?d.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!d.done}))&&(this.response=this.responseText+=x)}d.done?Ns(this):As(this),this.readyState==3&&to(this)}},s.Ra=function(d){this.g&&(this.response=this.responseText=d,Ns(this))},s.Qa=function(d){this.g&&(this.response=d,Ns(this))},s.ga=function(){this.g&&Ns(this)};function Ns(d){d.readyState=4,d.l=null,d.j=null,d.v=null,As(d)}s.setRequestHeader=function(d,x){this.u.append(d,x)},s.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],x=this.h.entries();for(var E=x.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=x.next();return d.join(`\r
`)};function As(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ar.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function no(d){let x="";return F(d,function(E,P){x+=P,x+=":",x+=E,x+=`\r
`}),x}function Kt(d,x,E){e:{for(P in E){var P=!1;break e}P=!0}P||(E=no(E),typeof d=="string"?E!=null&&encodeURIComponent(String(E)):ct(d,x,E))}function rt(d){bt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(rt,bt);var Ia=/^https?$/i,zi=["POST","PUT"];s=rt.prototype,s.Ha=function(d){this.J=d},s.ea=function(d,x,E,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);x=x?x.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_s.g(),this.v=this.o?Bl(this.o):Bl(_s),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(x,String(d),!0),this.B=!1}catch(ue){Kc(this,ue);return}if(d=E||"",E=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var ne in P)E.set(ne,P[ne]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const ue of P.keys())E.set(ue,P.get(ue));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(E.keys()).find(ue=>ue.toLowerCase()=="content-type"),ne=m.FormData&&d instanceof m.FormData,!(0<=Array.prototype.indexOf.call(zi,x,void 0))||P||ne||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ue,be]of E)this.g.setRequestHeader(ue,be);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Fi(this),this.u=!0,this.g.send(d),this.u=!1}catch(ue){Kc(this,ue)}};function Kc(d,x){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=x,d.m=5,Ca(d),js(d)}function Ca(d){d.A||(d.A=!0,$e(d,"complete"),$e(d,"error"))}s.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,$e(this,"complete"),$e(this,"abort"),js(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),js(this,!0)),rt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Oa(this):this.bb())},s.bb=function(){Oa(this)};function Oa(d){if(d.h&&typeof h<"u"&&(!d.v[1]||Yn(d)!=4||d.Z()!=2)){if(d.u&&Yn(d)==4)hn(d.Ea,0,d);else if($e(d,"readystatechange"),Yn(d)==4){d.h=!1;try{const be=d.Z();e:switch(be){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var E;if(!(E=x)){var P;if(P=be===0){var ne=String(d.D).match(ki)[1]||null;!ne&&m.self&&m.self.location&&(ne=m.self.location.protocol.slice(0,-1)),P=!Ia.test(ne?ne.toLowerCase():"")}E=P}if(E)$e(d,"complete"),$e(d,"success");else{d.m=6;try{var ue=2<Yn(d)?d.g.statusText:""}catch{ue=""}d.l=ue+" ["+d.Z()+"]",Ca(d)}}finally{js(d)}}}}function js(d,x){if(d.g){Fi(d);const E=d.g,P=d.v[0]?()=>{}:null;d.g=null,d.v=null,x||$e(d,"ready");try{E.onreadystatechange=P}catch{}}}function Fi(d){d.I&&(m.clearTimeout(d.I),d.I=null)}s.isActive=function(){return!!this.g};function Yn(d){return d.g?d.g.readyState:0}s.Z=function(){try{return 2<Yn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(d){if(this.g){var x=this.g.responseText;return d&&x.indexOf(d)==0&&(x=x.substring(d.length)),wa(x)}};function Xc(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Uh(d){const x={};d=(d.g&&2<=Yn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<d.length;P++){if(Z(d[P]))continue;var E=k(d[P]);const ne=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const ue=x[ne]||[];x[ne]=ue,ue.push(E)}j(x,function(P){return P.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qi(d,x,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||x}function Da(d){this.Aa=0,this.i=[],this.j=new Hn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qi("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qi("baseRetryDelayMs",5e3,d),this.cb=qi("retryDelaySeedMs",1e4,d),this.Wa=qi("forwardChannelMaxRetries",2,d),this.wa=qi("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new tr(d&&d.concurrentRequestLimit),this.Da=new Ui,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Da.prototype,s.la=8,s.G=1,s.connect=function(d,x,E,P){_t(0),this.W=d,this.H=x||{},E&&P!==void 0&&(this.H.OSID=E,this.H.OAID=P),this.F=this.X,this.I=su(this,null,this.W),Ma(this)};function so(d){if(Wc(d),d.G==3){var x=d.U++,E=Mn(d.I);if(ct(E,"SID",d.K),ct(E,"RID",x),ct(E,"TYPE","terminate"),Bi(d,E),x=new bn(d,d.j,x),x.L=2,x.v=Pi(Mn(E)),E=!1,m.navigator&&m.navigator.sendBeacon)try{E=m.navigator.sendBeacon(x.v.toString(),"")}catch{}!E&&m.Image&&(new Image().src=x.v,E=!0),E||(x.g=ru(x.j,null),x.g.ea(x.v)),x.F=Date.now(),Oi(x)}nu(d)}function ka(d){d.g&&(Hi(d),d.g.cancel(),d.g=null)}function Wc(d){ka(d),d.u&&(m.clearTimeout(d.u),d.u=null),Pa(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&m.clearTimeout(d.s),d.s=null)}function Ma(d){if(!Sa(d.h)&&!d.s){d.s=!0;var x=d.Ga;_||v(),fe||(_(),fe=!0),$.add(x,d),d.B=0}}function zh(d,x){return Na(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=x.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=kt(R(d.Ga,d,x),ao(d,d.B)),d.B++,!0)}s.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const ne=new bn(this,this.j,d);let ue=this.o;if(this.S&&(ue?(ue=I(ue),b(ue,this.S)):ue=this.S),this.m!==null||this.O||(ne.H=ue,ue=null),this.P)e:{for(var x=0,E=0;E<this.i.length;E++){t:{var P=this.i[E];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(x+=P,4096<x){x=E;break e}if(x===4096||E===this.i.length-1){x=E+1;break e}}x=1e3}else x=1e3;x=Zc(this,ne,x),E=Mn(this.I),ct(E,"RID",d),ct(E,"CVER",22),this.D&&ct(E,"X-HTTP-Session-Id",this.D),Bi(this,E),ue&&(this.O?x="headers="+encodeURIComponent(String(no(ue)))+"&"+x:this.m&&Kt(E,this.m,ue)),Aa(this.h,ne),this.Ua&&ct(E,"TYPE","init"),this.P?(ct(E,"$req",x),ct(E,"SID","null"),ne.T=!0,ls(ne,E,null)):ls(ne,E,x),this.G=2}}else this.G==3&&(d?ro(this,d):this.i.length==0||Sa(this.h)||ro(this))};function ro(d,x){var E;x?E=x.l:E=d.U++;const P=Mn(d.I);ct(P,"SID",d.K),ct(P,"RID",E),ct(P,"AID",d.T),Bi(d,P),d.m&&d.o&&Kt(P,d.m,d.o),E=new bn(d,d.j,E,d.B+1),d.m===null&&(E.H=d.o),x&&(d.i=x.D.concat(d.i)),x=Zc(d,E,1e3),E.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Aa(d.h,E),ls(E,P,x)}function Bi(d,x){d.H&&F(d.H,function(E,P){ct(x,P,E)}),d.l&&Wl({},function(E,P){ct(x,P,E)})}function Zc(d,x,E){E=Math.min(d.i.length,E);var P=d.l?R(d.l.Na,d.l,d):null;e:{var ne=d.i;let ue=-1;for(;;){const be=["count="+E];ue==-1?0<E?(ue=ne[0].g,be.push("ofs="+ue)):ue=0:be.push("ofs="+ue);let Ze=!0;for(let Bt=0;Bt<E;Bt++){let Je=ne[Bt].g;const Xt=ne[Bt].map;if(Je-=ue,0>Je)ue=Math.max(0,ne[Bt].g-100),Ze=!1;else try{Ss(Xt,be,"req"+Je+"_")}catch{P&&P(Xt)}}if(Ze){P=be.join("&");break e}}}return d=d.i.splice(0,E),x.D=d,P}function Jc(d){if(!d.g&&!d.u){d.Y=1;var x=d.Fa;_||v(),fe||(_(),fe=!0),$.add(x,d),d.v=0}}function io(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=kt(R(d.Fa,d),ao(d,d.v)),d.v++,!0)}s.Fa=function(){if(this.u=null,eu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=kt(R(this.ab,this),d)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_t(10),ka(this),eu(this))};function Hi(d){d.A!=null&&(m.clearTimeout(d.A),d.A=null)}function eu(d){d.g=new bn(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var x=Mn(d.qa);ct(x,"RID","rpc"),ct(x,"SID",d.K),ct(x,"AID",d.T),ct(x,"CI",d.F?"0":"1"),!d.F&&d.ja&&ct(x,"TO",d.ja),ct(x,"TYPE","xmlhttp"),Bi(d,x),d.m&&d.o&&Kt(x,d.m,d.o),d.L&&(d.g.I=d.L);var E=d.g;d=d.ia,E.L=1,E.v=Pi(Mn(x)),E.m=null,E.P=!0,er(E,d)}s.Za=function(){this.C!=null&&(this.C=null,ka(this),io(this),_t(19))};function Pa(d){d.C!=null&&(m.clearTimeout(d.C),d.C=null)}function tu(d,x){var E=null;if(d.g==x){Pa(d),Hi(d),d.g=null;var P=2}else if(Kl(d.h,x))E=x.D,_n(d.h,x),P=1;else return;if(d.G!=0){if(x.o)if(P==1){E=x.m?x.m.length:0,x=Date.now()-x.F;var ne=d.B;P=kr(),$e(P,new qt(P,E)),Ma(d)}else Jc(d);else if(ne=x.s,ne==3||ne==0&&0<x.X||!(P==1&&zh(d,x)||P==2&&io(d)))switch(E&&0<E.length&&(x=d.h,x.i=x.i.concat(E)),ne){case 1:lr(d,5);break;case 4:lr(d,10);break;case 3:lr(d,6);break;default:lr(d,2)}}}function ao(d,x){let E=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(E*=2),E*x}function lr(d,x){if(d.j.info("Error code "+x),x==2){var E=R(d.fb,d),P=d.Xa;const ne=!P;P=new Mt(P||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Mi(P,"https"),Pi(P),ne?Vi(P.toString(),E):os(P.toString(),E)}else _t(2);d.G=0,d.l&&d.l.sa(x),nu(d),Wc(d)}s.fb=function(d){d?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function nu(d){if(d.G=0,d.ka=[],d.l){const x=Xl(d.h);(x.length!=0||d.i.length!=0)&&(B(d.ka,x),B(d.ka,d.i),d.h.i.length=0,M(d.i),d.i.length=0),d.l.ra()}}function su(d,x,E){var P=E instanceof Mt?Mn(E):new Mt(E);if(P.g!="")x&&(P.g=x+"."+P.g),Ur(P,P.s);else{var ne=m.location;P=ne.protocol,x=x?x+"."+ne.hostname:ne.hostname,ne=+ne.port;var ue=new Mt(null);P&&Mi(ue,P),x&&(ue.g=x),ne&&Ur(ue,ne),E&&(ue.l=E),P=ue}return E=d.D,x=d.ya,E&&x&&ct(P,E,x),ct(P,"VER",d.la),Bi(d,P),P}function ru(d,x,E){if(x&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=d.Ca&&!d.pa?new rt(new zr({eb:E})):new rt(d.pa),x.Ha(d.J),x}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function iu(){}s=iu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function La(){}La.prototype.g=function(d,x){return new wn(d,x)};function wn(d,x){bt.call(this),this.g=new Da(x),this.l=d,this.h=x&&x.messageUrlParams||null,d=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(d?d["X-WebChannel-Content-Type"]=x.messageContentType:d={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(d?d["X-WebChannel-Client-Profile"]=x.va:d={"X-WebChannel-Client-Profile":x.va}),this.g.S=d,(d=x&&x.Sb)&&!Z(d)&&(this.g.m=d),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!Z(x)&&(this.g.D=x,d=this.h,d!==null&&x in d&&(d=this.h,x in d&&delete d[x])),this.j=new Rs(this)}U(wn,bt),wn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){so(this.g)},wn.prototype.o=function(d){var x=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.u&&(E={},E.__data__=as(d),d=E);x.i.push(new $c(x.Ya++,d)),x.G==3&&Ma(x)},wn.prototype.N=function(){this.g.l=null,delete this.j,so(this.g),delete this.g,wn.aa.N.call(this)};function au(d){Zs.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var x=d.__sm__;if(x){e:{for(const E in x){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,x=x!==null&&d in x?x[d]:void 0),this.data=x}else this.data=d}U(au,Zs);function lu(){Gl.call(this),this.status=1}U(lu,Gl);function Rs(d){this.g=d}U(Rs,iu),Rs.prototype.ua=function(){$e(this.g,"a")},Rs.prototype.ta=function(d){$e(this.g,new au(d))},Rs.prototype.sa=function(d){$e(this.g,new lu)},Rs.prototype.ra=function(){$e(this.g,"b")},La.prototype.createWebChannel=La.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,z1=function(){return new La},U1=function(){return kr()},V1=bs,Tp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Lr.NO_ERROR=0,Lr.TIMEOUT=8,Lr.HTTP_ERROR=6,Ed=Lr,Js.COMPLETE="complete",L1=Js,Hl.EventType=Ws,Ws.OPEN="a",Ws.CLOSE="b",Ws.ERROR="c",Ws.MESSAGE="d",bt.prototype.listen=bt.prototype.K,tc=Hl,rt.prototype.listenOnce=rt.prototype.L,rt.prototype.getLastError=rt.prototype.Ka,rt.prototype.getLastErrorCode=rt.prototype.Ba,rt.prototype.getStatus=rt.prototype.Z,rt.prototype.getResponseJson=rt.prototype.Oa,rt.prototype.getResponseText=rt.prototype.oa,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Ha,P1=rt}).apply(typeof dd<"u"?dd:typeof self<"u"?self:typeof window<"u"?window:{});const Kx="@firebase/firestore",Xx="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kl="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=new Wp("@firebase/firestore");function hl(){return fa.logLevel}function Te(s,...e){if(fa.logLevel<=Xe.DEBUG){const t=e.map(ug);fa.debug(`Firestore (${kl}): ${s}`,...t)}}function Cr(s,...e){if(fa.logLevel<=Xe.ERROR){const t=e.map(ug);fa.error(`Firestore (${kl}): ${s}`,...t)}}function ma(s,...e){if(fa.logLevel<=Xe.WARN){const t=e.map(ug);fa.warn(`Firestore (${kl}): ${s}`,...t)}}function ug(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(s,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,F1(s,i,t)}function F1(s,e,t){let i=`FIRESTORE (${kl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Cr(i),new Error(i)}function it(s,e,t,i){let l="Unexpected state";typeof t=="string"?l=t:i=t,s||F1(e,l,i)}function Fe(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends Ys{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class B1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(gn.UNAUTHENTICATED))}shutdown(){}}class A6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class j6{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){it(this.o===void 0,42304);let i=this.i;const l=g=>this.i!==i?(i=this.i,t(g)):Promise.resolve();let c=new Sr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Sr,e.enqueueRetryable(()=>l(this.currentUser))};const h=()=>{const g=c;e.enqueueRetryable(async()=>{await g.promise,await l(this.currentUser)})},m=g=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Sr)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(it(typeof i.accessToken=="string",31837,{l:i}),new q1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string",2055,{h:e}),new gn(e)}}class R6{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class I6{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new R6(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(gn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Wx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class C6{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){it(this.o===void 0,3512);const i=c=>{c.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.m;return this.m=c.token,Te("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>i(c))};const l=c=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Wx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(it(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Wx(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O6(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<s;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const l=O6(40);for(let c=0;c<l.length;++c)i.length<20&&l[c]<t&&(i+=e.charAt(l[c]%62))}return i}}function He(s,e){return s<e?-1:s>e?1:0}function Sp(s,e){let t=0;for(;t<s.length&&t<e.length;){const i=s.codePointAt(t),l=e.codePointAt(t);if(i!==l){if(i<128&&l<128)return He(i,l);{const c=H1(),h=D6(c.encode(Zx(s,t)),c.encode(Zx(e,t)));return h!==0?h:He(i,l)}}t+=i>65535?2:1}return He(s.length,e.length)}function Zx(s,e){return s.codePointAt(e)>65535?s.substring(e,e+2):s.substring(e,e+1)}function D6(s,e){for(let t=0;t<s.length&&t<e.length;++t)if(s[t]!==e[t])return He(s[t],e[t]);return He(s.length,e.length)}function El(s,e,t){return s.length===e.length&&s.every((i,l)=>t(i,e[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx=-62135596800,eb=1e6;class zt{static now(){return zt.fromMillis(Date.now())}static fromDate(e){return zt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*eb);return new zt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ee(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ee(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Jx)throw new Ee(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/eb}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Jx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new zt(0,0))}static max(){return new ze(new zt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb="__name__";class Ps{constructor(e,t,i){t===void 0?t=0:t>e.length&&Le(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Le(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Ps.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ps?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let l=0;l<i;l++){const c=Ps.compareSegments(e.get(l),t.get(l));if(c!==0)return c}return He(e.length,t.length)}static compareSegments(e,t){const i=Ps.isNumericId(e),l=Ps.isNumericId(t);return i&&!l?-1:!i&&l?1:i&&l?Ps.extractNumericId(e).compare(Ps.extractNumericId(t)):Sp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return yi.fromString(e.substring(4,e.length-2))}}class gt extends Ps{construct(e,t,i){return new gt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ee(ye.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(l=>l.length>0))}return new gt(t)}static emptyPath(){return new gt([])}}const k6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Ps{construct(e,t,i){return new tn(e,t,i)}static isValidIdentifier(e){return k6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tb}static keyField(){return new tn([tb])}static fromServerFormat(e){const t=[];let i="",l=0;const c=()=>{if(i.length===0)throw new Ee(ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;l<e.length;){const m=e[l];if(m==="\\"){if(l+1===e.length)throw new Ee(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new Ee(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,l+=2}else m==="`"?(h=!h,l++):m!=="."||h?(i+=m,l++):(c(),l++)}if(c(),h)throw new Ee(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(t)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(gt.fromString(e))}static fromName(e){return new Ie(gt.fromString(e).popFirst(5))}static empty(){return new Ie(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return gt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new gt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc=-1;function M6(s,e){const t=s.toTimestamp().seconds,i=s.toTimestamp().nanoseconds+1,l=ze.fromTimestamp(i===1e9?new zt(t+1,0):new zt(t,i));return new xi(l,Ie.empty(),e)}function P6(s){return new xi(s.readTime,s.key,mc)}class xi{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new xi(ze.min(),Ie.empty(),mc)}static max(){return new xi(ze.max(),Ie.empty(),mc)}}function L6(s,e){let t=s.readTime.compareTo(e.readTime);return t!==0?t:(t=Ie.comparator(s.documentKey,e.documentKey),t!==0?t:He(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class U6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ml(s){if(s.code!==ye.FAILED_PRECONDITION||s.message!==V6)throw s;Te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ve((i,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(i,l)},this.catchCallback=c=>{this.wrapFailure(t,c).next(i,l)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ve?t:ve.resolve(t)}catch(t){return ve.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ve.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ve.reject(t)}static resolve(e){return new ve((t,i)=>{t(e)})}static reject(e){return new ve((t,i)=>{i(e)})}static waitFor(e){return new ve((t,i)=>{let l=0,c=0,h=!1;e.forEach(m=>{++l,m.next(()=>{++c,h&&c===l&&t()},g=>i(g))}),h=!0,c===l&&t()})}static or(e){let t=ve.resolve(!1);for(const i of e)t=t.next(l=>l?ve.resolve(l):i());return t}static forEach(e,t){const i=[];return e.forEach((l,c)=>{i.push(t.call(this,l,c))}),this.waitFor(i)}static mapArray(e,t){return new ve((i,l)=>{const c=e.length,h=new Array(c);let m=0;for(let g=0;g<c;g++){const y=g;t(e[y]).next(w=>{h[y]=w,++m,m===c&&i(h)},w=>l(w))}})}static doWhile(e,t){return new ve((i,l)=>{const c=()=>{e()===!0?t().next(()=>{c()},l):i()};c()})}}function z6(s){const e=s.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Pl(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>t.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}lh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg=-1;function oh(s){return s==null}function Ld(s){return s===0&&1/s==-1/0}function F6(s){return typeof s=="number"&&Number.isInteger(s)&&!Ld(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1="";function q6(s){let e="";for(let t=0;t<s.length;t++)e.length>0&&(e=nb(e)),e=B6(s.get(t),e);return nb(e)}function B6(s,e){let t=e;const i=s.length;for(let l=0;l<i;l++){const c=s.charAt(l);switch(c){case"\0":t+="";break;case G1:t+="";break;default:t+=c}}return t}function nb(s){return s+G1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(s){let e=0;for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e++;return e}function Si(s,e){for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e(t,s[t])}function $1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,t){this.comparator=e,this.root=t||cn.EMPTY}insert(e,t){return new Nt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(e){return new Nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const l=this.comparator(e,i.key);if(l===0)return t+i.left.size;l<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hd(this.root,e,this.comparator,!1)}getReverseIterator(){return new hd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hd(this.root,e,this.comparator,!0)}}class hd{constructor(e,t,i,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?i(e.key,t):1,t&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cn{constructor(e,t,i,l,c){this.key=e,this.value=t,this.color=i??cn.RED,this.left=l??cn.EMPTY,this.right=c??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,l,c){return new cn(e??this.key,t??this.value,i??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let l=this;const c=i(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,t,i),null):c===0?l.copy(null,t,null,null,null):l.copy(null,null,null,null,l.right.insert(e,t,i)),l.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,l=this;if(t(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,t),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),t(e,l.key)===0){if(l.right.isEmpty())return cn.EMPTY;i=l.right.min(),l=l.copy(i.key,i.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,t))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Le(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Le(27949);return e+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Le(57766)}get value(){throw Le(16141)}get color(){throw Le(16727)}get left(){throw Le(29726)}get right(){throw Le(36894)}copy(e,t,i,l,c){return this}insert(e,t,i){return new cn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const l=i.getNext();if(this.comparator(l.key,e[1])>=0)return;t(l.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new rb(this.data.getIterator())}getIteratorFrom(e){return new rb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Yt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const l=t.getNext().key,c=i.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Yt(this.comparator);return t.data=e,t}}class rb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new Bn([])}unionWith(e){let t=new Yt(tn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Bn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return El(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Q1("Invalid base64 string: "+c):c}}(e);return new nn(t)}static fromUint8Array(e){const t=function(l){let c="";for(let h=0;h<l.length;++h)c+=String.fromCharCode(l[h]);return c}(e);return new nn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let l=0;l<t.length;l++)i[l]=t.charCodeAt(l);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const H6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bi(s){if(it(!!s,39018),typeof s=="string"){let e=0;const t=H6.exec(s);if(it(!!t,46558,{timestamp:s}),t[1]){let l=t[1];l=(l+"000000000").substr(0,9),e=Number(l)}const i=new Date(s);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Dt(s.seconds),nanos:Dt(s.nanos)}}function Dt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function _i(s){return typeof s=="string"?nn.fromBase64String(s):nn.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1="server_timestamp",K1="__type__",X1="__previous_value__",W1="__local_write_time__";function fg(s){var e,t;return((t=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[K1])===null||t===void 0?void 0:t.stringValue)===Y1}function ch(s){const e=s.mapValue.fields[X1];return fg(e)?ch(e):e}function pc(s){const e=bi(s.mapValue.fields[W1].timestampValue);return new zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(e,t,i,l,c,h,m,g,y,w){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=l,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=w}}const Vd="(default)";class Tl{constructor(e,t){this.projectId=e,this.database=t||Vd}static empty(){return new Tl("","")}get isDefaultDatabase(){return this.database===Vd}isEqual(e){return e instanceof Tl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1="__type__",$6="__max__",fd={mapValue:{}},J1="__vector__",Ud="value";function wi(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?fg(s)?4:Y6(s)?9007199254740991:Q6(s)?10:11:Le(28295,{value:s})}function qs(s,e){if(s===e)return!0;const t=wi(s);if(t!==wi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return pc(s).isEqual(pc(e));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const h=bi(l.timestampValue),m=bi(c.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(l,c){return _i(l.bytesValue).isEqual(_i(c.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(l,c){return Dt(l.geoPointValue.latitude)===Dt(c.geoPointValue.latitude)&&Dt(l.geoPointValue.longitude)===Dt(c.geoPointValue.longitude)}(s,e);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return Dt(l.integerValue)===Dt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const h=Dt(l.doubleValue),m=Dt(c.doubleValue);return h===m?Ld(h)===Ld(m):isNaN(h)&&isNaN(m)}return!1}(s,e);case 9:return El(s.arrayValue.values||[],e.arrayValue.values||[],qs);case 10:case 11:return function(l,c){const h=l.mapValue.fields||{},m=c.mapValue.fields||{};if(sb(h)!==sb(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!qs(h[g],m[g])))return!1;return!0}(s,e);default:return Le(52216,{left:s})}}function gc(s,e){return(s.values||[]).find(t=>qs(t,e))!==void 0}function Sl(s,e){if(s===e)return 0;const t=wi(s),i=wi(e);if(t!==i)return He(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return He(s.booleanValue,e.booleanValue);case 2:return function(c,h){const m=Dt(c.integerValue||c.doubleValue),g=Dt(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(s,e);case 3:return ib(s.timestampValue,e.timestampValue);case 4:return ib(pc(s),pc(e));case 5:return Sp(s.stringValue,e.stringValue);case 6:return function(c,h){const m=_i(c),g=_i(h);return m.compareTo(g)}(s.bytesValue,e.bytesValue);case 7:return function(c,h){const m=c.split("/"),g=h.split("/");for(let y=0;y<m.length&&y<g.length;y++){const w=He(m[y],g[y]);if(w!==0)return w}return He(m.length,g.length)}(s.referenceValue,e.referenceValue);case 8:return function(c,h){const m=He(Dt(c.latitude),Dt(h.latitude));return m!==0?m:He(Dt(c.longitude),Dt(h.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return ab(s.arrayValue,e.arrayValue);case 10:return function(c,h){var m,g,y,w;const A=c.fields||{},R=h.fields||{},q=(m=A[Ud])===null||m===void 0?void 0:m.arrayValue,U=(g=R[Ud])===null||g===void 0?void 0:g.arrayValue,M=He(((y=q==null?void 0:q.values)===null||y===void 0?void 0:y.length)||0,((w=U==null?void 0:U.values)===null||w===void 0?void 0:w.length)||0);return M!==0?M:ab(q,U)}(s.mapValue,e.mapValue);case 11:return function(c,h){if(c===fd.mapValue&&h===fd.mapValue)return 0;if(c===fd.mapValue)return 1;if(h===fd.mapValue)return-1;const m=c.fields||{},g=Object.keys(m),y=h.fields||{},w=Object.keys(y);g.sort(),w.sort();for(let A=0;A<g.length&&A<w.length;++A){const R=Sp(g[A],w[A]);if(R!==0)return R;const q=Sl(m[g[A]],y[w[A]]);if(q!==0)return q}return He(g.length,w.length)}(s.mapValue,e.mapValue);default:throw Le(23264,{Pe:t})}}function ib(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return He(s,e);const t=bi(s),i=bi(e),l=He(t.seconds,i.seconds);return l!==0?l:He(t.nanos,i.nanos)}function ab(s,e){const t=s.values||[],i=e.values||[];for(let l=0;l<t.length&&l<i.length;++l){const c=Sl(t[l],i[l]);if(c)return c}return He(t.length,i.length)}function Nl(s){return Np(s)}function Np(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(t){const i=bi(t);return`time(${i.seconds},${i.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(t){return _i(t).toBase64()}(s.bytesValue):"referenceValue"in s?function(t){return Ie.fromName(t).toString()}(s.referenceValue):"geoPointValue"in s?function(t){return`geo(${t.latitude},${t.longitude})`}(s.geoPointValue):"arrayValue"in s?function(t){let i="[",l=!0;for(const c of t.values||[])l?l=!1:i+=",",i+=Np(c);return i+"]"}(s.arrayValue):"mapValue"in s?function(t){const i=Object.keys(t.fields||{}).sort();let l="{",c=!0;for(const h of i)c?c=!1:l+=",",l+=`${h}:${Np(t.fields[h])}`;return l+"}"}(s.mapValue):Le(61005,{value:s})}function Td(s){switch(wi(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ch(s);return e?16+Td(e):16;case 5:return 2*s.stringValue.length;case 6:return _i(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((l,c)=>l+Td(c),0)}(s.arrayValue);case 10:case 11:return function(i){let l=0;return Si(i.fields,(c,h)=>{l+=c.length+Td(h)}),l}(s.mapValue);default:throw Le(13486,{value:s})}}function lb(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Ap(s){return!!s&&"integerValue"in s}function mg(s){return!!s&&"arrayValue"in s}function ob(s){return!!s&&"nullValue"in s}function cb(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Sd(s){return!!s&&"mapValue"in s}function Q6(s){var e,t;return((t=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[Z1])===null||t===void 0?void 0:t.stringValue)===J1}function ac(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return Si(s.mapValue.fields,(t,i)=>e.mapValue.fields[t]=ac(i)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(s.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ac(s.arrayValue.values[t]);return e}return Object.assign({},s)}function Y6(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===$6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.value=e}static empty(){return new On({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Sd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ac(t)}setAll(e){let t=tn.emptyPath(),i={},l=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const g=this.getFieldsMap(t);this.applyChanges(g,i,l),i={},l=[],t=m.popLast()}h?i[m.lastSegment()]=ac(h):l.push(m.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,i,l)}delete(e){const t=this.field(e.popLast());Sd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return qs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let l=t.mapValue.fields[e.get(i)];Sd(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=l),t=l}return t.mapValue.fields}applyChanges(e,t,i){Si(t,(l,c)=>e[l]=c);for(const l of i)delete e[l]}clone(){return new On(ac(this.value))}}function ew(s){const e=[];return Si(s.fields,(t,i)=>{const l=new tn([t]);if(Sd(i)){const c=ew(i.mapValue).fields;if(c.length===0)e.push(l);else for(const h of c)e.push(l.child(h))}else e.push(l)}),new Bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,t,i,l,c,h,m){this.key=e,this.documentType=t,this.version=i,this.readTime=l,this.createTime=c,this.data=h,this.documentState=m}static newInvalidDocument(e){return new yn(e,0,ze.min(),ze.min(),ze.min(),On.empty(),0)}static newFoundDocument(e,t,i,l){return new yn(e,1,t,ze.min(),i,l,0)}static newNoDocument(e,t){return new yn(e,2,t,ze.min(),ze.min(),On.empty(),0)}static newUnknownDocument(e,t){return new yn(e,3,t,ze.min(),ze.min(),On.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,t){this.position=e,this.inclusive=t}}function ub(s,e,t){let i=0;for(let l=0;l<s.position.length;l++){const c=e[l],h=s.position[l];if(c.field.isKeyField()?i=Ie.comparator(Ie.fromName(h.referenceValue),t.key):i=Sl(h,t.data.field(c.field)),c.dir==="desc"&&(i*=-1),i!==0)break}return i}function db(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let t=0;t<s.position.length;t++)if(!qs(s.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,t="asc"){this.field=e,this.dir=t}}function K6(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{}class Ut extends tw{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new W6(e,t,i):t==="array-contains"?new ej(e,i):t==="in"?new tj(e,i):t==="not-in"?new nj(e,i):t==="array-contains-any"?new sj(e,i):new Ut(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new Z6(e,i):new J6(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Sl(t,this.value)):t!==null&&wi(this.value)===wi(t)&&this.matchesComparison(Sl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ys extends tw{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new ys(e,t)}matches(e){return nw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function nw(s){return s.op==="and"}function sw(s){return X6(s)&&nw(s)}function X6(s){for(const e of s.filters)if(e instanceof ys)return!1;return!0}function jp(s){if(s instanceof Ut)return s.field.canonicalString()+s.op.toString()+Nl(s.value);if(sw(s))return s.filters.map(e=>jp(e)).join(",");{const e=s.filters.map(t=>jp(t)).join(",");return`${s.op}(${e})`}}function rw(s,e){return s instanceof Ut?function(i,l){return l instanceof Ut&&i.op===l.op&&i.field.isEqual(l.field)&&qs(i.value,l.value)}(s,e):s instanceof ys?function(i,l){return l instanceof ys&&i.op===l.op&&i.filters.length===l.filters.length?i.filters.reduce((c,h,m)=>c&&rw(h,l.filters[m]),!0):!1}(s,e):void Le(19439)}function iw(s){return s instanceof Ut?function(t){return`${t.field.canonicalString()} ${t.op} ${Nl(t.value)}`}(s):s instanceof ys?function(t){return t.op.toString()+" {"+t.getFilters().map(iw).join(" ,")+"}"}(s):"Filter"}class W6 extends Ut{constructor(e,t,i){super(e,t,i),this.key=Ie.fromName(i.referenceValue)}matches(e){const t=Ie.comparator(e.key,this.key);return this.matchesComparison(t)}}class Z6 extends Ut{constructor(e,t){super(e,"in",t),this.keys=aw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class J6 extends Ut{constructor(e,t){super(e,"not-in",t),this.keys=aw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function aw(s,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Ie.fromName(i.referenceValue))}class ej extends Ut{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return mg(t)&&gc(t.arrayValue,this.value)}}class tj extends Ut{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&gc(this.value.arrayValue,t)}}class nj extends Ut{constructor(e,t){super(e,"not-in",t)}matches(e){if(gc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!gc(this.value.arrayValue,t)}}class sj extends Ut{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!mg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>gc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(e,t=null,i=[],l=[],c=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=l,this.limit=c,this.startAt=h,this.endAt=m,this.Ie=null}}function hb(s,e=null,t=[],i=[],l=null,c=null,h=null){return new rj(s,e,t,i,l,c,h)}function pg(s){const e=Fe(s);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>jp(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(c){return c.field.canonicalString()+c.dir}(i)).join(","),oh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Nl(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Nl(i)).join(",")),e.Ie=t}return e.Ie}function gg(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<s.orderBy.length;t++)if(!K6(s.orderBy[t],e.orderBy[t]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let t=0;t<s.filters.length;t++)if(!rw(s.filters[t],e.filters[t]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!db(s.startAt,e.startAt)&&db(s.endAt,e.endAt)}function Rp(s){return Ie.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,t=null,i=[],l=[],c=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=l,this.limit=c,this.limitType=h,this.startAt=m,this.endAt=g,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function ij(s,e,t,i,l,c,h,m){return new Ll(s,e,t,i,l,c,h,m)}function uh(s){return new Ll(s)}function fb(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function lw(s){return s.collectionGroup!==null}function lc(s){const e=Fe(s);if(e.Ee===null){e.Ee=[];const t=new Set;for(const c of e.explicitOrderBy)e.Ee.push(c),t.add(c.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Yt(tn.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(c=>{t.has(c.canonicalString())||c.isKeyField()||e.Ee.push(new yc(c,i))}),t.has(tn.keyField().canonicalString())||e.Ee.push(new yc(tn.keyField(),i))}return e.Ee}function zs(s){const e=Fe(s);return e.de||(e.de=aj(e,lc(s))),e.de}function aj(s,e){if(s.limitType==="F")return hb(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new yc(l.field,c)});const t=s.endAt?new zd(s.endAt.position,s.endAt.inclusive):null,i=s.startAt?new zd(s.startAt.position,s.startAt.inclusive):null;return hb(s.path,s.collectionGroup,e,s.filters,s.limit,t,i)}}function Ip(s,e){const t=s.filters.concat([e]);return new Ll(s.path,s.collectionGroup,s.explicitOrderBy.slice(),t,s.limit,s.limitType,s.startAt,s.endAt)}function Fd(s,e,t){return new Ll(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,t,s.startAt,s.endAt)}function dh(s,e){return gg(zs(s),zs(e))&&s.limitType===e.limitType}function ow(s){return`${pg(zs(s))}|lt:${s.limitType}`}function fl(s){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(l=>iw(l)).join(", ")}]`),oh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(l=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(l)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(l=>Nl(l)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(l=>Nl(l)).join(",")),`Target(${i})`}(zs(s))}; limitType=${s.limitType})`}function hh(s,e){return e.isFoundDocument()&&function(i,l){const c=l.key.path;return i.collectionGroup!==null?l.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):Ie.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c)}(s,e)&&function(i,l){for(const c of lc(i))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(s,e)&&function(i,l){for(const c of i.filters)if(!c.matches(l))return!1;return!0}(s,e)&&function(i,l){return!(i.startAt&&!function(h,m,g){const y=ub(h,m,g);return h.inclusive?y<=0:y<0}(i.startAt,lc(i),l)||i.endAt&&!function(h,m,g){const y=ub(h,m,g);return h.inclusive?y>=0:y>0}(i.endAt,lc(i),l))}(s,e)}function lj(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function cw(s){return(e,t)=>{let i=!1;for(const l of lc(s)){const c=oj(l,e,t);if(c!==0)return c;i=i||l.field.isKeyField()}return 0}}function oj(s,e,t){const i=s.field.isKeyField()?Ie.comparator(e.key,t.key):function(c,h,m){const g=h.data.field(c),y=m.data.field(c);return g!==null&&y!==null?Sl(g,y):Le(42886)}(s.field,e,t);switch(s.dir){case"asc":return i;case"desc":return-1*i;default:return Le(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[l,c]of i)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),l=this.inner[i];if(l===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,t]);l.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return i.length===1?delete this.inner[t]:i.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Si(this.inner,(t,i)=>{for(const[l,c]of i)e(l,c)})}isEmpty(){return $1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj=new Nt(Ie.comparator);function Or(){return cj}const uw=new Nt(Ie.comparator);function nc(...s){let e=uw;for(const t of s)e=e.insert(t.key,t);return e}function dw(s){let e=uw;return s.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function oa(){return oc()}function hw(){return oc()}function oc(){return new xa(s=>s.toString(),(s,e)=>s.isEqual(e))}const uj=new Nt(Ie.comparator),dj=new Yt(Ie.comparator);function We(...s){let e=dj;for(const t of s)e=e.add(t);return e}const hj=new Yt(He);function fj(){return hj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ld(e)?"-0":e}}function fw(s){return{integerValue:""+s}}function mj(s,e){return F6(e)?fw(e):yg(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(){this._=void 0}}function pj(s,e,t){return s instanceof vc?function(l,c){const h={fields:{[K1]:{stringValue:Y1},[W1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&fg(c)&&(c=ch(c)),c&&(h.fields[X1]=c),{mapValue:h}}(t,e):s instanceof xc?pw(s,e):s instanceof bc?gw(s,e):function(l,c){const h=mw(l,c),m=mb(h)+mb(l.Re);return Ap(h)&&Ap(l.Re)?fw(m):yg(l.serializer,m)}(s,e)}function gj(s,e,t){return s instanceof xc?pw(s,e):s instanceof bc?gw(s,e):t}function mw(s,e){return s instanceof qd?function(i){return Ap(i)||function(c){return!!c&&"doubleValue"in c}(i)}(e)?e:{integerValue:0}:null}class vc extends fh{}class xc extends fh{constructor(e){super(),this.elements=e}}function pw(s,e){const t=yw(e);for(const i of s.elements)t.some(l=>qs(l,i))||t.push(i);return{arrayValue:{values:t}}}class bc extends fh{constructor(e){super(),this.elements=e}}function gw(s,e){let t=yw(e);for(const i of s.elements)t=t.filter(l=>!qs(l,i));return{arrayValue:{values:t}}}class qd extends fh{constructor(e,t){super(),this.serializer=e,this.Re=t}}function mb(s){return Dt(s.integerValue||s.doubleValue)}function yw(s){return mg(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e,t){this.field=e,this.transform=t}}function vj(s,e){return s.field.isEqual(e.field)&&function(i,l){return i instanceof xc&&l instanceof xc||i instanceof bc&&l instanceof bc?El(i.elements,l.elements,qs):i instanceof qd&&l instanceof qd?qs(i.Re,l.Re):i instanceof vc&&l instanceof vc}(s.transform,e.transform)}class xj{constructor(e,t){this.version=e,this.transformResults=t}}class ns{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ns}static exists(e){return new ns(void 0,e)}static updateTime(e){return new ns(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nd(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class mh{}function vw(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new vg(s.key,ns.none()):new Rc(s.key,s.data,ns.none());{const t=s.data,i=On.empty();let l=new Yt(tn.comparator);for(let c of e.fields)if(!l.has(c)){let h=t.field(c);h===null&&c.length>1&&(c=c.popLast(),h=t.field(c)),h===null?i.delete(c):i.set(c,h),l=l.add(c)}return new Ni(s.key,i,new Bn(l.toArray()),ns.none())}}function bj(s,e,t){s instanceof Rc?function(l,c,h){const m=l.value.clone(),g=gb(l.fieldTransforms,c,h.transformResults);m.setAll(g),c.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(s,e,t):s instanceof Ni?function(l,c,h){if(!Nd(l.precondition,c))return void c.convertToUnknownDocument(h.version);const m=gb(l.fieldTransforms,c,h.transformResults),g=c.data;g.setAll(xw(l)),g.setAll(m),c.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(s,e,t):function(l,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function cc(s,e,t,i){return s instanceof Rc?function(c,h,m,g){if(!Nd(c.precondition,h))return m;const y=c.value.clone(),w=yb(c.fieldTransforms,g,h);return y.setAll(w),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null}(s,e,t,i):s instanceof Ni?function(c,h,m,g){if(!Nd(c.precondition,h))return m;const y=yb(c.fieldTransforms,g,h),w=h.data;return w.setAll(xw(c)),w.setAll(y),h.convertToFoundDocument(h.version,w).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(A=>A.field))}(s,e,t,i):function(c,h,m){return Nd(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(s,e,t)}function _j(s,e){let t=null;for(const i of s.fieldTransforms){const l=e.data.field(i.field),c=mw(i.transform,l||null);c!=null&&(t===null&&(t=On.empty()),t.set(i.field,c))}return t||null}function pb(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(i,l){return i===void 0&&l===void 0||!(!i||!l)&&El(i,l,(c,h)=>vj(c,h))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Rc extends mh{constructor(e,t,i,l=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ni extends mh{constructor(e,t,i,l,c=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function xw(s){const e=new Map;return s.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=s.data.field(t);e.set(t,i)}}),e}function gb(s,e,t){const i=new Map;it(s.length===t.length,32656,{Ve:t.length,me:s.length});for(let l=0;l<t.length;l++){const c=s[l],h=c.transform,m=e.data.field(c.field);i.set(c.field,gj(h,m,t[l]))}return i}function yb(s,e,t){const i=new Map;for(const l of s){const c=l.transform,h=t.data.field(l.field);i.set(l.field,pj(c,h,e))}return i}class vg extends mh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wj extends mh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(e,t,i,l){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=l}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&bj(c,e,i[l])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=cc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=cc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=hw();return this.mutations.forEach(l=>{const c=e.get(l.key),h=c.overlayedDocument;let m=this.applyToLocalView(h,c.mutatedFields);m=t.has(l.key)?null:m;const g=vw(h,m);g!==null&&i.set(l.key,g),h.isValidDocument()||h.convertToNoDocument(ze.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),We())}isEqual(e){return this.batchId===e.batchId&&El(this.mutations,e.mutations,(t,i)=>pb(t,i))&&El(this.baseMutations,e.baseMutations,(t,i)=>pb(t,i))}}class xg{constructor(e,t,i,l){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=l}static from(e,t,i){it(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let l=function(){return uj}();const c=e.mutations;for(let h=0;h<c.length;h++)l=l.insert(c[h].key,i[h].version);return new xg(e,t,i,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt,tt;function Nj(s){switch(s){case ye.OK:return Le(64938);case ye.CANCELLED:case ye.UNKNOWN:case ye.DEADLINE_EXCEEDED:case ye.RESOURCE_EXHAUSTED:case ye.INTERNAL:case ye.UNAVAILABLE:case ye.UNAUTHENTICATED:return!1;case ye.INVALID_ARGUMENT:case ye.NOT_FOUND:case ye.ALREADY_EXISTS:case ye.PERMISSION_DENIED:case ye.FAILED_PRECONDITION:case ye.ABORTED:case ye.OUT_OF_RANGE:case ye.UNIMPLEMENTED:case ye.DATA_LOSS:return!0;default:return Le(15467,{code:s})}}function bw(s){if(s===void 0)return Cr("GRPC error has no .code"),ye.UNKNOWN;switch(s){case Vt.OK:return ye.OK;case Vt.CANCELLED:return ye.CANCELLED;case Vt.UNKNOWN:return ye.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return ye.INTERNAL;case Vt.UNAVAILABLE:return ye.UNAVAILABLE;case Vt.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case Vt.NOT_FOUND:return ye.NOT_FOUND;case Vt.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case Vt.ABORTED:return ye.ABORTED;case Vt.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case Vt.DATA_LOSS:return ye.DATA_LOSS;default:return Le(39323,{code:s})}}(tt=Vt||(Vt={}))[tt.OK=0]="OK",tt[tt.CANCELLED=1]="CANCELLED",tt[tt.UNKNOWN=2]="UNKNOWN",tt[tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tt[tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tt[tt.NOT_FOUND=5]="NOT_FOUND",tt[tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",tt[tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",tt[tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",tt[tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tt[tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tt[tt.ABORTED=10]="ABORTED",tt[tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",tt[tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",tt[tt.INTERNAL=13]="INTERNAL",tt[tt.UNAVAILABLE=14]="UNAVAILABLE",tt[tt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj=new yi([4294967295,4294967295],0);function vb(s){const e=H1().encode(s),t=new M1;return t.update(e),new Uint8Array(t.digest())}function xb(s){const e=new DataView(s.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new yi([t,i],0),new yi([l,c],0)]}class bg{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new sc(`Invalid padding: ${t}`);if(i<0)throw new sc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new sc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new sc(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=yi.fromNumber(this.pe)}we(e,t,i){let l=e.add(t.multiply(yi.fromNumber(i)));return l.compare(Aj)===1&&(l=new yi([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=vb(e),[i,l]=xb(t);for(let c=0;c<this.hashCount;c++){const h=this.we(i,l,c);if(!this.be(h))return!1}return!0}static create(e,t,i){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new bg(c,l,t);return i.forEach(m=>h.insert(m)),h}insert(e){if(this.pe===0)return;const t=vb(e),[i,l]=xb(t);for(let c=0;c<this.hashCount;c++){const h=this.we(i,l,c);this.Se(h)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class sc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,t,i,l,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const l=new Map;return l.set(e,Ic.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new ph(ze.min(),l,new Nt(He),Or(),We())}}class Ic{constructor(e,t,i,l,c){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Ic(i,t,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,t,i,l){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=l}}class _w{constructor(e,t){this.targetId=e,this.Ce=t}}class ww{constructor(e,t,i=nn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=l}}class bb{constructor(){this.Fe=0,this.Me=_b(),this.xe=nn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=We(),t=We(),i=We();return this.Me.forEach((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:t=t.add(l);break;case 1:i=i.add(l);break;default:Le(38017,{changeType:c})}}),new Ic(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=_b()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,it(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class jj{constructor(e){this.ze=e,this.je=new Map,this.He=Or(),this.Je=md(),this.Ye=md(),this.Ze=new Nt(He)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:Le(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,l)=>{this.it(l)&&t(l)})}ot(e){const t=e.targetId,i=e.Ce.count,l=this._t(t);if(l){const c=l.target;if(Rp(c))if(i===0){const h=new Ie(c.path);this.tt(t,h,yn.newNoDocument(h,ze.min()))}else it(i===1,20013,{expectedCount:i});else{const h=this.ut(t);if(h!==i){const m=this.ct(e),g=m?this.lt(m,e,h):1;if(g!==0){this.st(t);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,y)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:l=0},hashCount:c=0}=t;let h,m;try{h=_i(i).toUint8Array()}catch(g){if(g instanceof Q1)return ma("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new bg(h,l,c)}catch(g){return ma(g instanceof sc?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.pe===0?null:m}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){const i=this.ze.getRemoteKeysForTarget(t);let l=0;return i.forEach(c=>{const h=this.ze.Pt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.tt(t,c,null),l++)}),l}It(e){const t=new Map;this.je.forEach((c,h)=>{const m=this._t(h);if(m){if(c.current&&Rp(m.target)){const g=new Ie(m.target.path);this.Et(g).has(h)||this.dt(h,g)||this.tt(h,g,yn.newNoDocument(g,e))}c.Le&&(t.set(h,c.qe()),c.Qe())}});let i=We();this.Ye.forEach((c,h)=>{let m=!0;h.forEachWhile(g=>{const y=this._t(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(i=i.add(c))}),this.He.forEach((c,h)=>h.setReadTime(e));const l=new ph(e,t,this.Ze,this.He,i);return this.He=Or(),this.Je=md(),this.Ye=md(),this.Ze=new Nt(He),l}et(e,t){if(!this.it(e))return;const i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;const l=this.rt(e);this.dt(e,t)?l.$e(t,1):l.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new bb,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Yt(He),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Yt(He),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||Te("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new bb),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function md(){return new Nt(Ie.comparator)}function _b(){return new Nt(Ie.comparator)}const Rj={asc:"ASCENDING",desc:"DESCENDING"},Ij={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Cj={and:"AND",or:"OR"};class Oj{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Cp(s,e){return s.useProto3Json||oh(e)?e:{value:e}}function Bd(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ew(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function Dj(s,e){return Bd(s,e.toTimestamp())}function Fs(s){return it(!!s,49232),ze.fromTimestamp(function(t){const i=bi(t);return new zt(i.seconds,i.nanos)}(s))}function _g(s,e){return Op(s,e).canonicalString()}function Op(s,e){const t=function(l){return new gt(["projects",l.projectId,"databases",l.database])}(s).child("documents");return e===void 0?t:t.child(e)}function Tw(s){const e=gt.fromString(s);return it(Rw(e),10190,{key:e.toString()}),e}function Dp(s,e){return _g(s.databaseId,e.path)}function Qm(s,e){const t=Tw(e);if(t.get(1)!==s.databaseId.projectId)throw new Ee(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+s.databaseId.projectId);if(t.get(3)!==s.databaseId.database)throw new Ee(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+s.databaseId.database);return new Ie(Nw(t))}function Sw(s,e){return _g(s.databaseId,e)}function kj(s){const e=Tw(s);return e.length===4?gt.emptyPath():Nw(e)}function kp(s){return new gt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Nw(s){return it(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function wb(s,e,t){return{name:Dp(s,e),fields:t.value.mapValue.fields}}function Mj(s,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Le(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=function(y,w){return y.useProto3Json?(it(w===void 0||typeof w=="string",58123),nn.fromBase64String(w||"")):(it(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),nn.fromUint8Array(w||new Uint8Array))}(s,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(y){const w=y.code===void 0?ye.UNKNOWN:bw(y.code);return new Ee(w,y.message||"")}(h);t=new ww(i,l,c,m||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const l=Qm(s,i.document.name),c=Fs(i.document.updateTime),h=i.document.createTime?Fs(i.document.createTime):ze.min(),m=new On({mapValue:{fields:i.document.fields}}),g=yn.newFoundDocument(l,c,h,m),y=i.targetIds||[],w=i.removedTargetIds||[];t=new Ad(y,w,g.key,g)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const l=Qm(s,i.document),c=i.readTime?Fs(i.readTime):ze.min(),h=yn.newNoDocument(l,c),m=i.removedTargetIds||[];t=new Ad([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const l=Qm(s,i.document),c=i.removedTargetIds||[];t=new Ad([],c,l,null)}else{if(!("filter"in e))return Le(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:l=0,unchangedNames:c}=i,h=new Sj(l,c),m=i.targetId;t=new _w(m,h)}}return t}function Pj(s,e){let t;if(e instanceof Rc)t={update:wb(s,e.key,e.value)};else if(e instanceof vg)t={delete:Dp(s,e.key)};else if(e instanceof Ni)t={update:wb(s,e.key,e.data),updateMask:Gj(e.fieldMask)};else{if(!(e instanceof wj))return Le(16599,{ft:e.type});t={verify:Dp(s,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(c,h){const m=h.transform;if(m instanceof vc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof xc)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof bc)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof qd)return{fieldPath:h.field.canonicalString(),increment:m.Re};throw Le(20930,{transform:h.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:Dj(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Le(27497)}(s,e.precondition)),t}function Lj(s,e){return s&&s.length>0?(it(e!==void 0,14353),s.map(t=>function(l,c){let h=l.updateTime?Fs(l.updateTime):Fs(c);return h.isEqual(ze.min())&&(h=Fs(c)),new xj(h,l.transformResults||[])}(t,e))):[]}function Vj(s,e){return{documents:[Sw(s,e.path)]}}function Uj(s,e){const t={structuredQuery:{}},i=e.path;let l;e.collectionGroup!==null?(l=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=Sw(s,l);const c=function(y){if(y.length!==0)return jw(ys.create(y,"and"))}(e.filters);c&&(t.structuredQuery.where=c);const h=function(y){if(y.length!==0)return y.map(w=>function(R){return{field:ml(R.field),direction:qj(R.dir)}}(w))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=Cp(s,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{gt:t,parent:l}}function zj(s){let e=kj(s.parent);const t=s.structuredQuery,i=t.from?t.from.length:0;let l=null;if(i>0){it(i===1,65062);const w=t.from[0];w.allDescendants?l=w.collectionId:e=e.child(w.collectionId)}let c=[];t.where&&(c=function(A){const R=Aw(A);return R instanceof ys&&sw(R)?R.getFilters():[R]}(t.where));let h=[];t.orderBy&&(h=function(A){return A.map(R=>function(U){return new yc(pl(U.field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction))}(R))}(t.orderBy));let m=null;t.limit&&(m=function(A){let R;return R=typeof A=="object"?A.value:A,oh(R)?null:R}(t.limit));let g=null;t.startAt&&(g=function(A){const R=!!A.before,q=A.values||[];return new zd(q,R)}(t.startAt));let y=null;return t.endAt&&(y=function(A){const R=!A.before,q=A.values||[];return new zd(q,R)}(t.endAt)),ij(e,l,h,c,m,"F",g,y)}function Fj(s,e){const t=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Le(28987,{purpose:l})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Aw(s){return s.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=pl(t.unaryFilter.field);return Ut.create(i,"==",{doubleValue:NaN});case"IS_NULL":const l=pl(t.unaryFilter.field);return Ut.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=pl(t.unaryFilter.field);return Ut.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=pl(t.unaryFilter.field);return Ut.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Le(61313);default:return Le(60726)}}(s):s.fieldFilter!==void 0?function(t){return Ut.create(pl(t.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Le(58110);default:return Le(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(t){return ys.create(t.compositeFilter.filters.map(i=>Aw(i)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Le(1026)}}(t.compositeFilter.op))}(s):Le(30097,{filter:s})}function qj(s){return Rj[s]}function Bj(s){return Ij[s]}function Hj(s){return Cj[s]}function ml(s){return{fieldPath:s.canonicalString()}}function pl(s){return tn.fromServerFormat(s.fieldPath)}function jw(s){return s instanceof Ut?function(t){if(t.op==="=="){if(cb(t.value))return{unaryFilter:{field:ml(t.field),op:"IS_NAN"}};if(ob(t.value))return{unaryFilter:{field:ml(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(cb(t.value))return{unaryFilter:{field:ml(t.field),op:"IS_NOT_NAN"}};if(ob(t.value))return{unaryFilter:{field:ml(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ml(t.field),op:Bj(t.op),value:t.value}}}(s):s instanceof ys?function(t){const i=t.getFilters().map(l=>jw(l));return i.length===1?i[0]:{compositeFilter:{op:Hj(t.op),filters:i}}}(s):Le(54877,{filter:s})}function Gj(s){const e=[];return s.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Rw(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,t,i,l,c=ze.min(),h=ze.min(),m=nn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new fi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{constructor(e){this.wt=e}}function Qj(s){const e=zj({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Fd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(){this.Cn=new Kj}addToCollectionParentIndex(e,t){return this.Cn.add(t),ve.resolve()}getCollectionParents(e,t){return ve.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ve.resolve()}deleteFieldIndex(e,t){return ve.resolve()}deleteAllFieldIndexes(e){return ve.resolve()}createTargetIndexes(e,t){return ve.resolve()}getDocumentsMatchingTarget(e,t){return ve.resolve(null)}getIndexType(e,t){return ve.resolve(0)}getFieldIndexes(e,t){return ve.resolve([])}getNextCollectionGroupToUpdate(e){return ve.resolve(null)}getMinOffset(e,t){return ve.resolve(xi.min())}getMinOffsetFromCollectionGroup(e,t){return ve.resolve(xi.min())}updateCollectionGroup(e,t,i){return ve.resolve()}updateIndexEntries(e,t){return ve.resolve()}}class Kj{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),l=this.index[t]||new Yt(gt.comparator),c=!l.has(i);return this.index[t]=l.add(i),c}has(e){const t=e.lastSegment(),i=e.popLast(),l=this.index[t];return l&&l.has(i)}getEntries(e){return(this.index[e]||new Yt(gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Iw=41943040;class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(Iw,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Al(0)}static lr(){return new Al(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="LruGarbageCollector",Xj=1048576;function Sb([s,e],[t,i]){const l=He(s,t);return l===0?He(e,i):l}class Wj{constructor(e){this.Er=e,this.buffer=new Yt(Sb),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Sb(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Zj{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Te(Tb,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Pl(t)?Te(Tb,"Ignoring IndexedDB error during garbage collection: ",t):await Ml(t)}await this.mr(3e5)})}}class Jj{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return ve.resolve(lh.le);const i=new Wj(t);return this.gr.forEachTarget(e,l=>i.Rr(l.sequenceNumber)).next(()=>this.gr.yr(e,l=>i.Rr(l))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.gr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),ve.resolve(Eb)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Eb):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let i,l,c,h,m,g,y;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,h=Date.now(),this.nthSequenceNumber(e,l))).next(A=>(i=A,m=Date.now(),this.removeTargets(e,i,t))).next(A=>(c=A,g=Date.now(),this.removeOrphanedDocuments(e,i))).next(A=>(y=Date.now(),hl()<=Xe.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-w}ms
	Determined least recently used ${l} in `+(m-h)+`ms
	Removed ${c} targets in `+(g-m)+`ms
	Removed ${A} documents in `+(y-g)+`ms
Total Duration: ${y-w}ms`),ve.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A})))}}function e3(s,e){return new Jj(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(){this.changes=new xa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ve.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e,t,i,l){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=l}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(l=>(i=l,this.remoteDocumentCache.getEntry(e,t))).next(l=>(i!==null&&cc(i.mutation,l,Bn.empty(),zt.now()),l))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,We()).next(()=>i))}getLocalViewOfDocuments(e,t,i=We()){const l=oa();return this.populateOverlays(e,l,t).next(()=>this.computeViews(e,t,l,i).next(c=>{let h=nc();return c.forEach((m,g)=>{h=h.insert(m,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const i=oa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,We()))}populateOverlays(e,t,i){const l=[];return i.forEach(c=>{t.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(e,l).next(c=>{c.forEach((h,m)=>{t.set(h,m)})})}computeViews(e,t,i,l){let c=Or();const h=oc(),m=function(){return oc()}();return t.forEach((g,y)=>{const w=i.get(y.key);l.has(y.key)&&(w===void 0||w.mutation instanceof Ni)?c=c.insert(y.key,y):w!==void 0?(h.set(y.key,w.mutation.getFieldMask()),cc(w.mutation,y,w.mutation.getFieldMask(),zt.now())):h.set(y.key,Bn.empty())}),this.recalculateAndSaveOverlays(e,c).next(g=>(g.forEach((y,w)=>h.set(y,w)),t.forEach((y,w)=>{var A;return m.set(y,new n3(w,(A=h.get(y))!==null&&A!==void 0?A:null))}),m))}recalculateAndSaveOverlays(e,t){const i=oc();let l=new Nt((h,m)=>h-m),c=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const m of h)m.keys().forEach(g=>{const y=t.get(g);if(y===null)return;let w=i.get(g)||Bn.empty();w=m.applyToLocalView(y,w),i.set(g,w);const A=(l.get(m.batchId)||We()).add(g);l=l.insert(m.batchId,A)})}).next(()=>{const h=[],m=l.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,w=g.value,A=hw();w.forEach(R=>{if(!c.has(R)){const q=vw(t.get(R),i.get(R));q!==null&&A.set(R,q),c=c.add(R)}}),h.push(this.documentOverlayCache.saveOverlays(e,y,A))}return ve.waitFor(h)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,l){return function(h){return Ie.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):lw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,l):this.getDocumentsMatchingCollectionQuery(e,t,i,l)}getNextDocuments(e,t,i,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,l).next(c=>{const h=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,l-c.size):ve.resolve(oa());let m=mc,g=c;return h.next(y=>ve.forEach(y,(w,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),c.get(w)?ve.resolve():this.remoteDocumentCache.getEntry(e,w).next(R=>{g=g.insert(w,R)}))).next(()=>this.populateOverlays(e,y,c)).next(()=>this.computeViews(e,g,y,We())).next(w=>({batchId:m,changes:dw(w)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ie(t)).next(i=>{let l=nc();return i.isFoundDocument()&&(l=l.insert(i.key,i)),l})}getDocumentsMatchingCollectionGroupQuery(e,t,i,l){const c=t.collectionGroup;let h=nc();return this.indexManager.getCollectionParents(e,c).next(m=>ve.forEach(m,g=>{const y=function(A,R){return new Ll(R,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(t,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,i,l).next(w=>{w.forEach((A,R)=>{h=h.insert(A,R)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,i,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,c,l))).next(h=>{c.forEach((g,y)=>{const w=y.getKey();h.get(w)===null&&(h=h.insert(w,yn.newInvalidDocument(w)))});let m=nc();return h.forEach((g,y)=>{const w=c.get(g);w!==void 0&&cc(w.mutation,y,Bn.empty(),zt.now()),hh(t,y)&&(m=m.insert(g,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return ve.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(l){return{id:l.id,version:l.version,createTime:Fs(l.createTime)}}(t)),ve.resolve()}getNamedQuery(e,t){return ve.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(l){return{name:l.name,query:Qj(l.bundledQuery),readTime:Fs(l.readTime)}}(t)),ve.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(){this.overlays=new Nt(Ie.comparator),this.Qr=new Map}getOverlay(e,t){return ve.resolve(this.overlays.get(t))}getOverlays(e,t){const i=oa();return ve.forEach(t,l=>this.getOverlay(e,l).next(c=>{c!==null&&i.set(l,c)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((l,c)=>{this.St(e,t,c)}),ve.resolve()}removeOverlaysForBatchId(e,t,i){const l=this.Qr.get(i);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.Qr.delete(i)),ve.resolve()}getOverlaysForCollection(e,t,i){const l=oa(),c=t.length+1,h=new Ie(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>i&&l.set(g.getKey(),g)}return ve.resolve(l)}getOverlaysForCollectionGroup(e,t,i,l){let c=new Nt((y,w)=>y-w);const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let w=c.get(y.largestBatchId);w===null&&(w=oa(),c=c.insert(y.largestBatchId,w)),w.set(y.getKey(),y)}}const m=oa(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,w)=>m.set(y,w)),!(m.size()>=l)););return ve.resolve(m)}St(e,t,i){const l=this.overlays.get(i.key);if(l!==null){const h=this.Qr.get(l.largestBatchId).delete(i.key);this.Qr.set(l.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new Tj(t,i));let c=this.Qr.get(t);c===void 0&&(c=We(),this.Qr.set(t,c)),this.Qr.set(t,c.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return ve.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ve.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(){this.$r=new Yt(en.Ur),this.Kr=new Yt(en.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const i=new en(e,t);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.zr(new en(e,t))}jr(e,t){e.forEach(i=>this.removeReference(i,t))}Hr(e){const t=new Ie(new gt([])),i=new en(t,e),l=new en(t,e+1),c=[];return this.Kr.forEachInRange([i,l],h=>{this.zr(h),c.push(h.key)}),c}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new Ie(new gt([])),i=new en(t,e),l=new en(t,e+1);let c=We();return this.Kr.forEachInRange([i,l],h=>{c=c.add(h.key)}),c}containsKey(e){const t=new en(e,0),i=this.$r.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class en{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return Ie.comparator(e.key,t.key)||He(e.Zr,t.Zr)}static Wr(e,t){return He(e.Zr,t.Zr)||Ie.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Yt(en.Ur)}checkEmpty(e){return ve.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,l){const c=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new Ej(c,t,i,l);this.mutationQueue.push(h);for(const m of l)this.Xr=this.Xr.add(new en(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ve.resolve(h)}lookupMutationBatch(e,t){return ve.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,l=this.ti(i),c=l<0?0:l;return ve.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ve.resolve(this.mutationQueue.length===0?hg:this.nr-1)}getAllMutationBatches(e){return ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new en(t,0),l=new en(t,Number.POSITIVE_INFINITY),c=[];return this.Xr.forEachInRange([i,l],h=>{const m=this.ei(h.Zr);c.push(m)}),ve.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Yt(He);return t.forEach(l=>{const c=new en(l,0),h=new en(l,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([c,h],m=>{i=i.add(m.Zr)})}),ve.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,l=i.length+1;let c=i;Ie.isDocumentKey(c)||(c=c.child(""));const h=new en(new Ie(c),0);let m=new Yt(He);return this.Xr.forEachWhile(g=>{const y=g.key.path;return!!i.isPrefixOf(y)&&(y.length===l&&(m=m.add(g.Zr)),!0)},h),ve.resolve(this.ni(m))}ni(e){const t=[];return e.forEach(i=>{const l=this.ei(i);l!==null&&t.push(l)}),t}removeMutationBatch(e,t){it(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return ve.forEach(t.mutations,l=>{const c=new en(l.key,t.batchId);return i=i.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Xr=i})}sr(e){}containsKey(e,t){const i=new en(t,0),l=this.Xr.firstAfterOrEqual(i);return ve.resolve(t.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,ve.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(e){this.ii=e,this.docs=function(){return new Nt(Ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,l=this.docs.get(i),c=l?l.size:0,h=this.ii(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ve.resolve(i?i.document.mutableCopy():yn.newInvalidDocument(t))}getEntries(e,t){let i=Or();return t.forEach(l=>{const c=this.docs.get(l);i=i.insert(l,c?c.document.mutableCopy():yn.newInvalidDocument(l))}),ve.resolve(i)}getDocumentsMatchingQuery(e,t,i,l){let c=Or();const h=t.path,m=new Ie(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:w}}=g.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||L6(P6(w),i)<=0||(l.has(w.key)||hh(t,w))&&(c=c.insert(w.key,w.mutableCopy()))}return ve.resolve(c)}getAllFromCollectionGroup(e,t,i,l){Le(9500)}si(e,t){return ve.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new c3(this)}getSize(e){return ve.resolve(this.size)}}class c3 extends t3{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((i,l)=>{l.isValidDocument()?t.push(this.Br.addEntry(e,l)):this.Br.removeEntry(i)}),ve.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e){this.persistence=e,this.oi=new xa(t=>pg(t),gg),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this._i=0,this.ai=new wg,this.targetCount=0,this.ui=Al.cr()}forEachTarget(e,t){return this.oi.forEach((i,l)=>t(l)),ve.resolve()}getLastRemoteSnapshotVersion(e){return ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ve.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ve.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this._i&&(this._i=t),ve.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new Al(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,ve.resolve()}updateTargetData(e,t){return this.Tr(t),ve.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,ve.resolve()}removeTargets(e,t,i){let l=0;const c=[];return this.oi.forEach((h,m)=>{m.sequenceNumber<=t&&i.get(m.targetId)===null&&(this.oi.delete(h),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),l++)}),ve.waitFor(c).next(()=>l)}getTargetCount(e){return ve.resolve(this.targetCount)}getTargetData(e,t){const i=this.oi.get(t)||null;return ve.resolve(i)}addMatchingKeys(e,t,i){return this.ai.Gr(t,i),ve.resolve()}removeMatchingKeys(e,t,i){this.ai.jr(t,i);const l=this.persistence.referenceDelegate,c=[];return l&&t.forEach(h=>{c.push(l.markPotentiallyOrphaned(e,h))}),ve.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),ve.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ai.Yr(t);return ve.resolve(i)}containsKey(e,t){return ve.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e,t){this.ci={},this.overlays={},this.li=new lh(0),this.hi=!1,this.hi=!0,this.Pi=new a3,this.referenceDelegate=e(this),this.Ti=new u3(this),this.indexManager=new Yj,this.remoteDocumentCache=function(l){return new o3(l)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new $j(t),this.Ei=new r3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new i3,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ci[e.toKey()];return i||(i=new l3(t,this.referenceDelegate),this.ci[e.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,i){Te("MemoryPersistence","Starting transaction:",e);const l=new d3(this.li.next());return this.referenceDelegate.di(),i(l).next(c=>this.referenceDelegate.Ai(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}Ri(e,t){return ve.or(Object.values(this.ci).map(i=>()=>i.containsKey(e,t)))}}class d3 extends U6{constructor(e){super(),this.currentSequenceNumber=e}}class Eg{constructor(e){this.persistence=e,this.Vi=new wg,this.mi=null}static fi(e){return new Eg(e)}get gi(){if(this.mi)return this.mi;throw Le(60996)}addReference(e,t,i){return this.Vi.addReference(i,t),this.gi.delete(i.toString()),ve.resolve()}removeReference(e,t,i){return this.Vi.removeReference(i,t),this.gi.add(i.toString()),ve.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),ve.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(l=>this.gi.add(l.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(l=>{l.forEach(c=>this.gi.add(c.toString()))}).next(()=>i.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ve.forEach(this.gi,i=>{const l=Ie.fromPath(i);return this.pi(e,l).next(c=>{c||t.removeEntry(l,ze.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(i=>{i?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return ve.or([()=>ve.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Hd{constructor(e,t){this.persistence=e,this.yi=new xa(i=>q6(i.path),(i,l)=>i.isEqual(l)),this.garbageCollector=e3(this,t)}static fi(e,t){return new Hd(e,t)}di(){}Ai(e){return ve.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(l=>i+l))}br(e){let t=0;return this.yr(e,i=>{t++}).next(()=>t)}yr(e,t){return ve.forEach(this.yi,(i,l)=>this.Dr(e,i,l).next(c=>c?ve.resolve():t(l)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.si(e,h=>this.Dr(e,h,t).next(m=>{m||(i++,c.removeEntry(h,ze.min()))})).next(()=>c.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),ve.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),ve.resolve()}removeReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),ve.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),ve.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Td(e.data.value)),t}Dr(e,t,i){return ve.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const l=this.yi.get(t);return ve.resolve(l!==void 0&&l>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,t,i,l){this.targetId=e,this.fromCache=t,this.ds=i,this.As=l}static Rs(e,t){let i=We(),l=We();for(const c of t.docChanges)switch(c.type){case 0:i=i.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Tg(e,t.fromCache,i,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return cN()?8:z6(xn())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,i,l){const c={result:null};return this.ws(e,t).next(h=>{c.result=h}).next(()=>{if(!c.result)return this.bs(e,t,l,i).next(h=>{c.result=h})}).next(()=>{if(c.result)return;const h=new h3;return this.Ss(e,t,h).next(m=>{if(c.result=m,this.fs)return this.Ds(e,t,h,m.size)})}).next(()=>c.result)}Ds(e,t,i,l){return i.documentReadCount<this.gs?(hl()<=Xe.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",fl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ve.resolve()):(hl()<=Xe.DEBUG&&Te("QueryEngine","Query:",fl(t),"scans",i.documentReadCount,"local documents and returns",l,"documents as results."),i.documentReadCount>this.ps*l?(hl()<=Xe.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",fl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zs(t))):ve.resolve())}ws(e,t){if(fb(t))return ve.resolve(null);let i=zs(t);return this.indexManager.getIndexType(e,i).next(l=>l===0?null:(t.limit!==null&&l===1&&(t=Fd(t,null,"F"),i=zs(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(c=>{const h=We(...c);return this.ys.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,i).next(g=>{const y=this.vs(t,m);return this.Cs(t,y,h,g.readTime)?this.ws(e,Fd(t,null,"F")):this.Fs(e,y,t,g)}))})))}bs(e,t,i,l){return fb(t)||l.isEqual(ze.min())?ve.resolve(null):this.ys.getDocuments(e,i).next(c=>{const h=this.vs(t,c);return this.Cs(t,h,i,l)?ve.resolve(null):(hl()<=Xe.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),fl(t)),this.Fs(e,h,t,M6(l,mc)).next(m=>m))})}vs(e,t){let i=new Yt(cw(e));return t.forEach((l,c)=>{hh(e,c)&&(i=i.add(c))}),i}Cs(e,t,i,l){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const c=e.limitType==="F"?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,t,i){return hl()<=Xe.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",fl(t)),this.ys.getDocumentsMatchingQuery(e,t,xi.min(),i)}Fs(e,t,i,l){return this.ys.getDocumentsMatchingQuery(e,i,l).next(c=>(t.forEach(h=>{c=c.insert(h.key,h)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg="LocalStore",m3=3e8;class p3{constructor(e,t,i,l){this.persistence=e,this.Ms=t,this.serializer=l,this.xs=new Nt(He),this.Os=new xa(c=>pg(c),gg),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(i)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new s3(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function g3(s,e,t,i){return new p3(s,e,t,i)}async function Ow(s,e){const t=Fe(s);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let l;return t.mutationQueue.getAllMutationBatches(i).next(c=>(l=c,t.Ls(e),t.mutationQueue.getAllMutationBatches(i))).next(c=>{const h=[],m=[];let g=We();for(const y of l){h.push(y.batchId);for(const w of y.mutations)g=g.add(w.key)}for(const y of c){m.push(y.batchId);for(const w of y.mutations)g=g.add(w.key)}return t.localDocuments.getDocuments(i,g).next(y=>({ks:y,removedBatchIds:h,addedBatchIds:m}))})})}function y3(s,e){const t=Fe(s);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const l=e.batch.keys(),c=t.Bs.newChangeBuffer({trackRemovals:!0});return function(m,g,y,w){const A=y.batch,R=A.keys();let q=ve.resolve();return R.forEach(U=>{q=q.next(()=>w.getEntry(g,U)).next(M=>{const B=y.docVersions.get(U);it(B!==null,48541),M.version.compareTo(B)<0&&(A.applyToRemoteDocument(M,y),M.isValidDocument()&&(M.setReadTime(y.commitVersion),w.addEntry(M)))})}),q.next(()=>m.mutationQueue.removeMutationBatch(g,A))}(t,i,e,c).next(()=>c.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,l,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(m){let g=We();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g}(e))).next(()=>t.localDocuments.getDocuments(i,l))})}function Dw(s){const e=Fe(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function v3(s,e){const t=Fe(s),i=e.snapshotVersion;let l=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const h=t.Bs.newChangeBuffer({trackRemovals:!0});l=t.xs;const m=[];e.targetChanges.forEach((w,A)=>{const R=l.get(A);if(!R)return;m.push(t.Ti.removeMatchingKeys(c,w.removedDocuments,A).next(()=>t.Ti.addMatchingKeys(c,w.addedDocuments,A)));let q=R.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?q=q.withResumeToken(nn.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):w.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(w.resumeToken,i)),l=l.insert(A,q),function(M,B,X){return M.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=m3?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0}(R,q,w)&&m.push(t.Ti.updateTargetData(c,q))});let g=Or(),y=We();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(c,w))}),m.push(x3(c,h,e.documentUpdates).next(w=>{g=w.qs,y=w.Qs})),!i.isEqual(ze.min())){const w=t.Ti.getLastRemoteSnapshotVersion(c).next(A=>t.Ti.setTargetsMetadata(c,c.currentSequenceNumber,i));m.push(w)}return ve.waitFor(m).next(()=>h.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,g,y)).next(()=>g)}).then(c=>(t.xs=l,c))}function x3(s,e,t){let i=We(),l=We();return t.forEach(c=>i=i.add(c)),e.getEntries(s,i).next(c=>{let h=Or();return t.forEach((m,g)=>{const y=c.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(m)),g.isNoDocument()&&g.version.isEqual(ze.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):Te(Sg,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)}),{qs:h,Qs:l}})}function b3(s,e){const t=Fe(s);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=hg),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function _3(s,e){const t=Fe(s);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let l;return t.Ti.getTargetData(i,e).next(c=>c?(l=c,ve.resolve(l)):t.Ti.allocateTargetId(i).next(h=>(l=new fi(e,h,"TargetPurposeListen",i.currentSequenceNumber),t.Ti.addTargetData(i,l).next(()=>l))))}).then(i=>{const l=t.xs.get(i.targetId);return(l===null||i.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(t.xs=t.xs.insert(i.targetId,i),t.Os.set(e,i.targetId)),i})}async function Mp(s,e,t){const i=Fe(s),l=i.xs.get(e),c=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",c,h=>i.persistence.referenceDelegate.removeTarget(h,l))}catch(h){if(!Pl(h))throw h;Te(Sg,`Failed to update sequence numbers for target ${e}: ${h}`)}i.xs=i.xs.remove(e),i.Os.delete(l.target)}function Nb(s,e,t){const i=Fe(s);let l=ze.min(),c=We();return i.persistence.runTransaction("Execute query","readwrite",h=>function(g,y,w){const A=Fe(g),R=A.Os.get(w);return R!==void 0?ve.resolve(A.xs.get(R)):A.Ti.getTargetData(y,w)}(i,h,zs(e)).next(m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(h,m.targetId).next(g=>{c=g})}).next(()=>i.Ms.getDocumentsMatchingQuery(h,e,t?l:ze.min(),t?c:We())).next(m=>(w3(i,lj(e),m),{documents:m,$s:c})))}function w3(s,e,t){let i=s.Ns.get(e)||ze.min();t.forEach((l,c)=>{c.readTime.compareTo(i)>0&&(i=c.readTime)}),s.Ns.set(e,i)}class Ab{constructor(){this.activeTargetIds=fj()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class E3{constructor(){this.xo=new Ab,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,i){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Ab,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="ConnectivityMonitor";class Rb{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Te(jb,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Te(jb,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pd=null;function Pp(){return pd===null?pd=function(){return 268435456+Math.round(2147483648*Math.random())}():pd++,"0x"+pd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="RestConnection",S3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class N3{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${i}/databases/${l}`,this.Go=this.databaseId.database===Vd?`project_id=${i}`:`project_id=${i}&database_id=${l}`}zo(e,t,i,l,c){const h=Pp(),m=this.jo(e,t.toUriEncodedString());Te(Ym,`Sending RPC '${e}' ${h}:`,m,i);const g={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(g,l,c);const{host:y}=new URL(m),w=ya(y);return this.Jo(e,m,g,i,w).then(A=>(Te(Ym,`Received RPC '${e}' ${h}: `,A),A),A=>{throw ma(Ym,`RPC '${e}' ${h} failed with error: `,A,"url: ",m,"request:",i),A})}Yo(e,t,i,l,c,h){return this.zo(e,t,i,l,c)}Ho(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+kl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((l,c)=>e[c]=l),i&&i.headers.forEach((l,c)=>e[c]=l)}jo(e,t){const i=S3[e];return`${this.Ko}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn="WebChannelConnection";class j3 extends N3{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,l,c){const h=Pp();return new Promise((m,g)=>{const y=new P1;y.setWithCredentials(!0),y.listenOnce(L1.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Ed.NO_ERROR:const A=y.getResponseJson();Te(pn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(A)),m(A);break;case Ed.TIMEOUT:Te(pn,`RPC '${e}' ${h} timed out`),g(new Ee(ye.DEADLINE_EXCEEDED,"Request time out"));break;case Ed.HTTP_ERROR:const R=y.getStatus();if(Te(pn,`RPC '${e}' ${h} failed with status:`,R,"response text:",y.getResponseText()),R>0){let q=y.getResponseJson();Array.isArray(q)&&(q=q[0]);const U=q==null?void 0:q.error;if(U&&U.status&&U.message){const M=function(X){const Z=X.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf(Z)>=0?Z:ye.UNKNOWN}(U.status);g(new Ee(M,U.message))}else g(new Ee(ye.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new Ee(ye.UNAVAILABLE,"Connection failed."));break;default:Le(9055,{h_:e,streamId:h,P_:y.getLastErrorCode(),T_:y.getLastError()})}}finally{Te(pn,`RPC '${e}' ${h} completed.`)}});const w=JSON.stringify(l);Te(pn,`RPC '${e}' ${h} sending request:`,l),y.send(t,"POST",w,i,15)})}I_(e,t,i){const l=Pp(),c=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=z1(),m=U1(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Ho(g.initMessageHeaders,t,i),g.encodeInitMessageHeaders=!0;const w=c.join("");Te(pn,`Creating RPC '${e}' stream ${l}: ${w}`,g);const A=h.createWebChannel(w,g);this.E_(A);let R=!1,q=!1;const U=new A3({Zo:B=>{q?Te(pn,`Not sending because RPC '${e}' stream ${l} is closed:`,B):(R||(Te(pn,`Opening RPC '${e}' stream ${l} transport.`),A.open(),R=!0),Te(pn,`RPC '${e}' stream ${l} sending:`,B),A.send(B))},Xo:()=>A.close()}),M=(B,X,Z)=>{B.listen(X,J=>{try{Z(J)}catch(se){setTimeout(()=>{throw se},0)}})};return M(A,tc.EventType.OPEN,()=>{q||(Te(pn,`RPC '${e}' stream ${l} transport opened.`),U.__())}),M(A,tc.EventType.CLOSE,()=>{q||(q=!0,Te(pn,`RPC '${e}' stream ${l} transport closed`),U.u_(),this.d_(A))}),M(A,tc.EventType.ERROR,B=>{q||(q=!0,ma(pn,`RPC '${e}' stream ${l} transport errored. Name:`,B.name,"Message:",B.message),U.u_(new Ee(ye.UNAVAILABLE,"The operation could not be completed")))}),M(A,tc.EventType.MESSAGE,B=>{var X;if(!q){const Z=B.data[0];it(!!Z,16349);const J=Z,se=(J==null?void 0:J.error)||((X=J[0])===null||X===void 0?void 0:X.error);if(se){Te(pn,`RPC '${e}' stream ${l} received error:`,se);const O=se.status;let F=function(T){const b=Vt[T];if(b!==void 0)return bw(b)}(O),j=se.message;F===void 0&&(F=ye.INTERNAL,j="Unknown error status: "+O+" with message "+se.message),q=!0,U.u_(new Ee(F,j)),A.close()}else Te(pn,`RPC '${e}' stream ${l} received:`,Z),U.c_(Z)}}),M(m,V1.STAT_EVENT,B=>{B.stat===Tp.PROXY?Te(pn,`RPC '${e}' stream ${l} detected buffering proxy`):B.stat===Tp.NOPROXY&&Te(pn,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{U.a_()},0),U}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function Km(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(s){return new Oj(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e,t,i=1e3,l=1.5,c=6e4){this.xi=e,this.timerId=t,this.A_=i,this.R_=l,this.V_=c,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),l=Math.max(0,t-i);l>0&&Te("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,l,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib="PersistentStream";class Mw{constructor(e,t,i,l,c,h,m,g){this.xi=e,this.S_=i,this.D_=l,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new kw(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===ye.RESOURCE_EXHAUSTED?(Cr(t.toString()),Cr("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===ye.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,l])=>{this.v_===t&&this.z_(i,l)},i=>{e(()=>{const l=new Ee(ye.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(l)})})}z_(e,t){const i=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(l=>{i(()=>this.j_(l))}),this.stream.onMessage(l=>{i(()=>++this.M_==1?this.J_(l):this.onNext(l))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return Te(Ib,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(Te(Ib,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class R3 extends Mw{constructor(e,t,i,l,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,l,h),this.serializer=c}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=Mj(this.serializer,e),i=function(c){if(!("targetChange"in c))return ze.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?ze.min():h.readTime?Fs(h.readTime):ze.min()}(e);return this.listener.Y_(t,i)}Z_(e){const t={};t.database=kp(this.serializer),t.addTarget=function(c,h){let m;const g=h.target;if(m=Rp(g)?{documents:Vj(c,g)}:{query:Uj(c,g).gt},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=Ew(c,h.resumeToken);const y=Cp(c,h.expectedCount);y!==null&&(m.expectedCount=y)}else if(h.snapshotVersion.compareTo(ze.min())>0){m.readTime=Bd(c,h.snapshotVersion.toTimestamp());const y=Cp(c,h.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const i=Fj(this.serializer,e);i&&(t.labels=i),this.Q_(t)}X_(e){const t={};t.database=kp(this.serializer),t.removeTarget=e,this.Q_(t)}}class I3 extends Mw{constructor(e,t,i,l,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,l,h),this.serializer=c}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return it(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,it(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){it(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=Lj(e.writeResults,e.commitTime),i=Fs(e.commitTime);return this.listener.ra(i,t)}ia(){const e={};e.database=kp(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Pj(this.serializer,i))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{}class O3 extends C3{constructor(e,t,i,l){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=l,this.sa=!1}oa(){if(this.sa)throw new Ee(ye.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,i,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.zo(e,Op(t,i),l,c,h)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ee(ye.UNKNOWN,c.toString())})}Yo(e,t,i,l,c){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Yo(e,Op(t,i),l,h,m,c)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Ee(ye.UNKNOWN,h.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class D3{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Cr(t),this.ua=!1):Te("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="RemoteStore";class k3{constructor(e,t,i,l,c){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=c,this.Ra.No(h=>{i.enqueueAndForget(async()=>{ba(this)&&(Te(pa,"Restarting streams for network reachability change."),await async function(g){const y=Fe(g);y.da.add(4),await Cc(y),y.Va.set("Unknown"),y.da.delete(4),await yh(y)}(this))})}),this.Va=new D3(i,l)}}async function yh(s){if(ba(s))for(const e of s.Aa)await e(!0)}async function Cc(s){for(const e of s.Aa)await e(!1)}function Pw(s,e){const t=Fe(s);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),Rg(t)?jg(t):Vl(t).N_()&&Ag(t,e))}function Ng(s,e){const t=Fe(s),i=Vl(t);t.Ea.delete(e),i.N_()&&Lw(t,e),t.Ea.size===0&&(i.N_()?i.k_():ba(t)&&t.Va.set("Unknown"))}function Ag(s,e){if(s.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const t=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Vl(s).Z_(e)}function Lw(s,e){s.ma.Ke(e),Vl(s).X_(e)}function jg(s){s.ma=new jj({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>s.Ea.get(e)||null,Pt:()=>s.datastore.serializer.databaseId}),Vl(s).start(),s.Va.ca()}function Rg(s){return ba(s)&&!Vl(s).O_()&&s.Ea.size>0}function ba(s){return Fe(s).da.size===0}function Vw(s){s.ma=void 0}async function M3(s){s.Va.set("Online")}async function P3(s){s.Ea.forEach((e,t)=>{Ag(s,e)})}async function L3(s,e){Vw(s),Rg(s)?(s.Va.Pa(e),jg(s)):s.Va.set("Unknown")}async function V3(s,e,t){if(s.Va.set("Online"),e instanceof ww&&e.state===2&&e.cause)try{await async function(l,c){const h=c.cause;for(const m of c.targetIds)l.Ea.has(m)&&(await l.remoteSyncer.rejectListen(m,h),l.Ea.delete(m),l.ma.removeTarget(m))}(s,e)}catch(i){Te(pa,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Gd(s,i)}else if(e instanceof Ad?s.ma.Xe(e):e instanceof _w?s.ma.ot(e):s.ma.nt(e),!t.isEqual(ze.min()))try{const i=await Dw(s.localStore);t.compareTo(i)>=0&&await function(c,h){const m=c.ma.It(h);return m.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const w=c.Ea.get(y);w&&c.Ea.set(y,w.withResumeToken(g.resumeToken,h))}}),m.targetMismatches.forEach((g,y)=>{const w=c.Ea.get(g);if(!w)return;c.Ea.set(g,w.withResumeToken(nn.EMPTY_BYTE_STRING,w.snapshotVersion)),Lw(c,g);const A=new fi(w.target,g,y,w.sequenceNumber);Ag(c,A)}),c.remoteSyncer.applyRemoteEvent(m)}(s,t)}catch(i){Te(pa,"Failed to raise snapshot:",i),await Gd(s,i)}}async function Gd(s,e,t){if(!Pl(e))throw e;s.da.add(1),await Cc(s),s.Va.set("Offline"),t||(t=()=>Dw(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{Te(pa,"Retrying IndexedDB access"),await t(),s.da.delete(1),await yh(s)})}function Uw(s,e){return e().catch(t=>Gd(s,t,e))}async function vh(s){const e=Fe(s),t=Ei(e);let i=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:hg;for(;U3(e);)try{const l=await b3(e.localStore,i);if(l===null){e.Ia.length===0&&t.k_();break}i=l.batchId,z3(e,l)}catch(l){await Gd(e,l)}zw(e)&&Fw(e)}function U3(s){return ba(s)&&s.Ia.length<10}function z3(s,e){s.Ia.push(e);const t=Ei(s);t.N_()&&t.ea&&t.ta(e.mutations)}function zw(s){return ba(s)&&!Ei(s).O_()&&s.Ia.length>0}function Fw(s){Ei(s).start()}async function F3(s){Ei(s).ia()}async function q3(s){const e=Ei(s);for(const t of s.Ia)e.ta(t.mutations)}async function B3(s,e,t){const i=s.Ia.shift(),l=xg.from(i,e,t);await Uw(s,()=>s.remoteSyncer.applySuccessfulWrite(l)),await vh(s)}async function H3(s,e){e&&Ei(s).ea&&await async function(i,l){if(function(h){return Nj(h)&&h!==ye.ABORTED}(l.code)){const c=i.Ia.shift();Ei(i).L_(),await Uw(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,l)),await vh(i)}}(s,e),zw(s)&&Fw(s)}async function Cb(s,e){const t=Fe(s);t.asyncQueue.verifyOperationInProgress(),Te(pa,"RemoteStore received new credentials");const i=ba(t);t.da.add(3),await Cc(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await yh(t)}async function G3(s,e){const t=Fe(s);e?(t.da.delete(2),await yh(t)):e||(t.da.add(2),await Cc(t),t.Va.set("Unknown"))}function Vl(s){return s.fa||(s.fa=function(t,i,l){const c=Fe(t);return c.oa(),new R3(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(s.datastore,s.asyncQueue,{e_:M3.bind(null,s),n_:P3.bind(null,s),i_:L3.bind(null,s),Y_:V3.bind(null,s)}),s.Aa.push(async e=>{e?(s.fa.L_(),Rg(s)?jg(s):s.Va.set("Unknown")):(await s.fa.stop(),Vw(s))})),s.fa}function Ei(s){return s.ga||(s.ga=function(t,i,l){const c=Fe(t);return c.oa(),new I3(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(s.datastore,s.asyncQueue,{e_:()=>Promise.resolve(),n_:F3.bind(null,s),i_:H3.bind(null,s),na:q3.bind(null,s),ra:B3.bind(null,s)}),s.Aa.push(async e=>{e?(s.ga.L_(),await vh(s)):(await s.ga.stop(),s.Ia.length>0&&(Te(pa,`Stopping write stream with ${s.Ia.length} pending writes`),s.Ia=[]))})),s.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,t,i,l,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=l,this.removalCallback=c,this.deferred=new Sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,l,c){const h=Date.now()+i,m=new Ig(e,t,h,l,c);return m.start(i),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cg(s,e){if(Cr("AsyncQueue",`${e}: ${s}`),Pl(s))return new Ee(ye.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{static emptySet(e){return new _l(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ie.comparator(t.key,i.key):(t,i)=>Ie.comparator(t.key,i.key),this.keyedMap=nc(),this.sortedSet=new Nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof _l)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const l=t.getNext().key,c=i.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new _l;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(){this.pa=new Nt(Ie.comparator)}track(e){const t=e.doc.key,i=this.pa.get(t);i?e.type!==0&&i.type===3?this.pa=this.pa.insert(t,e):e.type===3&&i.type!==1?this.pa=this.pa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.pa=this.pa.remove(t):e.type===1&&i.type===2?this.pa=this.pa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Le(63341,{Vt:e,ya:i}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,i)=>{e.push(i)}),e}}class jl{constructor(e,t,i,l,c,h,m,g,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=l,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,l,c){const h=[];return t.forEach(m=>{h.push({type:0,doc:m})}),new jl(e,t,_l.emptySet(t),h,i,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let l=0;l<t.length;l++)if(t[l].type!==i[l].type||!t[l].doc.isEqual(i[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class Q3{constructor(){this.queries=Db(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const l=Fe(t),c=l.queries;l.queries=Db(),c.forEach((h,m)=>{for(const g of m.Sa)g.onError(i)})})(this,new Ee(ye.ABORTED,"Firestore shutting down"))}}function Db(){return new xa(s=>ow(s),dh)}async function Og(s,e){const t=Fe(s);let i=3;const l=e.query;let c=t.queries.get(l);c?!c.Da()&&e.va()&&(i=2):(c=new $3,i=e.va()?0:1);try{switch(i){case 0:c.ba=await t.onListen(l,!0);break;case 1:c.ba=await t.onListen(l,!1);break;case 2:await t.onFirstRemoteStoreListen(l)}}catch(h){const m=Cg(h,`Initialization of query '${fl(e.query)}' failed`);return void e.onError(m)}t.queries.set(l,c),c.Sa.push(e),e.Fa(t.onlineState),c.ba&&e.Ma(c.ba)&&kg(t)}async function Dg(s,e){const t=Fe(s),i=e.query;let l=3;const c=t.queries.get(i);if(c){const h=c.Sa.indexOf(e);h>=0&&(c.Sa.splice(h,1),c.Sa.length===0?l=e.va()?0:1:!c.Da()&&e.va()&&(l=2))}switch(l){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function Y3(s,e){const t=Fe(s);let i=!1;for(const l of e){const c=l.query,h=t.queries.get(c);if(h){for(const m of h.Sa)m.Ma(l)&&(i=!0);h.ba=l}}i&&kg(t)}function K3(s,e,t){const i=Fe(s),l=i.queries.get(e);if(l)for(const c of l.Sa)c.onError(t);i.queries.delete(e)}function kg(s){s.Ca.forEach(e=>{e.next()})}var Lp,kb;(kb=Lp||(Lp={})).xa="default",kb.Cache="cache";class Mg{constructor(e,t,i){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(e){if(!this.options.includeMetadataChanges){const i=[];for(const l of e.docChanges)l.type!==3&&i.push(l);e=new jl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const i=t!=="Offline";return(!this.options.Qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=jl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Lp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e){this.key=e}}class Bw{constructor(e){this.key=e}}class X3{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=We(),this.mutatedKeys=We(),this.Za=cw(e),this.Xa=new _l(this.Za)}get eu(){return this.Ha}tu(e,t){const i=t?t.nu:new Ob,l=t?t.Xa:this.Xa;let c=t?t.mutatedKeys:this.mutatedKeys,h=l,m=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((w,A)=>{const R=l.get(w),q=hh(this.query,A)?A:null,U=!!R&&this.mutatedKeys.has(R.key),M=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let B=!1;R&&q?R.data.isEqual(q.data)?U!==M&&(i.track({type:3,doc:q}),B=!0):this.ru(R,q)||(i.track({type:2,doc:q}),B=!0,(g&&this.Za(q,g)>0||y&&this.Za(q,y)<0)&&(m=!0)):!R&&q?(i.track({type:0,doc:q}),B=!0):R&&!q&&(i.track({type:1,doc:R}),B=!0,(g||y)&&(m=!0)),B&&(q?(h=h.add(q),c=M?c.add(w):c.delete(w)):(h=h.delete(w),c=c.delete(w)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const w=this.query.limitType==="F"?h.last():h.first();h=h.delete(w.key),c=c.delete(w.key),i.track({type:1,doc:w})}return{Xa:h,nu:i,Cs:m,mutatedKeys:c}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,l){const c=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const h=e.nu.wa();h.sort((w,A)=>function(q,U){const M=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le(20277,{Vt:B})}};return M(q)-M(U)}(w.type,A.type)||this.Za(w.doc,A.doc)),this.iu(i),l=l!=null&&l;const m=t&&!l?this.su():[],g=this.Ya.size===0&&this.current&&!l?1:0,y=g!==this.Ja;return this.Ja=g,h.length!==0||y?{snapshot:new jl(this.query,e.Xa,c,h,e.mutatedKeys,g===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:m}:{ou:m}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Ob,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=We(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const t=[];return e.forEach(i=>{this.Ya.has(i)||t.push(new Bw(i))}),this.Ya.forEach(i=>{e.has(i)||t.push(new qw(i))}),t}au(e){this.Ha=e.$s,this.Ya=We();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return jl.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Pg="SyncEngine";class W3{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Z3{constructor(e){this.key=e,this.cu=!1}}class J3{constructor(e,t,i,l,c,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.lu={},this.hu=new xa(m=>ow(m),dh),this.Pu=new Map,this.Tu=new Set,this.Iu=new Nt(Ie.comparator),this.Eu=new Map,this.du=new wg,this.Au={},this.Ru=new Map,this.Vu=Al.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function eR(s,e,t=!0){const i=Kw(s);let l;const c=i.hu.get(e);return c?(i.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.uu()):l=await Hw(i,e,t,!0),l}async function tR(s,e){const t=Kw(s);await Hw(t,e,!0,!1)}async function Hw(s,e,t,i){const l=await _3(s.localStore,zs(e)),c=l.targetId,h=s.sharedClientState.addLocalQueryTarget(c,t);let m;return i&&(m=await nR(s,e,c,h==="current",l.resumeToken)),s.isPrimaryClient&&t&&Pw(s.remoteStore,l),m}async function nR(s,e,t,i,l){s.fu=(A,R,q)=>async function(M,B,X,Z){let J=B.view.tu(X);J.Cs&&(J=await Nb(M.localStore,B.query,!1).then(({documents:j})=>B.view.tu(j,J)));const se=Z&&Z.targetChanges.get(B.targetId),O=Z&&Z.targetMismatches.get(B.targetId)!=null,F=B.view.applyChanges(J,M.isPrimaryClient,se,O);return Pb(M,B.targetId,F.ou),F.snapshot}(s,A,R,q);const c=await Nb(s.localStore,e,!0),h=new X3(e,c.$s),m=h.tu(c.documents),g=Ic.createSynthesizedTargetChangeForCurrentChange(t,i&&s.onlineState!=="Offline",l),y=h.applyChanges(m,s.isPrimaryClient,g);Pb(s,t,y.ou);const w=new W3(e,t,h);return s.hu.set(e,w),s.Pu.has(t)?s.Pu.get(t).push(e):s.Pu.set(t,[e]),y.snapshot}async function sR(s,e,t){const i=Fe(s),l=i.hu.get(e),c=i.Pu.get(l.targetId);if(c.length>1)return i.Pu.set(l.targetId,c.filter(h=>!dh(h,e))),void i.hu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(l.targetId),i.sharedClientState.isActiveQueryTarget(l.targetId)||await Mp(i.localStore,l.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(l.targetId),t&&Ng(i.remoteStore,l.targetId),Vp(i,l.targetId)}).catch(Ml)):(Vp(i,l.targetId),await Mp(i.localStore,l.targetId,!0))}async function rR(s,e){const t=Fe(s),i=t.hu.get(e),l=t.Pu.get(i.targetId);t.isPrimaryClient&&l.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Ng(t.remoteStore,i.targetId))}async function iR(s,e,t){const i=hR(s);try{const l=await function(h,m){const g=Fe(h),y=zt.now(),w=m.reduce((q,U)=>q.add(U.key),We());let A,R;return g.persistence.runTransaction("Locally write mutations","readwrite",q=>{let U=Or(),M=We();return g.Bs.getEntries(q,w).next(B=>{U=B,U.forEach((X,Z)=>{Z.isValidDocument()||(M=M.add(X))})}).next(()=>g.localDocuments.getOverlayedDocuments(q,U)).next(B=>{A=B;const X=[];for(const Z of m){const J=_j(Z,A.get(Z.key).overlayedDocument);J!=null&&X.push(new Ni(Z.key,J,ew(J.value.mapValue),ns.exists(!0)))}return g.mutationQueue.addMutationBatch(q,y,X,m)}).next(B=>{R=B;const X=B.applyToLocalDocumentSet(A,M);return g.documentOverlayCache.saveOverlays(q,B.batchId,X)})}).then(()=>({batchId:R.batchId,changes:dw(A)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(l.batchId),function(h,m,g){let y=h.Au[h.currentUser.toKey()];y||(y=new Nt(He)),y=y.insert(m,g),h.Au[h.currentUser.toKey()]=y}(i,l.batchId,t),await Oc(i,l.changes),await vh(i.remoteStore)}catch(l){const c=Cg(l,"Failed to persist write");t.reject(c)}}async function Gw(s,e){const t=Fe(s);try{const i=await v3(t.localStore,e);e.targetChanges.forEach((l,c)=>{const h=t.Eu.get(c);h&&(it(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?h.cu=!0:l.modifiedDocuments.size>0?it(h.cu,14607):l.removedDocuments.size>0&&(it(h.cu,42227),h.cu=!1))}),await Oc(t,i,e)}catch(i){await Ml(i)}}function Mb(s,e,t){const i=Fe(s);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const l=[];i.hu.forEach((c,h)=>{const m=h.view.Fa(e);m.snapshot&&l.push(m.snapshot)}),function(h,m){const g=Fe(h);g.onlineState=m;let y=!1;g.queries.forEach((w,A)=>{for(const R of A.Sa)R.Fa(m)&&(y=!0)}),y&&kg(g)}(i.eventManager,e),l.length&&i.lu.Y_(l),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function aR(s,e,t){const i=Fe(s);i.sharedClientState.updateQueryState(e,"rejected",t);const l=i.Eu.get(e),c=l&&l.key;if(c){let h=new Nt(Ie.comparator);h=h.insert(c,yn.newNoDocument(c,ze.min()));const m=We().add(c),g=new ph(ze.min(),new Map,new Nt(He),h,m);await Gw(i,g),i.Iu=i.Iu.remove(c),i.Eu.delete(e),Lg(i)}else await Mp(i.localStore,e,!1).then(()=>Vp(i,e,t)).catch(Ml)}async function lR(s,e){const t=Fe(s),i=e.batch.batchId;try{const l=await y3(t.localStore,e);Qw(t,i,null),$w(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Oc(t,l)}catch(l){await Ml(l)}}async function oR(s,e,t){const i=Fe(s);try{const l=await function(h,m){const g=Fe(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let w;return g.mutationQueue.lookupMutationBatch(y,m).next(A=>(it(A!==null,37113),w=A.keys(),g.mutationQueue.removeMutationBatch(y,A))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,w,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w)).next(()=>g.localDocuments.getDocuments(y,w))})}(i.localStore,e);Qw(i,e,t),$w(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Oc(i,l)}catch(l){await Ml(l)}}function $w(s,e){(s.Ru.get(e)||[]).forEach(t=>{t.resolve()}),s.Ru.delete(e)}function Qw(s,e,t){const i=Fe(s);let l=i.Au[i.currentUser.toKey()];if(l){const c=l.get(e);c&&(t?c.reject(t):c.resolve(),l=l.remove(e)),i.Au[i.currentUser.toKey()]=l}}function Vp(s,e,t=null){s.sharedClientState.removeLocalQueryTarget(e);for(const i of s.Pu.get(e))s.hu.delete(i),t&&s.lu.gu(i,t);s.Pu.delete(e),s.isPrimaryClient&&s.du.Hr(e).forEach(i=>{s.du.containsKey(i)||Yw(s,i)})}function Yw(s,e){s.Tu.delete(e.path.canonicalString());const t=s.Iu.get(e);t!==null&&(Ng(s.remoteStore,t),s.Iu=s.Iu.remove(e),s.Eu.delete(t),Lg(s))}function Pb(s,e,t){for(const i of t)i instanceof qw?(s.du.addReference(i.key,e),cR(s,i)):i instanceof Bw?(Te(Pg,"Document no longer in limbo: "+i.key),s.du.removeReference(i.key,e),s.du.containsKey(i.key)||Yw(s,i.key)):Le(19791,{pu:i})}function cR(s,e){const t=e.key,i=t.path.canonicalString();s.Iu.get(t)||s.Tu.has(i)||(Te(Pg,"New document in limbo: "+t),s.Tu.add(i),Lg(s))}function Lg(s){for(;s.Tu.size>0&&s.Iu.size<s.maxConcurrentLimboResolutions;){const e=s.Tu.values().next().value;s.Tu.delete(e);const t=new Ie(gt.fromString(e)),i=s.Vu.next();s.Eu.set(i,new Z3(t)),s.Iu=s.Iu.insert(t,i),Pw(s.remoteStore,new fi(zs(uh(t.path)),i,"TargetPurposeLimboResolution",lh.le))}}async function Oc(s,e,t){const i=Fe(s),l=[],c=[],h=[];i.hu.isEmpty()||(i.hu.forEach((m,g)=>{h.push(i.fu(g,e,t).then(y=>{var w;if((y||t)&&i.isPrimaryClient){const A=y?!y.fromCache:(w=t==null?void 0:t.targetChanges.get(g.targetId))===null||w===void 0?void 0:w.current;i.sharedClientState.updateQueryState(g.targetId,A?"current":"not-current")}if(y){l.push(y);const A=Tg.Rs(g.targetId,y);c.push(A)}}))}),await Promise.all(h),i.lu.Y_(l),await async function(g,y){const w=Fe(g);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>ve.forEach(y,R=>ve.forEach(R.ds,q=>w.persistence.referenceDelegate.addReference(A,R.targetId,q)).next(()=>ve.forEach(R.As,q=>w.persistence.referenceDelegate.removeReference(A,R.targetId,q)))))}catch(A){if(!Pl(A))throw A;Te(Sg,"Failed to update sequence numbers: "+A)}for(const A of y){const R=A.targetId;if(!A.fromCache){const q=w.xs.get(R),U=q.snapshotVersion,M=q.withLastLimboFreeSnapshotVersion(U);w.xs=w.xs.insert(R,M)}}}(i.localStore,c))}async function uR(s,e){const t=Fe(s);if(!t.currentUser.isEqual(e)){Te(Pg,"User change. New user:",e.toKey());const i=await Ow(t.localStore,e);t.currentUser=e,function(c,h){c.Ru.forEach(m=>{m.forEach(g=>{g.reject(new Ee(ye.CANCELLED,h))})}),c.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Oc(t,i.ks)}}function dR(s,e){const t=Fe(s),i=t.Eu.get(e);if(i&&i.cu)return We().add(i.key);{let l=We();const c=t.Pu.get(e);if(!c)return l;for(const h of c){const m=t.hu.get(h);l=l.unionWith(m.view.eu)}return l}}function Kw(s){const e=Fe(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Gw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=aR.bind(null,e),e.lu.Y_=Y3.bind(null,e.eventManager),e.lu.gu=K3.bind(null,e.eventManager),e}function hR(s){const e=Fe(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oR.bind(null,e),e}class $d{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return g3(this.persistence,new f3,e.initialUser,this.serializer)}Su(e){return new Cw(Eg.fi,this.serializer)}bu(e){return new E3}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$d.provider={build:()=>new $d};class fR extends $d{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){it(this.persistence.referenceDelegate instanceof Hd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new Zj(i,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new Cw(i=>Hd.fi(i,t),this.serializer)}}class Up{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Mb(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=uR.bind(null,this.syncEngine),await G3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Q3}()}createDatastore(e){const t=gh(e.databaseInfo.databaseId),i=function(c){return new j3(c)}(e.databaseInfo);return function(c,h,m,g){return new O3(c,h,m,g)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,l,c,h,m){return new k3(i,l,c,h,m)}(this.localStore,this.datastore,e.asyncQueue,t=>Mb(this.syncEngine,t,0),function(){return Rb.C()?new Rb:new T3}())}createSyncEngine(e,t){return function(l,c,h,m,g,y,w){const A=new J3(l,c,h,m,g,y);return w&&(A.mu=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(l){const c=Fe(l);Te(pa,"RemoteStore shutting down."),c.da.add(5),await Cc(c),c.Ra.shutdown(),c.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Up.provider={build:()=>new Up};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Cr("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti="FirestoreClient";class mR{constructor(e,t,i,l,c){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=l,this.user=gn.UNAUTHENTICATED,this.clientId=dg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(i,async h=>{Te(Ti,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(i,h=>(Te(Ti,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Cg(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Xm(s,e){s.asyncQueue.verifyOperationInProgress(),Te(Ti,"Initializing OfflineComponentProvider");const t=s.configuration;await e.initialize(t);let i=t.initialUser;s.setCredentialChangeListener(async l=>{i.isEqual(l)||(await Ow(e.localStore,l),i=l)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function Lb(s,e){s.asyncQueue.verifyOperationInProgress();const t=await pR(s);Te(Ti,"Initializing OnlineComponentProvider"),await e.initialize(t,s.configuration),s.setCredentialChangeListener(i=>Cb(e.remoteStore,i)),s.setAppCheckTokenChangeListener((i,l)=>Cb(e.remoteStore,l)),s._onlineComponents=e}async function pR(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){Te(Ti,"Using user provided OfflineComponentProvider");try{await Xm(s,s._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(l){return l.name==="FirebaseError"?l.code===ye.FAILED_PRECONDITION||l.code===ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(t))throw t;ma("Error using user provided cache. Falling back to memory cache: "+t),await Xm(s,new $d)}}else Te(Ti,"Using default OfflineComponentProvider"),await Xm(s,new fR(void 0));return s._offlineComponents}async function Xw(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(Te(Ti,"Using user provided OnlineComponentProvider"),await Lb(s,s._uninitializedComponentsProvider._online)):(Te(Ti,"Using default OnlineComponentProvider"),await Lb(s,new Up))),s._onlineComponents}function gR(s){return Xw(s).then(e=>e.syncEngine)}async function Qd(s){const e=await Xw(s),t=e.eventManager;return t.onListen=eR.bind(null,e.syncEngine),t.onUnlisten=sR.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=tR.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=rR.bind(null,e.syncEngine),t}function yR(s,e,t={}){const i=new Sr;return s.asyncQueue.enqueueAndForget(async()=>function(c,h,m,g,y){const w=new Vg({next:R=>{w.xu(),h.enqueueAndForget(()=>Dg(c,A));const q=R.docs.has(m);!q&&R.fromCache?y.reject(new Ee(ye.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&R.fromCache&&g&&g.source==="server"?y.reject(new Ee(ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(R)},error:R=>y.reject(R)}),A=new Mg(uh(m.path),w,{includeMetadataChanges:!0,Qa:!0});return Og(c,A)}(await Qd(s),s.asyncQueue,e,t,i)),i.promise}function vR(s,e,t={}){const i=new Sr;return s.asyncQueue.enqueueAndForget(async()=>function(c,h,m,g,y){const w=new Vg({next:R=>{w.xu(),h.enqueueAndForget(()=>Dg(c,A)),R.fromCache&&g.source==="server"?y.reject(new Ee(ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(R)},error:R=>y.reject(R)}),A=new Mg(m,w,{includeMetadataChanges:!0,Qa:!0});return Og(c,A)}(await Qd(s),s.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(s,e,t){if(!t)throw new Ee(ye.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function Jw(s,e,t,i){if(e===!0&&i===!0)throw new Ee(ye.INVALID_ARGUMENT,`${s} and ${t} cannot be used together.`)}function Ub(s){if(!Ie.isDocumentKey(s))throw new Ee(ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function zb(s){if(Ie.isDocumentKey(s))throw new Ee(ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function xh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Le(12329,{type:typeof s})}function Sn(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new Ee(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=xh(s);throw new Ee(ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2="firestore.googleapis.com",Fb=!0;class qb{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Ee(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=e2,this.ssl=Fb}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Fb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Iw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Xj)throw new Ee(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Jw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ww((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new Ee(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new Ee(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new Ee(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,l){return i.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bh{constructor(e,t,i,l){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ee(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ee(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new B1;switch(i.type){case"firstParty":return new I6(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ee(ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=Vb.get(t);i&&(Te("ComponentProvider","Removing Datastore"),Vb.delete(t),i.terminate())}(this),Promise.resolve()}}function t2(s,e,t,i={}){var l;s=Sn(s,bh);const c=ya(e),h=s._getSettings(),m=Object.assign(Object.assign({},h),{emulatorOptions:s._getEmulatorOptions()}),g=`${e}:${t}`;c&&(Kp(`https://${g}`),Xp("Firestore",!0)),h.host!==e2&&h.host!==g&&ma("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},h),{host:g,ssl:c,emulatorOptions:i});if(!ua(y,m)&&(s._setSettings(y),i.mockUserToken)){let w,A;if(typeof i.mockUserToken=="string")w=i.mockUserToken,A=gn.MOCK_USER;else{w=Z_(i.mockUserToken,(l=s._app)===null||l===void 0?void 0:l.options.projectId);const R=i.mockUserToken.sub||i.mockUserToken.user_id;if(!R)throw new Ee(ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new gn(R)}s._authCredentials=new A6(new q1(w,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ks(this.firestore,e,this._query)}}class un{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new un(this.firestore,e,this._key)}}class Nr extends Ks{constructor(e,t,i){super(e,t,uh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new un(this.firestore,null,new Ie(e))}withConverter(e){return new Nr(this.firestore,e,this._path)}}function ot(s,e,...t){if(s=dn(s),Zw("collection","path",e),s instanceof bh){const i=gt.fromString(e,...t);return zb(i),new Nr(s,null,i)}{if(!(s instanceof un||s instanceof Nr))throw new Ee(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=s._path.child(gt.fromString(e,...t));return zb(i),new Nr(s.firestore,null,i)}}function Et(s,e,...t){if(s=dn(s),arguments.length===1&&(e=dg.newId()),Zw("doc","path",e),s instanceof bh){const i=gt.fromString(e,...t);return Ub(i),new un(s,null,new Ie(i))}{if(!(s instanceof un||s instanceof Nr))throw new Ee(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=s._path.child(gt.fromString(e,...t));return Ub(i),new un(s.firestore,s instanceof Nr?s.converter:null,new Ie(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="AsyncQueue";class Hb{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new kw(this,"async_queue_retry"),this.rc=()=>{const i=Km();i&&Te(Bb,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=e;const t=Km();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=Km();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new Sr;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Pl(e))throw e;Te(Bb,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(i=>{throw this.Xu=i,this.ec=!1,Cr("INTERNAL UNHANDLED ERROR: ",Gb(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=t,t}enqueueAfterDelay(e,t,i){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const l=Ig.createAndSchedule(this,e,t,i,c=>this.uc(c));return this.Zu.push(l),l}oc(){this.Xu&&Le(47125,{cc:Gb(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function Gb(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(s){return function(t,i){if(typeof t!="object"||t===null)return!1;const l=t;for(const c of i)if(c in l&&typeof l[c]=="function")return!0;return!1}(s,["next","error","complete"])}class Bs extends bh{constructor(e,t,i,l){super(e,t,i,l),this.type="firestore",this._queue=new Hb,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Hb(e),this._firestoreClient=void 0,await e}}}function n2(s,e){const t=typeof s=="object"?s:Jp(),i=typeof s=="string"?s:Vd,l=rh(t,"firestore").getImmediate({identifier:i});if(!l._initialized){const c=K_("firestore");c&&t2(l,...c)}return l}function Dc(s){if(s._terminated)throw new Ee(ye.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||xR(s),s._firestoreClient}function xR(s){var e,t,i;const l=s._freezeSettings(),c=function(m,g,y,w){return new G6(m,g,y,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,Ww(w.experimentalLongPollingOptions),w.useFetchStreams,w.isUsingEmulator)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,l);s._componentsProvider||!((t=l.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=l.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(s._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),s._firestoreClient=new mR(s._authCredentials,s._appCheckCredentials,s._queue,c,s._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ga(nn.fromBase64String(e))}catch(t){throw new Ee(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ga(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ee(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ee(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ee(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,l){if(i.length!==l.length)return!1;for(let c=0;c<i.length;++c)if(i[c]!==l[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=/^__.*__$/;class _R{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Ni(e,this.data,this.fieldMask,t,this.fieldTransforms):new Rc(e,this.data,t,this.fieldTransforms)}}class s2{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Ni(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function r2(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le(40011,{Ic:s})}}class Ug{constructor(e,t,i,l,c,h){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=l,c===void 0&&this.Ec(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Ug(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),l=this.dc({path:i,Rc:!1});return l.Vc(e),l}mc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),l=this.dc({path:i,Rc:!1});return l.Ec(),l}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Yd(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(r2(this.Ic)&&bR.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class wR{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||gh(e)}bc(e,t,i,l=!1){return new Ug({Ic:e,methodName:t,wc:i,path:tn.emptyPath(),Rc:!1,yc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Eh(s){const e=s._freezeSettings(),t=gh(s._databaseId);return new wR(s._databaseId,!!e.ignoreUndefinedProperties,t)}function i2(s,e,t,i,l,c={}){const h=s.bc(c.merge||c.mergeFields?2:0,e,t,l);Fg("Data must be an object, but it was:",h,i);const m=a2(i,h);let g,y;if(c.merge)g=new Bn(h.fieldMask),y=h.fieldTransforms;else if(c.mergeFields){const w=[];for(const A of c.mergeFields){const R=zp(e,A,t);if(!h.contains(R))throw new Ee(ye.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);o2(w,R)||w.push(R)}g=new Bn(w),y=h.fieldTransforms.filter(A=>g.covers(A.field))}else g=null,y=h.fieldTransforms;return new _R(new On(m),g,y)}class Th extends Mc{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Th}}class zg extends Mc{_toFieldTransform(e){return new yj(e.path,new vc)}isEqual(e){return e instanceof zg}}function ER(s,e,t,i){const l=s.bc(1,e,t);Fg("Data must be an object, but it was:",l,i);const c=[],h=On.empty();Si(i,(g,y)=>{const w=qg(e,g,t);y=dn(y);const A=l.mc(w);if(y instanceof Th)c.push(w);else{const R=Pc(y,A);R!=null&&(c.push(w),h.set(w,R))}});const m=new Bn(c);return new s2(h,m,l.fieldTransforms)}function TR(s,e,t,i,l,c){const h=s.bc(1,e,t),m=[zp(e,i,t)],g=[l];if(c.length%2!=0)throw new Ee(ye.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<c.length;R+=2)m.push(zp(e,c[R])),g.push(c[R+1]);const y=[],w=On.empty();for(let R=m.length-1;R>=0;--R)if(!o2(y,m[R])){const q=m[R];let U=g[R];U=dn(U);const M=h.mc(q);if(U instanceof Th)y.push(q);else{const B=Pc(U,M);B!=null&&(y.push(q),w.set(q,B))}}const A=new Bn(y);return new s2(w,A,h.fieldTransforms)}function SR(s,e,t,i=!1){return Pc(t,s.bc(i?4:3,e))}function Pc(s,e){if(l2(s=dn(s)))return Fg("Unsupported field value:",e,s),a2(s,e);if(s instanceof Mc)return function(i,l){if(!r2(l.Ic))throw l.gc(`${i._methodName}() can only be used with update() and set()`);if(!l.path)throw l.gc(`${i._methodName}() is not currently supported inside arrays`);const c=i._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(i,l){const c=[];let h=0;for(const m of i){let g=Pc(m,l.fc(h));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),h++}return{arrayValue:{values:c}}}(s,e)}return function(i,l){if((i=dn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return mj(l.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const c=zt.fromDate(i);return{timestampValue:Bd(l.serializer,c)}}if(i instanceof zt){const c=new zt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Bd(l.serializer,c)}}if(i instanceof _h)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ga)return{bytesValue:Ew(l.serializer,i._byteString)};if(i instanceof un){const c=l.databaseId,h=i.firestore._databaseId;if(!h.isEqual(c))throw l.gc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:_g(i.firestore._databaseId||l.databaseId,i._key.path)}}if(i instanceof wh)return function(h,m){return{mapValue:{fields:{[Z1]:{stringValue:J1},[Ud]:{arrayValue:{values:h.toArray().map(y=>{if(typeof y!="number")throw m.gc("VectorValues must only contain numeric values.");return yg(m.serializer,y)})}}}}}}(i,l);throw l.gc(`Unsupported field value: ${xh(i)}`)}(s,e)}function a2(s,e){const t={};return $1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Si(s,(i,l)=>{const c=Pc(l,e.Ac(i));c!=null&&(t[i]=c)}),{mapValue:{fields:t}}}function l2(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof zt||s instanceof _h||s instanceof ga||s instanceof un||s instanceof Mc||s instanceof wh)}function Fg(s,e,t){if(!l2(t)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(t)){const i=xh(t);throw i==="an object"?e.gc(s+" a custom object"):e.gc(s+" "+i)}}function zp(s,e,t){if((e=dn(e))instanceof kc)return e._internalPath;if(typeof e=="string")return qg(s,e);throw Yd("Field path arguments must be of type string or ",s,!1,void 0,t)}const NR=new RegExp("[~\\*/\\[\\]]");function qg(s,e,t){if(e.search(NR)>=0)throw Yd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,t);try{return new kc(...e.split("."))._internalPath}catch{throw Yd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,t)}}function Yd(s,e,t,i,l){const c=i&&!i.isEmpty(),h=l!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(c||h)&&(g+=" (found",c&&(g+=` in field ${i}`),h&&(g+=` in document ${l}`),g+=")"),new Ee(ye.INVALID_ARGUMENT,m+s+g)}function o2(s,e){return s.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e,t,i,l,c){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new AR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Sh("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class AR extends c2{data(){return super.data()}}function Sh(s,e){return typeof e=="string"?qg(s,e):e instanceof kc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new Ee(ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bg{}class Nh extends Bg{}function ss(s,e,...t){let i=[];e instanceof Bg&&i.push(e),i=i.concat(t),function(c){const h=c.filter(g=>g instanceof Ah).length,m=c.filter(g=>g instanceof Lc).length;if(h>1||h>0&&m>0)throw new Ee(ye.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const l of i)s=l._apply(s);return s}class Lc extends Nh{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Lc(e,t,i)}_apply(e){const t=this._parse(e);return h2(e._query,t),new Ks(e.firestore,e.converter,Ip(e._query,t))}_parse(e){const t=Eh(e.firestore);return function(c,h,m,g,y,w,A){let R;if(y.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new Ee(ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){Yb(A,w);const U=[];for(const M of A)U.push(Qb(g,c,M));R={arrayValue:{values:U}}}else R=Qb(g,c,A)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||Yb(A,w),R=SR(m,h,A,w==="in"||w==="not-in");return Ut.create(y,w,R)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Rl(s,e,t){const i=e,l=Sh("where",s);return Lc._create(l,i,t)}class Ah extends Bg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ah(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:ys.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(l,c){let h=l;const m=c.getFlattenedFilters();for(const g of m)h2(h,g),h=Ip(h,g)}(e._query,t),new Ks(e.firestore,e.converter,Ip(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class jh extends Nh{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new jh(e,t)}_apply(e){const t=function(l,c,h){if(l.startAt!==null)throw new Ee(ye.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new Ee(ye.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yc(c,h)}(e._query,this._field,this._direction);return new Ks(e.firestore,e.converter,function(l,c){const h=l.explicitOrderBy.concat([c]);return new Ll(l.path,l.collectionGroup,h,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(e._query,t))}}function Ul(s,e="asc"){const t=e,i=Sh("orderBy",s);return jh._create(i,t)}class Rh extends Nh{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new Rh(e,t,i)}_apply(e){return new Ks(e.firestore,e.converter,Fd(e._query,this._limit,this._limitType))}}function d2(s){return Rh._create("limit",s,"F")}function Qb(s,e,t){if(typeof(t=dn(t))=="string"){if(t==="")throw new Ee(ye.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lw(e)&&t.indexOf("/")!==-1)throw new Ee(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(gt.fromString(t));if(!Ie.isDocumentKey(i))throw new Ee(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return lb(s,new Ie(i))}if(t instanceof un)return lb(s,t._key);throw new Ee(ye.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xh(t)}.`)}function Yb(s,e){if(!Array.isArray(s)||s.length===0)throw new Ee(ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function h2(s,e){const t=function(l,c){for(const h of l)for(const m of h.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null}(s.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Ee(ye.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ee(ye.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class f2{convertValue(e,t="none"){switch(wi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_i(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Le(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Si(e,(l,c)=>{i[l]=this.convertValue(c,t)}),i}convertVectorValue(e){var t,i,l;const c=(l=(i=(t=e.fields)===null||t===void 0?void 0:t[Ud].arrayValue)===null||i===void 0?void 0:i.values)===null||l===void 0?void 0:l.map(h=>Dt(h.doubleValue));return new wh(c)}convertGeoPoint(e){return new _h(Dt(e.latitude),Dt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=ch(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(pc(e));default:return null}}convertTimestamp(e){const t=bi(e);return new zt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=gt.fromString(e);it(Rw(i),9688,{name:e});const l=new Tl(i.get(1),i.get(3)),c=new Ie(i.popFirst(5));return l.isEqual(t)||Cr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(s,e,t){let i;return i=s?t&&(t.merge||t.mergeFields)?s.toFirestore(e,t):s.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hg extends c2{constructor(e,t,i,l,c,h){super(e,t,i,l,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new uc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Sh("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class uc extends Hg{data(e={}){return super.data(e)}}class Gg{constructor(e,t,i,l){this._firestore=e,this._userDataWriter=t,this._snapshot=l,this.metadata=new yl(l.hasPendingWrites,l.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new uc(this._firestore,this._userDataWriter,i.key,i,new yl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ee(ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let h=0;return l._snapshot.docChanges.map(m=>{const g=new uc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new yl(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const g=new uc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new yl(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,w=-1;return m.type!==0&&(y=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),w=h.indexOf(m.doc.key)),{type:jR(m.type),doc:g,oldIndex:y,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function jR(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le(61501,{type:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _a(s){s=Sn(s,un);const e=Sn(s.firestore,Bs);return yR(Dc(e),s._key).then(t=>g2(e,s,t))}class $g extends f2{constructor(e){super(),this.firestore=e}convertBytes(e){return new ga(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new un(this.firestore,null,t)}}function vn(s){s=Sn(s,Ks);const e=Sn(s.firestore,Bs),t=Dc(e),i=new $g(e);return u2(s._query),vR(t,s._query).then(l=>new Gg(e,i,s,l))}function p2(s,e,t){s=Sn(s,un);const i=Sn(s.firestore,Bs),l=m2(s.converter,e,t);return Vc(i,[i2(Eh(i),"setDoc",s._key,l,s.converter!==null,t).toMutation(s._key,ns.none())])}function Dn(s,e,t,...i){s=Sn(s,un);const l=Sn(s.firestore,Bs),c=Eh(l);let h;return h=typeof(e=dn(e))=="string"||e instanceof kc?TR(c,"updateDoc",s._key,e,t,i):ER(c,"updateDoc",s._key,e),Vc(l,[h.toMutation(s._key,ns.exists(!0))])}function zl(s){return Vc(Sn(s.firestore,Bs),[new vg(s._key,ns.none())])}function ps(s,e){const t=Sn(s.firestore,Bs),i=Et(s),l=m2(s.converter,e);return Vc(t,[i2(Eh(s.firestore),"addDoc",i._key,l,s.converter!==null,{}).toMutation(i._key,ns.exists(!1))]).then(()=>i)}function Ih(s,...e){var t,i,l;s=dn(s);let c={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||$b(e[h])||(c=e[h],h++);const m={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if($b(e[h])){const A=e[h];e[h]=(t=A.next)===null||t===void 0?void 0:t.bind(A),e[h+1]=(i=A.error)===null||i===void 0?void 0:i.bind(A),e[h+2]=(l=A.complete)===null||l===void 0?void 0:l.bind(A)}let g,y,w;if(s instanceof un)y=Sn(s.firestore,Bs),w=uh(s._key.path),g={next:A=>{e[h]&&e[h](g2(y,s,A))},error:e[h+1],complete:e[h+2]};else{const A=Sn(s,Ks);y=Sn(A.firestore,Bs),w=A._query;const R=new $g(y);g={next:q=>{e[h]&&e[h](new Gg(y,R,A,q))},error:e[h+1],complete:e[h+2]},u2(s._query)}return function(R,q,U,M){const B=new Vg(M),X=new Mg(q,B,U);return R.asyncQueue.enqueueAndForget(async()=>Og(await Qd(R),X)),()=>{B.xu(),R.asyncQueue.enqueueAndForget(async()=>Dg(await Qd(R),X))}}(Dc(y),w,m,g)}function Vc(s,e){return function(i,l){const c=new Sr;return i.asyncQueue.enqueueAndForget(async()=>iR(await gR(i),l,c)),c.promise}(Dc(s),e)}function g2(s,e,t){const i=t.docs.get(e._key),l=new $g(s);return new Hg(s,l,e._key,i,new yl(t.hasPendingWrites,t.fromCache),e.converter)}function Cn(){return new zg("serverTimestamp")}(function(e,t=!0){(function(l){kl=l})(va),da(new vi("firestore",(i,{instanceIdentifier:l,options:c})=>{const h=i.getProvider("app").getImmediate(),m=new Bs(new j6(i.getProvider("auth-internal")),new C6(h,i.getProvider("app-check-internal")),function(y,w){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new Ee(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tl(y.options.projectId,w)}(h,l),h);return c=Object.assign({useFetchStreams:t},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),Ls(Kx,Xx,e),Ls(Kx,Xx,"esm2017")})();const RR=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:f2,Bytes:ga,CollectionReference:Nr,DocumentReference:un,DocumentSnapshot:Hg,FieldPath:kc,FieldValue:Mc,Firestore:Bs,FirestoreError:Ee,GeoPoint:_h,Query:Ks,QueryCompositeFilterConstraint:Ah,QueryConstraint:Nh,QueryDocumentSnapshot:uc,QueryFieldFilterConstraint:Lc,QueryLimitConstraint:Rh,QueryOrderByConstraint:jh,QuerySnapshot:Gg,SnapshotMetadata:yl,Timestamp:zt,VectorValue:wh,_AutoId:dg,_ByteString:nn,_DatabaseId:Tl,_DocumentKey:Ie,_EmptyAuthCredentialsProvider:B1,_FieldPath:tn,_cast:Sn,_logWarn:ma,_validateIsNotUsedTogether:Jw,addDoc:ps,collection:ot,connectFirestoreEmulator:t2,deleteDoc:zl,doc:Et,ensureFirestoreConfigured:Dc,executeWrite:Vc,getDoc:_a,getDocs:vn,getFirestore:n2,limit:d2,onSnapshot:Ih,orderBy:Ul,query:ss,serverTimestamp:Cn,setDoc:p2,updateDoc:Dn,where:Rl},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2="firebasestorage.googleapis.com",IR="storageBucket",CR=2*60*1e3,OR=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs extends Ys{constructor(e,t,i=0){super(Wm(e),`Firebase Storage: ${t} (${Wm(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Xs.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Wm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Hs;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Hs||(Hs={}));function Wm(s){return"storage/"+s}function DR(){const s="An unknown error occurred, please check the error payload for server response.";return new Xs(Hs.UNKNOWN,s)}function kR(){return new Xs(Hs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function MR(){return new Xs(Hs.CANCELED,"User canceled the upload/download.")}function PR(s){return new Xs(Hs.INVALID_URL,"Invalid URL '"+s+"'.")}function LR(s){return new Xs(Hs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function Kb(s){return new Xs(Hs.INVALID_ARGUMENT,s)}function v2(){return new Xs(Hs.APP_DELETED,"The Firebase app was deleted.")}function VR(s){return new Xs(Hs.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=ms.makeFromUrl(e,t)}catch{return new ms(e,"")}if(i.path==="")return i;throw LR(e)}static makeFromUrl(e,t){let i=null;const l="([A-Za-z0-9.\\-_]+)";function c(se){se.path.charAt(se.path.length-1)==="/"&&(se.path_=se.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+l+h,"i"),g={bucket:1,path:3};function y(se){se.path_=decodeURIComponent(se.path)}const w="v[A-Za-z0-9_]+",A=t.replace(/[.]/g,"\\."),R="(/([^?#]*).*)?$",q=new RegExp(`^https?://${A}/${w}/b/${l}/o${R}`,"i"),U={bucket:1,path:3},M=t===y2?"(?:storage.googleapis.com|storage.cloud.google.com)":t,B="([^?#]*)",X=new RegExp(`^https?://${M}/${l}/${B}`,"i"),J=[{regex:m,indices:g,postModify:c},{regex:q,indices:U,postModify:y},{regex:X,indices:{bucket:1,path:2},postModify:y}];for(let se=0;se<J.length;se++){const O=J[se],F=O.regex.exec(e);if(F){const j=F[O.indices.bucket];let I=F[O.indices.path];I||(I=""),i=new ms(j,I),O.postModify(i);break}}if(i==null)throw PR(e);return i}}class UR{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(s,e,t){let i=1,l=null,c=null,h=!1,m=0;function g(){return m===2}let y=!1;function w(...B){y||(y=!0,e.apply(null,B))}function A(B){l=setTimeout(()=>{l=null,s(q,g())},B)}function R(){c&&clearTimeout(c)}function q(B,...X){if(y){R();return}if(B){R(),w.call(null,B,...X);return}if(g()||h){R(),w.call(null,B,...X);return}i<64&&(i*=2);let J;m===1?(m=2,J=0):J=(i+Math.random())*1e3,A(J)}let U=!1;function M(B){U||(U=!0,R(),!y&&(l!==null?(B||(m=2),clearTimeout(l),A(0)):B||(m=1)))}return A(0),c=setTimeout(()=>{h=!0,M(!0)},t),M}function FR(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(s){return s!==void 0}function Xb(s,e,t,i){if(i<e)throw Kb(`Invalid value for '${s}'. Expected ${e} or greater.`);if(i>t)throw Kb(`Invalid value for '${s}'. Expected ${t} or less.`)}function BR(s){const e=encodeURIComponent;let t="?";for(const i in s)if(s.hasOwnProperty(i)){const l=e(i)+"="+e(s[i]);t=t+l+"&"}return t=t.slice(0,-1),t}var Kd;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(Kd||(Kd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(s,e){const t=s>=500&&s<600,l=[408,429].indexOf(s)!==-1,c=e.indexOf(s)!==-1;return t||l||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e,t,i,l,c,h,m,g,y,w,A,R=!0,q=!1){this.url_=e,this.method_=t,this.headers_=i,this.body_=l,this.successCodes_=c,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=w,this.connectionFactory_=A,this.retry=R,this.isUsingEmulator=q,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((U,M)=>{this.resolve_=U,this.reject_=M,this.start_()})}start_(){const e=(i,l)=>{if(l){i(!1,new gd(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const h=m=>{const g=m.loaded,y=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&c.addUploadProgressListener(h),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(h),this.pendingConnection_=null;const m=c.getErrorCode()===Kd.NO_ERROR,g=c.getStatus();if(!m||HR(g,this.additionalRetryCodes_)&&this.retry){const w=c.getErrorCode()===Kd.ABORT;i(!1,new gd(!1,null,w));return}const y=this.successCodes_.indexOf(g)!==-1;i(!0,new gd(y,c))})},t=(i,l)=>{const c=this.resolve_,h=this.reject_,m=l.connection;if(l.wasSuccessCode)try{const g=this.callback_(m,m.getResponse());qR(g)?c(g):c()}catch(g){h(g)}else if(m!==null){const g=DR();g.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,g)):h(g)}else if(l.canceled){const g=this.appDelete_?v2():MR();h(g)}else{const g=kR();h(g)}};this.canceled_?t(!1,new gd(!1,null,!0)):this.backoffId_=zR(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&FR(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class gd{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function $R(s,e){e!==null&&e.length>0&&(s.Authorization="Firebase "+e)}function QR(s,e){s["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function YR(s,e){e&&(s["X-Firebase-GMPID"]=e)}function KR(s,e){e!==null&&(s["X-Firebase-AppCheck"]=e)}function XR(s,e,t,i,l,c,h=!0,m=!1){const g=BR(s.urlParams),y=s.url+g,w=Object.assign({},s.headers);return YR(w,e),$R(w,t),QR(w,c),KR(w,i),new GR(y,s.method,w,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,l,h,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(s){if(s.length===0)return null;const e=s.lastIndexOf("/");return e===-1?"":s.slice(0,e)}function ZR(s){const e=s.lastIndexOf("/",s.length-2);return e===-1?s:s.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e,t){this._service=e,t instanceof ms?this._location=t:this._location=ms.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Xd(e,t)}get root(){const e=new ms(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ZR(this._location.path)}get storage(){return this._service}get parent(){const e=WR(this._location.path);if(e===null)return null;const t=new ms(this._location.bucket,e);return new Xd(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw VR(e)}}function Wb(s,e){const t=e==null?void 0:e[IR];return t==null?null:ms.makeFromBucketSpec(t,s)}function JR(s,e,t,i={}){s.host=`${e}:${t}`;const l=ya(e);l&&(Kp(`https://${s.host}/b`),Xp("Storage",!0)),s._isUsingEmulator=!0,s._protocol=l?"https":"http";const{mockUserToken:c}=i;c&&(s._overrideAuthToken=typeof c=="string"?c:Z_(c,s.app.options.projectId))}class eI{constructor(e,t,i,l,c,h=!1){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=l,this._firebaseVersion=c,this._isUsingEmulator=h,this._bucket=null,this._host=y2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=CR,this._maxUploadRetryTime=OR,this._requests=new Set,l!=null?this._bucket=ms.makeFromBucketSpec(l,this._host):this._bucket=Wb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ms.makeFromBucketSpec(this._url,e):this._bucket=Wb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Xb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Xb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(hs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Xd(this,e)}_makeRequest(e,t,i,l,c=!0){if(this._deleted)return new UR(v2());{const h=XR(e,this._appId,i,l,t,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[i,l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,l).getPromise()}}const Zb="@firebase/storage",Jb="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2="storage";function tI(s=Jp(),e){s=dn(s);const i=rh(s,x2).getImmediate({identifier:e}),l=K_("storage");return l&&nI(i,...l),i}function nI(s,e,t,i={}){JR(s,e,t,i)}function sI(s,{instanceIdentifier:e}){const t=s.getProvider("app").getImmediate(),i=s.getProvider("auth-internal"),l=s.getProvider("app-check-internal");return new eI(t,i,l,e,va)}function rI(){da(new vi(x2,sI,"PUBLIC").setMultipleInstances(!0)),Ls(Zb,Jb,""),Ls(Zb,Jb,"esm2017")}rI();const iI={apiKey:"AIzaSyBfRYv1lP4IZqwE1GNHKn282lVZbcdh29c",authDomain:"taaza-5c5cd.firebaseapp.com",projectId:"taaza-5c5cd",storageBucket:"taaza-5c5cd.appspot.com",messagingSenderId:"419986863629",appId:"1:419986863629:web:4bc1bd7e11082fda59c744",measurementId:"G-DWNQL265JV"},Qg=t1(iI);S6(Qg);const ke=n2(Qg);tI(Qg);const b2=H.createContext();function Nn(){return H.useContext(b2)}function aI({children:s}){const[e,t]=H.useState(null),[i,l]=H.useState(!0);H.useEffect(()=>{(async()=>{try{const y=localStorage.getItem("taaza_user");if(y){const w=JSON.parse(y);if(w.id)try{(await _a(Et(ke,"users",w.id))).exists()?t(w):localStorage.removeItem("taaza_user")}catch(A){console.error("Error verifying user data:",A),t(w)}else t(w)}}catch(y){console.error("Error parsing stored user data:",y),localStorage.removeItem("taaza_user")}finally{l(!1)}})()},[]);const m={user:e,setUser:g=>{t(g),g?localStorage.setItem("taaza_user",JSON.stringify(g)):localStorage.removeItem("taaza_user")},logout:()=>{t(null),localStorage.removeItem("taaza_user")},loading:i};return u.jsx(b2.Provider,{value:m,children:s})}var _2={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},e_=mi.createContext&&mi.createContext(_2),lI=["attr","size","title"];function oI(s,e){if(s==null)return{};var t=cI(s,e),i,l;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(s);for(l=0;l<c.length;l++)i=c[l],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(s,i)&&(t[i]=s[i])}return t}function cI(s,e){if(s==null)return{};var t={};for(var i in s)if(Object.prototype.hasOwnProperty.call(s,i)){if(e.indexOf(i)>=0)continue;t[i]=s[i]}return t}function Wd(){return Wd=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(s[i]=t[i])}return s},Wd.apply(this,arguments)}function t_(s,e){var t=Object.keys(s);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(s,l).enumerable})),t.push.apply(t,i)}return t}function Zd(s){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?t_(Object(t),!0).forEach(function(i){uI(s,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(t)):t_(Object(t)).forEach(function(i){Object.defineProperty(s,i,Object.getOwnPropertyDescriptor(t,i))})}return s}function uI(s,e,t){return e=dI(e),e in s?Object.defineProperty(s,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):s[e]=t,s}function dI(s){var e=hI(s,"string");return typeof e=="symbol"?e:e+""}function hI(s,e){if(typeof s!="object"||!s)return s;var t=s[Symbol.toPrimitive];if(t!==void 0){var i=t.call(s,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(s)}function w2(s){return s&&s.map((e,t)=>mi.createElement(e.tag,Zd({key:t},e.attr),w2(e.child)))}function pt(s){return e=>mi.createElement(fI,Wd({attr:Zd({},s.attr)},e),w2(s.child))}function fI(s){var e=t=>{var{attr:i,size:l,title:c}=s,h=oI(s,lI),m=l||t.size||"1em",g;return t.className&&(g=t.className),s.className&&(g=(g?g+" ":"")+s.className),mi.createElement("svg",Wd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,h,{className:g,style:Zd(Zd({color:s.color||t.color},t.style),s.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),c&&mi.createElement("title",null,c),s.children)};return e_!==void 0?mi.createElement(e_.Consumer,null,t=>e(t)):e(_2)}function mI(s){return pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(s)}function pI(s){return pt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(s)}function gI(s){return pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(s)}function yI(s){return pt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(s)}function E2(s){return pt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(s)}function vI(s){return pt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z"},child:[]}]})(s)}function n_(s){return pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(s)}function xI(s){return pt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(s)}function bI(s){return pt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(s)}function Fp(s){return pt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(s)}function _I(s){return pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(s)}function wI(s){return pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(s)}function EI(s){return pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.8 49.57a169.44 169.44 0 0 0-239.5 0C187.82 85 160.13 128 160.13 192v85.83l-40.62 40.59c-9.7 9.69-24 11.07-36.78 6a60.33 60.33 0 0 0-65 98.72C33 438.39 54.24 442.7 73.85 438.21c-4.5 19.6-.18 40.83 15.1 56.1a60.35 60.35 0 0 0 98.8-65c-5.09-12.73-3.72-27 6-36.75L234.36 352h85.89a187.87 187.87 0 0 0 61.89-10c-39.64-43.89-39.83-110.23 1.05-151.07 34.38-34.36 86.76-39.46 128.74-16.8 1.3-44.96-14.81-90.28-49.13-124.56z"},child:[]}]})(s)}function s_(s){return pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(s)}function r_(s){return pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(s)}function i_(s){return pt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(s)}function TI(s){return pt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(s)}function SI(s){return pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(s)}function NI(s){return pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(s)}function a_(s){return pt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(s)}function T2(s){return pt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(s)}function AI(s){return pt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 32C128.94 32 0 160.94 0 320c0 52.8 14.25 102.26 39.06 144.8 5.61 9.62 16.3 15.2 27.44 15.2h443c11.14 0 21.83-5.58 27.44-15.2C561.75 422.26 576 372.8 576 320c0-159.06-128.94-288-288-288zm0 64c14.71 0 26.58 10.13 30.32 23.65-1.11 2.26-2.64 4.23-3.45 6.67l-9.22 27.67c-5.13 3.49-10.97 6.01-17.64 6.01-17.67 0-32-14.33-32-32S270.33 96 288 96zM96 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm48-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm246.77-72.41l-61.33 184C343.13 347.33 352 364.54 352 384c0 11.72-3.38 22.55-8.88 32H232.88c-5.5-9.45-8.88-20.28-8.88-32 0-33.94 26.5-61.43 59.9-63.59l61.34-184.01c4.17-12.56 17.73-19.45 30.36-15.17 12.57 4.19 19.35 17.79 15.17 30.36zm14.66 57.2l15.52-46.55c3.47-1.29 7.13-2.23 11.05-2.23 17.67 0 32 14.33 32 32s-14.33 32-32 32c-11.38-.01-20.89-6.28-26.57-15.22zM480 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(s)}function S2(s){return pt({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(s)}function jI(s){return pt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 352h-16V243.9c0-12.7-5.1-24.9-14.1-33.9L494 110.1c-9-9-21.2-14.1-33.9-14.1H416V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h16c0 53 43 96 96 96s96-43 96-96h128c0 53 43 96 96 96s96-43 96-96h48c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM160 464c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm320 0c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm80-208H416V144h44.1l99.9 99.9V256z"},child:[]}]})(s)}function N2(s){return pt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(s)}function RI(s){return pt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M610.5 341.3c2.6-14.1 2.6-28.5 0-42.6l25.8-14.9c3-1.7 4.3-5.2 3.3-8.5-6.7-21.6-18.2-41.2-33.2-57.4-2.3-2.5-6-3.1-9-1.4l-25.8 14.9c-10.9-9.3-23.4-16.5-36.9-21.3v-29.8c0-3.4-2.4-6.4-5.7-7.1-22.3-5-45-4.8-66.2 0-3.3.7-5.7 3.7-5.7 7.1v29.8c-13.5 4.8-26 12-36.9 21.3l-25.8-14.9c-2.9-1.7-6.7-1.1-9 1.4-15 16.2-26.5 35.8-33.2 57.4-1 3.3.4 6.8 3.3 8.5l25.8 14.9c-2.6 14.1-2.6 28.5 0 42.6l-25.8 14.9c-3 1.7-4.3 5.2-3.3 8.5 6.7 21.6 18.2 41.1 33.2 57.4 2.3 2.5 6 3.1 9 1.4l25.8-14.9c10.9 9.3 23.4 16.5 36.9 21.3v29.8c0 3.4 2.4 6.4 5.7 7.1 22.3 5 45 4.8 66.2 0 3.3-.7 5.7-3.7 5.7-7.1v-29.8c13.5-4.8 26-12 36.9-21.3l25.8 14.9c2.9 1.7 6.7 1.1 9-1.4 15-16.2 26.5-35.8 33.2-57.4 1-3.3-.4-6.8-3.3-8.5l-25.8-14.9zM496 368.5c-26.8 0-48.5-21.8-48.5-48.5s21.8-48.5 48.5-48.5 48.5 21.8 48.5 48.5-21.7 48.5-48.5 48.5zM96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm224 32c1.9 0 3.7-.5 5.6-.6 8.3-21.7 20.5-42.1 36.3-59.2 7.4-8 17.9-12.6 28.9-12.6 6.9 0 13.7 1.8 19.6 5.3l7.9 4.6c.8-.5 1.6-.9 2.4-1.4 7-14.6 11.2-30.8 11.2-48 0-61.9-50.1-112-112-112S208 82.1 208 144c0 61.9 50.1 112 112 112zm105.2 194.5c-2.3-1.2-4.6-2.6-6.8-3.9-8.2 4.8-15.3 9.8-27.5 9.8-10.9 0-21.4-4.6-28.9-12.6-18.3-19.8-32.3-43.9-40.2-69.6-10.7-34.5 24.9-49.7 25.8-50.3-.1-2.6-.1-5.2 0-7.8l-7.9-4.6c-3.8-2.2-7-5-9.8-8.1-3.3.2-6.5.6-9.8.6-24.6 0-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h255.4c-3.7-6-6.2-12.8-6.2-20.3v-9.2zM173.1 274.6C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(s)}function II(){const{user:s,logout:e}=Nn(),t=vs(),[i,l]=H.useState(!1),[c,h]=H.useState(!1);H.useEffect(()=>(document.body.style.overflow=i?"hidden":"unset",()=>{document.body.style.overflow="unset"}),[i]);const m=()=>{e(),h(!1)},g=()=>l(!i),y=()=>l(!1);return u.jsxs(u.Fragment,{children:[u.jsx("header",{className:"fixed w-full top-0 z-40 bg-white/95 backdrop-blur-md shadow-md border-b border-slate-200",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex items-center justify-between h-16 lg:h-20",children:[u.jsx(Qt,{to:"/",className:"flex items-center space-x-3 group",children:u.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:"Taaza"})}),u.jsxs("nav",{className:"hidden md:flex items-center space-x-2 lg:space-x-4",children:[u.jsxs(Qt,{to:"/",className:`flex items-center space-x-2 px-3 py-2 lg:px-5 rounded-lg text-sm lg:text-base font-medium transition-colors ${t.pathname==="/"?"bg-slate-100 text-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[u.jsx(i_,{})," ",u.jsx("span",{children:"Home"})]}),u.jsxs(Qt,{to:"/orders",className:`flex items-center space-x-2 px-3 py-2 lg:px-5 rounded-lg text-sm lg:text-base font-medium transition-colors ${t.pathname==="/orders"?"bg-slate-100 text-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[u.jsx(Fp,{})," ",u.jsx("span",{children:"Orders"})]}),u.jsxs(Qt,{to:"/cart",className:"flex items-center space-x-2 px-3 py-2 lg:px-5 rounded-lg text-sm lg:text-base font-medium bg-red-50 text-red-700 hover:bg-red-100 transition-colors",children:[u.jsx(a_,{})," ",u.jsx("span",{children:"Cart"})]})]}),u.jsxs("div",{className:"flex items-center space-x-3",children:[s?u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>h(!c),className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-slate-100 transition-colors",children:[u.jsx(N2,{className:"text-slate-600 text-lg lg:text-xl"}),u.jsx("span",{className:"hidden sm:block text-sm lg:text-base font-medium text-slate-700",children:s.name||"User"})]}),c&&u.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-xl border z-50",children:[u.jsxs("div",{className:"p-2 border-b",children:[u.jsx("p",{className:"text-sm lg:text-base font-semibold",children:s.name}),u.jsx("p",{className:"text-xs lg:text-sm text-slate-500",children:s.mobile})]}),u.jsxs("button",{onClick:m,className:"w-full flex items-center space-x-2 p-2 text-sm lg:text-base text-red-600 hover:bg-red-50",children:[u.jsx(T2,{})," ",u.jsx("span",{children:"Logout"})]})]})]}):u.jsx(Qt,{to:"/login",className:"hidden md:flex items-center text-sm lg:text-base font-medium text-slate-600 hover:text-slate-900",children:"Login"}),u.jsx("button",{onClick:g,className:"md:hidden p-2 rounded-lg text-slate-600 hover:bg-slate-100",children:u.jsx(E2,{size:20})})]})]})})}),u.jsxs("div",{className:`md:hidden fixed inset-0 z-50 transition-opacity ${i?"opacity-100":"opacity-0 pointer-events-none"}`,children:[u.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:y}),u.jsxs("div",{className:`absolute top-0 right-0 h-full w-4/5 max-w-xs bg-white shadow-xl transition-transform flex flex-col ${i?"translate-x-0":"translate-x-full"}`,children:[u.jsxs("div",{className:"flex justify-between p-4 border-b",children:[u.jsx("span",{className:"font-bold text-lg",children:"Menu"}),u.jsx("button",{onClick:y,children:u.jsx(S2,{size:20})})]}),u.jsxs("nav",{className:"flex-grow p-4 space-y-2",children:[u.jsxs(Qt,{to:"/",onClick:y,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-slate-100",children:[u.jsx(i_,{}),u.jsx("span",{children:"Home"})]}),u.jsxs(Qt,{to:"/orders",onClick:y,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-slate-100",children:[u.jsx(Fp,{}),u.jsx("span",{children:"Orders"})]}),u.jsxs(Qt,{to:"/cart",onClick:y,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-slate-100",children:[u.jsx(a_,{}),u.jsx("span",{children:"Cart"})]})]})]})]})]})}function CI(){return u.jsxs("footer",{className:"bg-gradient-to-br from-[#1e3c72] to-[#2a5298] text-white py-12 sm:py-16 mt-12 rounded-t-2xl shadow-2xl shadow-slate-300 relative overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_20%_80%,_rgba(120,119,198,0.3)_0%,_transparent_50%),_radial-gradient(circle_at_80%_20%,_rgba(255,119,198,0.3)_0%,_transparent_50%)] z-0"}),u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:flex-wrap sm:justify-between gap-10 sm:gap-8 mb-10",children:[u.jsxs("div",{className:"hidden sm:block flex-1 min-w-[220px]",children:[u.jsxs("h3",{className:"text-lg font-bold text-yellow-400 mb-4 flex items-center gap-2",children:[u.jsx(NI,{}),"About Taaza"]}),u.jsx("p",{className:"text-sm text-blue-100 mb-3 leading-relaxed",children:"Premium fresh meat and fish delivered to your doorstep. We ensure the highest quality products with competitive prices and exceptional service."}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-100 mb-1",children:[u.jsx(jI,{className:"text-yellow-400"}),u.jsx("span",{children:"Free Delivery on orders above 500"})]}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-100",children:[u.jsx(_I,{className:"text-yellow-400"}),u.jsx("span",{children:"Same day delivery available"})]})]}),u.jsxs("div",{className:"flex-1 min-w-[220px]",children:[u.jsxs("h3",{className:"text-lg font-bold text-yellow-400 mb-4 flex items-center gap-2",children:[u.jsx(s_,{}),"Contact Info"]}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-sky-300 mb-2",children:[u.jsx(SI,{}),u.jsx("span",{children:"+91 98765 43210"})]}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-sky-300 mb-2",children:[u.jsx(s_,{}),u.jsx("span",{children:"info@taaza.com"})]}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-sky-300",children:[u.jsx(TI,{}),u.jsx("span",{children:"123 Main Street, City, State"})]})]}),u.jsxs("div",{className:"hidden sm:block flex-1 min-w-[220px]",children:[u.jsxs("h3",{className:"text-lg font-bold text-yellow-400 mb-4 flex items-center gap-2",children:[u.jsx(r_,{}),"Follow Us"]}),u.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[u.jsx("a",{href:"#",className:"p-2 rounded-full bg-white/10 text-blue-100 hover:bg-white/20 hover:-translate-y-1 transition-all duration-300",children:u.jsx(mI,{size:20})}),u.jsx("a",{href:"#",className:"p-2 rounded-full bg-white/10 text-blue-100 hover:bg-white/20 hover:-translate-y-1 transition-all duration-300",children:u.jsx(pI,{size:20})}),u.jsx("a",{href:"#",className:"p-2 rounded-full bg-white/10 text-blue-100 hover:bg-white/20 hover:-translate-y-1 transition-all duration-300",children:u.jsx(gI,{size:20})}),u.jsx("a",{href:"#",className:"p-2 rounded-full bg-white/10 text-blue-100 hover:bg-white/20 hover:-translate-y-1 transition-all duration-300",children:u.jsx(yI,{size:20})})]})]})]}),u.jsxs("div",{className:"border-t border-white/20 pt-6 text-sm text-blue-200 flex items-center justify-center gap-2",children:[u.jsx(r_,{className:"text-red-400"}),u.jsxs("span",{children:[" ",new Date().getFullYear()," Taaza Non-Veg Market. All rights reserved."]})]})]})]})}const A2="/assets/bg-BeXQCI2s.jpg",OI="/assets/wholeChicken-Bz3pTOds.png",DI="/assets/goatMeat-dXw2UMKS.png";var Zm={},Jm={},Zo={},ep={},l_;function kI(){return l_||(l_=1,function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};s.default=e}(ep)),ep}var tp,o_;function MI(){if(o_)return tp;o_=1;var s="Expected a function",e=NaN,t="[object Symbol]",i=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,h=/^0o[0-7]+$/i,m=parseInt,g=typeof od=="object"&&od&&od.Object===Object&&od,y=typeof self=="object"&&self&&self.Object===Object&&self,w=g||y||Function("return this")(),A=Object.prototype,R=A.toString,q=Math.max,U=Math.min,M=function(){return w.Date.now()};function B(O,F,j){var I,T,b,k,V,C,z=0,ae=!1,L=!1,_=!0;if(typeof O!="function")throw new TypeError(s);F=se(F)||0,X(j)&&(ae=!!j.leading,L="maxWait"in j,b=L?q(se(j.maxWait)||0,F):b,_="trailing"in j?!!j.trailing:_);function fe(oe){var he=I,xe=T;return I=T=void 0,z=oe,k=O.apply(xe,he),k}function $(oe){return z=oe,V=setTimeout(Q,F),ae?fe(oe):k}function v(oe){var he=oe-C,xe=oe-z,_e=F-he;return L?U(_e,b-xe):_e}function N(oe){var he=oe-C,xe=oe-z;return C===void 0||he>=F||he<0||L&&xe>=b}function Q(){var oe=M();if(N(oe))return K(oe);V=setTimeout(Q,v(oe))}function K(oe){return V=void 0,_&&I?fe(oe):(I=T=void 0,k)}function te(){V!==void 0&&clearTimeout(V),z=0,I=C=T=V=void 0}function de(){return V===void 0?k:K(M())}function Y(){var oe=M(),he=N(oe);if(I=arguments,T=this,C=oe,he){if(V===void 0)return $(C);if(L)return V=setTimeout(Q,F),fe(C)}return V===void 0&&(V=setTimeout(Q,F)),k}return Y.cancel=te,Y.flush=de,Y}function X(O){var F=typeof O;return!!O&&(F=="object"||F=="function")}function Z(O){return!!O&&typeof O=="object"}function J(O){return typeof O=="symbol"||Z(O)&&R.call(O)==t}function se(O){if(typeof O=="number")return O;if(J(O))return e;if(X(O)){var F=typeof O.valueOf=="function"?O.valueOf():O;O=X(F)?F+"":F}if(typeof O!="string")return O===0?O:+O;O=O.replace(i,"");var j=c.test(O);return j||h.test(O)?m(O.slice(2),j?2:8):l.test(O)?e:+O}return tp=B,tp}var np={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var c_;function Ch(){return c_||(c_=1,function(s){(function(){var e={}.hasOwnProperty;function t(){for(var c="",h=0;h<arguments.length;h++){var m=arguments[h];m&&(c=l(c,i(m)))}return c}function i(c){if(typeof c=="string"||typeof c=="number")return c;if(typeof c!="object")return"";if(Array.isArray(c))return t.apply(null,c);if(c.toString!==Object.prototype.toString&&!c.toString.toString().includes("[native code]"))return c.toString();var h="";for(var m in c)e.call(c,m)&&c[m]&&(h=l(h,m));return h}function l(c,h){return h?c?c+" "+h:c+h:c}s.exports?(t.default=t,s.exports=t):window.classNames=t})()}(np)),np.exports}var we={},sp={},u_;function j2(){return u_||(u_=1,function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var e=t(Gs());function t(l){return l&&l.__esModule?l:{default:l}}var i={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(c){return e.default.createElement("ul",{style:{display:"block"}},c)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(c){return e.default.createElement("button",null,c+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};s.default=i}(sp)),sp}var d_;function Uc(){if(d_)return we;d_=1,Object.defineProperty(we,"__esModule",{value:!0}),we.checkSpecKeys=we.checkNavigable=we.changeSlide=we.canUseDOM=we.canGoNext=void 0,we.clamp=y,we.extractObject=void 0,we.filterSettings=fe,we.validSettings=we.swipeStart=we.swipeMove=we.swipeEnd=we.slidesOnRight=we.slidesOnLeft=we.slideHandler=we.siblingDirection=we.safePreventDefault=we.lazyStartIndex=we.lazySlidesOnRight=we.lazySlidesOnLeft=we.lazyEndIndex=we.keyHandler=we.initializedState=we.getWidth=we.getTrackLeft=we.getTrackCSS=we.getTrackAnimateCSS=we.getTotalSlides=we.getSwipeDirection=we.getSlideCount=we.getRequiredLazySlides=we.getPreClones=we.getPostClones=we.getOnDemandLazySlides=we.getNavigableIndexes=we.getHeight=void 0;var s=t(Gs()),e=t(j2());function t($){return $&&$.__esModule?$:{default:$}}function i($){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},i($)}function l($,v){var N=Object.keys($);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols($);v&&(Q=Q.filter(function(K){return Object.getOwnPropertyDescriptor($,K).enumerable})),N.push.apply(N,Q)}return N}function c($){for(var v=1;v<arguments.length;v++){var N=arguments[v]!=null?arguments[v]:{};v%2?l(Object(N),!0).forEach(function(Q){h($,Q,N[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(N)):l(Object(N)).forEach(function(Q){Object.defineProperty($,Q,Object.getOwnPropertyDescriptor(N,Q))})}return $}function h($,v,N){return v=m(v),v in $?Object.defineProperty($,v,{value:N,enumerable:!0,configurable:!0,writable:!0}):$[v]=N,$}function m($){var v=g($,"string");return i(v)=="symbol"?v:String(v)}function g($,v){if(i($)!="object"||!$)return $;var N=$[Symbol.toPrimitive];if(N!==void 0){var Q=N.call($,v);if(i(Q)!="object")return Q;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)($)}function y($,v,N){return Math.max(v,Math.min($,N))}var w=we.safePreventDefault=function(v){var N=["onTouchStart","onTouchMove","onWheel"];N.includes(v._reactName)||v.preventDefault()},A=we.getOnDemandLazySlides=function(v){for(var N=[],Q=R(v),K=q(v),te=Q;te<K;te++)v.lazyLoadedList.indexOf(te)<0&&N.push(te);return N};we.getRequiredLazySlides=function(v){for(var N=[],Q=R(v),K=q(v),te=Q;te<K;te++)N.push(te);return N};var R=we.lazyStartIndex=function(v){return v.currentSlide-U(v)},q=we.lazyEndIndex=function(v){return v.currentSlide+M(v)},U=we.lazySlidesOnLeft=function(v){return v.centerMode?Math.floor(v.slidesToShow/2)+(parseInt(v.centerPadding)>0?1:0):0},M=we.lazySlidesOnRight=function(v){return v.centerMode?Math.floor((v.slidesToShow-1)/2)+1+(parseInt(v.centerPadding)>0?1:0):v.slidesToShow},B=we.getWidth=function(v){return v&&v.offsetWidth||0},X=we.getHeight=function(v){return v&&v.offsetHeight||0},Z=we.getSwipeDirection=function(v){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Q,K,te,de;return Q=v.startX-v.curX,K=v.startY-v.curY,te=Math.atan2(K,Q),de=Math.round(te*180/Math.PI),de<0&&(de=360-Math.abs(de)),de<=45&&de>=0||de<=360&&de>=315?"left":de>=135&&de<=225?"right":N===!0?de>=35&&de<=135?"up":"down":"vertical"},J=we.canGoNext=function(v){var N=!0;return v.infinite||(v.centerMode&&v.currentSlide>=v.slideCount-1||v.slideCount<=v.slidesToShow||v.currentSlide>=v.slideCount-v.slidesToShow)&&(N=!1),N};we.extractObject=function(v,N){var Q={};return N.forEach(function(K){return Q[K]=v[K]}),Q},we.initializedState=function(v){var N=s.default.Children.count(v.children),Q=v.listRef,K=Math.ceil(B(Q)),te=v.trackRef&&v.trackRef.node,de=Math.ceil(B(te)),Y;if(v.vertical)Y=K;else{var oe=v.centerMode&&parseInt(v.centerPadding)*2;typeof v.centerPadding=="string"&&v.centerPadding.slice(-1)==="%"&&(oe*=K/100),Y=Math.ceil((K-oe)/v.slidesToShow)}var he=Q&&X(Q.querySelector('[data-index="0"]')),xe=he*v.slidesToShow,_e=v.currentSlide===void 0?v.initialSlide:v.currentSlide;v.rtl&&v.currentSlide===void 0&&(_e=N-1-v.initialSlide);var Ne=v.lazyLoadedList||[],Ce=A(c(c({},v),{},{currentSlide:_e,lazyLoadedList:Ne}));Ne=Ne.concat(Ce);var Pe={slideCount:N,slideWidth:Y,listWidth:K,trackWidth:de,currentSlide:_e,slideHeight:he,listHeight:xe,lazyLoadedList:Ne};return v.autoplaying===null&&v.autoplay&&(Pe.autoplaying="playing"),Pe},we.slideHandler=function(v){var N=v.waitForAnimate,Q=v.animating,K=v.fade,te=v.infinite,de=v.index,Y=v.slideCount,oe=v.lazyLoad,he=v.currentSlide,xe=v.centerMode,_e=v.slidesToScroll,Ne=v.slidesToShow,Ce=v.useCSS,Pe=v.lazyLoadedList;if(N&&Q)return{};var Re=de,Oe,Ge,je,yt={},vt={},xt=te?de:y(de,0,Y-1);if(K){if(!te&&(de<0||de>=Y))return{};de<0?Re=de+Y:de>=Y&&(Re=de-Y),oe&&Pe.indexOf(Re)<0&&(Pe=Pe.concat(Re)),yt={animating:!0,currentSlide:Re,lazyLoadedList:Pe,targetSlide:Re},vt={animating:!1,targetSlide:Re}}else Oe=Re,Re<0?(Oe=Re+Y,te?Y%_e!==0&&(Oe=Y-Y%_e):Oe=0):!J(v)&&Re>he?Re=Oe=he:xe&&Re>=Y?(Re=te?Y:Y-1,Oe=te?0:Y-1):Re>=Y&&(Oe=Re-Y,te?Y%_e!==0&&(Oe=0):Oe=Y-Ne),!te&&Re+Ne>=Y&&(Oe=Y-Ne),Ge=b(c(c({},v),{},{slideIndex:Re})),je=b(c(c({},v),{},{slideIndex:Oe})),te||(Ge===je&&(Re=Oe),Ge=je),oe&&(Pe=Pe.concat(A(c(c({},v),{},{currentSlide:Re})))),Ce?(yt={animating:!0,currentSlide:Oe,trackStyle:T(c(c({},v),{},{left:Ge})),lazyLoadedList:Pe,targetSlide:xt},vt={animating:!1,currentSlide:Oe,trackStyle:I(c(c({},v),{},{left:je})),swipeLeft:null,targetSlide:xt}):yt={currentSlide:Oe,trackStyle:I(c(c({},v),{},{left:je})),lazyLoadedList:Pe,targetSlide:xt};return{state:yt,nextState:vt}},we.changeSlide=function(v,N){var Q,K,te,de,Y,oe=v.slidesToScroll,he=v.slidesToShow,xe=v.slideCount,_e=v.currentSlide,Ne=v.targetSlide,Ce=v.lazyLoad,Pe=v.infinite;if(de=xe%oe!==0,Q=de?0:(xe-_e)%oe,N.message==="previous")te=Q===0?oe:he-Q,Y=_e-te,Ce&&!Pe&&(K=_e-te,Y=K===-1?xe-1:K),Pe||(Y=Ne-oe);else if(N.message==="next")te=Q===0?oe:Q,Y=_e+te,Ce&&!Pe&&(Y=(_e+oe)%xe+Q),Pe||(Y=Ne+oe);else if(N.message==="dots")Y=N.index*N.slidesToScroll;else if(N.message==="children"){if(Y=N.index,Pe){var Re=z(c(c({},v),{},{targetSlide:Y}));Y>N.currentSlide&&Re==="left"?Y=Y-xe:Y<N.currentSlide&&Re==="right"&&(Y=Y+xe)}}else N.message==="index"&&(Y=Number(N.index));return Y},we.keyHandler=function(v,N,Q){return v.target.tagName.match("TEXTAREA|INPUT|SELECT")||!N?"":v.keyCode===37?Q?"next":"previous":v.keyCode===39?Q?"previous":"next":""},we.swipeStart=function(v,N,Q){return v.target.tagName==="IMG"&&w(v),!N||!Q&&v.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:v.touches?v.touches[0].pageX:v.clientX,startY:v.touches?v.touches[0].pageY:v.clientY,curX:v.touches?v.touches[0].pageX:v.clientX,curY:v.touches?v.touches[0].pageY:v.clientY}}},we.swipeMove=function(v,N){var Q=N.scrolling,K=N.animating,te=N.vertical,de=N.swipeToSlide,Y=N.verticalSwiping,oe=N.rtl,he=N.currentSlide,xe=N.edgeFriction,_e=N.edgeDragged,Ne=N.onEdge,Ce=N.swiped,Pe=N.swiping,Re=N.slideCount,Oe=N.slidesToScroll,Ge=N.infinite,je=N.touchObject,yt=N.swipeEvent,vt=N.listHeight,xt=N.listWidth;if(!Q){if(K)return w(v);te&&de&&Y&&w(v);var Rt,rs={},is=b(N);je.curX=v.touches?v.touches[0].pageX:v.clientX,je.curY=v.touches?v.touches[0].pageY:v.clientY,je.swipeLength=Math.round(Math.sqrt(Math.pow(je.curX-je.startX,2)));var Dr=Math.round(Math.sqrt(Math.pow(je.curY-je.startY,2)));if(!Y&&!Pe&&Dr>10)return{scrolling:!0};Y&&(je.swipeLength=Dr);var xs=(oe?-1:1)*(je.curX>je.startX?1:-1);Y&&(xs=je.curY>je.startY?1:-1);var bt=Math.ceil(Re/Oe),$e=Z(N.touchObject,Y),Ft=je.swipeLength;return Ge||(he===0&&($e==="right"||$e==="down")||he+1>=bt&&($e==="left"||$e==="up")||!J(N)&&($e==="left"||$e==="up"))&&(Ft=je.swipeLength*xe,_e===!1&&Ne&&(Ne($e),rs.edgeDragged=!0)),!Ce&&yt&&(yt($e),rs.swiped=!0),te?Rt=is+Ft*(vt/xt)*xs:oe?Rt=is-Ft*xs:Rt=is+Ft*xs,Y&&(Rt=is+Ft*xs),rs=c(c({},rs),{},{touchObject:je,swipeLeft:Rt,trackStyle:I(c(c({},N),{},{left:Rt}))}),Math.abs(je.curX-je.startX)<Math.abs(je.curY-je.startY)*.8||je.swipeLength>10&&(rs.swiping=!0,w(v)),rs}},we.swipeEnd=function(v,N){var Q=N.dragging,K=N.swipe,te=N.touchObject,de=N.listWidth,Y=N.touchThreshold,oe=N.verticalSwiping,he=N.listHeight,xe=N.swipeToSlide,_e=N.scrolling,Ne=N.onSwipe,Ce=N.targetSlide,Pe=N.currentSlide,Re=N.infinite;if(!Q)return K&&w(v),{};var Oe=oe?he/Y:de/Y,Ge=Z(te,oe),je={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(_e||!te.swipeLength)return je;if(te.swipeLength>Oe){w(v),Ne&&Ne(Ge);var yt,vt,xt=Re?Pe:Ce;switch(Ge){case"left":case"up":vt=xt+F(N),yt=xe?O(N,vt):vt,je.currentDirection=0;break;case"right":case"down":vt=xt-F(N),yt=xe?O(N,vt):vt,je.currentDirection=1;break;default:yt=xt}je.triggerSlideHandler=yt}else{var Rt=b(N);je.trackStyle=T(c(c({},N),{},{left:Rt}))}return je};var se=we.getNavigableIndexes=function(v){for(var N=v.infinite?v.slideCount*2:v.slideCount,Q=v.infinite?v.slidesToShow*-1:0,K=v.infinite?v.slidesToShow*-1:0,te=[];Q<N;)te.push(Q),Q=K+v.slidesToScroll,K+=Math.min(v.slidesToScroll,v.slidesToShow);return te},O=we.checkNavigable=function(v,N){var Q=se(v),K=0;if(N>Q[Q.length-1])N=Q[Q.length-1];else for(var te in Q){if(N<Q[te]){N=K;break}K=Q[te]}return N},F=we.getSlideCount=function(v){var N=v.centerMode?v.slideWidth*Math.floor(v.slidesToShow/2):0;if(v.swipeToSlide){var Q,K=v.listRef,te=K.querySelectorAll&&K.querySelectorAll(".slick-slide")||[];if(Array.from(te).every(function(oe){if(v.vertical){if(oe.offsetTop+X(oe)/2>v.swipeLeft*-1)return Q=oe,!1}else if(oe.offsetLeft-N+B(oe)/2>v.swipeLeft*-1)return Q=oe,!1;return!0}),!Q)return 0;var de=v.rtl===!0?v.slideCount-v.currentSlide:v.currentSlide,Y=Math.abs(Q.dataset.index-de)||1;return Y}else return v.slidesToScroll},j=we.checkSpecKeys=function(v,N){return N.reduce(function(Q,K){return Q&&v.hasOwnProperty(K)},!0)?null:console.error("Keys Missing:",v)},I=we.getTrackCSS=function(v){j(v,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var N,Q,K=v.slideCount+2*v.slidesToShow;v.vertical?Q=K*v.slideHeight:N=C(v)*v.slideWidth;var te={opacity:1,transition:"",WebkitTransition:""};if(v.useTransform){var de=v.vertical?"translate3d(0px, "+v.left+"px, 0px)":"translate3d("+v.left+"px, 0px, 0px)",Y=v.vertical?"translate3d(0px, "+v.left+"px, 0px)":"translate3d("+v.left+"px, 0px, 0px)",oe=v.vertical?"translateY("+v.left+"px)":"translateX("+v.left+"px)";te=c(c({},te),{},{WebkitTransform:de,transform:Y,msTransform:oe})}else v.vertical?te.top=v.left:te.left=v.left;return v.fade&&(te={opacity:1}),N&&(te.width=N),Q&&(te.height=Q),window&&!window.addEventListener&&window.attachEvent&&(v.vertical?te.marginTop=v.left+"px":te.marginLeft=v.left+"px"),te},T=we.getTrackAnimateCSS=function(v){j(v,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var N=I(v);return v.useTransform?(N.WebkitTransition="-webkit-transform "+v.speed+"ms "+v.cssEase,N.transition="transform "+v.speed+"ms "+v.cssEase):v.vertical?N.transition="top "+v.speed+"ms "+v.cssEase:N.transition="left "+v.speed+"ms "+v.cssEase,N},b=we.getTrackLeft=function(v){if(v.unslick)return 0;j(v,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var N=v.slideIndex,Q=v.trackRef,K=v.infinite,te=v.centerMode,de=v.slideCount,Y=v.slidesToShow,oe=v.slidesToScroll,he=v.slideWidth,xe=v.listWidth,_e=v.variableWidth,Ne=v.slideHeight,Ce=v.fade,Pe=v.vertical,Re=0,Oe,Ge,je=0;if(Ce||v.slideCount===1)return 0;var yt=0;if(K?(yt=-k(v),de%oe!==0&&N+oe>de&&(yt=-(N>de?Y-(N-de):de%oe)),te&&(yt+=parseInt(Y/2))):(de%oe!==0&&N+oe>de&&(yt=Y-de%oe),te&&(yt=parseInt(Y/2))),Re=yt*he,je=yt*Ne,Pe?Oe=N*Ne*-1+je:Oe=N*he*-1+Re,_e===!0){var vt,xt=Q&&Q.node;if(vt=N+k(v),Ge=xt&&xt.childNodes[vt],Oe=Ge?Ge.offsetLeft*-1:0,te===!0){vt=K?N+k(v):N,Ge=xt&&xt.children[vt],Oe=0;for(var Rt=0;Rt<vt;Rt++)Oe-=xt&&xt.children[Rt]&&xt.children[Rt].offsetWidth;Oe-=parseInt(v.centerPadding),Oe+=Ge&&(xe-Ge.offsetWidth)/2}}return Oe},k=we.getPreClones=function(v){return v.unslick||!v.infinite?0:v.variableWidth?v.slideCount:v.slidesToShow+(v.centerMode?1:0)},V=we.getPostClones=function(v){return v.unslick||!v.infinite?0:v.slideCount},C=we.getTotalSlides=function(v){return v.slideCount===1?1:k(v)+v.slideCount+V(v)},z=we.siblingDirection=function(v){return v.targetSlide>v.currentSlide?v.targetSlide>v.currentSlide+ae(v)?"left":"right":v.targetSlide<v.currentSlide-L(v)?"right":"left"},ae=we.slidesOnRight=function(v){var N=v.slidesToShow,Q=v.centerMode,K=v.rtl,te=v.centerPadding;if(Q){var de=(N-1)/2+1;return parseInt(te)>0&&(de+=1),K&&N%2===0&&(de+=1),de}return K?0:N-1},L=we.slidesOnLeft=function(v){var N=v.slidesToShow,Q=v.centerMode,K=v.rtl,te=v.centerPadding;if(Q){var de=(N-1)/2+1;return parseInt(te)>0&&(de+=1),!K&&N%2===0&&(de+=1),de}return K?N-1:0};we.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var _=we.validSettings=Object.keys(e.default);function fe($){return _.reduce(function(v,N){return $.hasOwnProperty(N)&&(v[N]=$[N]),v},{})}return we}var Jo={},h_;function PI(){if(h_)return Jo;h_=1,Object.defineProperty(Jo,"__esModule",{value:!0}),Jo.Track=void 0;var s=i(Gs()),e=i(Ch()),t=Uc();function i(T){return T&&T.__esModule?T:{default:T}}function l(T){"@babel/helpers - typeof";return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},l(T)}function c(){return c=Object.assign?Object.assign.bind():function(T){for(var b=1;b<arguments.length;b++){var k=arguments[b];for(var V in k)Object.prototype.hasOwnProperty.call(k,V)&&(T[V]=k[V])}return T},c.apply(this,arguments)}function h(T,b){if(!(T instanceof b))throw new TypeError("Cannot call a class as a function")}function m(T,b){for(var k=0;k<b.length;k++){var V=b[k];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(T,J(V.key),V)}}function g(T,b,k){return b&&m(T.prototype,b),Object.defineProperty(T,"prototype",{writable:!1}),T}function y(T,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(b&&b.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),Object.defineProperty(T,"prototype",{writable:!1}),b&&w(T,b)}function w(T,b){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(V,C){return V.__proto__=C,V},w(T,b)}function A(T){var b=U();return function(){var V=M(T),C;if(b){var z=M(this).constructor;C=Reflect.construct(V,arguments,z)}else C=V.apply(this,arguments);return R(this,C)}}function R(T,b){if(b&&(l(b)==="object"||typeof b=="function"))return b;if(b!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q(T)}function q(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}function U(){try{var T=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U=function(){return!!T})()}function M(T){return M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(k){return k.__proto__||Object.getPrototypeOf(k)},M(T)}function B(T,b){var k=Object.keys(T);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(T);b&&(V=V.filter(function(C){return Object.getOwnPropertyDescriptor(T,C).enumerable})),k.push.apply(k,V)}return k}function X(T){for(var b=1;b<arguments.length;b++){var k=arguments[b]!=null?arguments[b]:{};b%2?B(Object(k),!0).forEach(function(V){Z(T,V,k[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(k)):B(Object(k)).forEach(function(V){Object.defineProperty(T,V,Object.getOwnPropertyDescriptor(k,V))})}return T}function Z(T,b,k){return b=J(b),b in T?Object.defineProperty(T,b,{value:k,enumerable:!0,configurable:!0,writable:!0}):T[b]=k,T}function J(T){var b=se(T,"string");return l(b)=="symbol"?b:String(b)}function se(T,b){if(l(T)!="object"||!T)return T;var k=T[Symbol.toPrimitive];if(k!==void 0){var V=k.call(T,b);if(l(V)!="object")return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return(b==="string"?String:Number)(T)}var O=function(b){var k,V,C,z,ae;b.rtl?ae=b.slideCount-1-b.index:ae=b.index,C=ae<0||ae>=b.slideCount,b.centerMode?(z=Math.floor(b.slidesToShow/2),V=(ae-b.currentSlide)%b.slideCount===0,ae>b.currentSlide-z-1&&ae<=b.currentSlide+z&&(k=!0)):k=b.currentSlide<=ae&&ae<b.currentSlide+b.slidesToShow;var L;b.targetSlide<0?L=b.targetSlide+b.slideCount:b.targetSlide>=b.slideCount?L=b.targetSlide-b.slideCount:L=b.targetSlide;var _=ae===L;return{"slick-slide":!0,"slick-active":k,"slick-center":V,"slick-cloned":C,"slick-current":_}},F=function(b){var k={};return(b.variableWidth===void 0||b.variableWidth===!1)&&(k.width=b.slideWidth),b.fade&&(k.position="relative",b.vertical?k.top=-b.index*parseInt(b.slideHeight):k.left=-b.index*parseInt(b.slideWidth),k.opacity=b.currentSlide===b.index?1:0,k.zIndex=b.currentSlide===b.index?999:998,b.useCSS&&(k.transition="opacity "+b.speed+"ms "+b.cssEase+", visibility "+b.speed+"ms "+b.cssEase)),k},j=function(b,k){return b.key||k},I=function(b){var k,V=[],C=[],z=[],ae=s.default.Children.count(b.children),L=(0,t.lazyStartIndex)(b),_=(0,t.lazyEndIndex)(b);return s.default.Children.forEach(b.children,function(fe,$){var v,N={message:"children",index:$,slidesToScroll:b.slidesToScroll,currentSlide:b.currentSlide};!b.lazyLoad||b.lazyLoad&&b.lazyLoadedList.indexOf($)>=0?v=fe:v=s.default.createElement("div",null);var Q=F(X(X({},b),{},{index:$})),K=v.props.className||"",te=O(X(X({},b),{},{index:$}));if(V.push(s.default.cloneElement(v,{key:"original"+j(v,$),"data-index":$,className:(0,e.default)(te,K),tabIndex:"-1","aria-hidden":!te["slick-active"],style:X(X({outline:"none"},v.props.style||{}),Q),onClick:function(oe){v.props&&v.props.onClick&&v.props.onClick(oe),b.focusOnSelect&&b.focusOnSelect(N)}})),b.infinite&&b.fade===!1){var de=ae-$;de<=(0,t.getPreClones)(b)&&(k=-de,k>=L&&(v=fe),te=O(X(X({},b),{},{index:k})),C.push(s.default.cloneElement(v,{key:"precloned"+j(v,k),"data-index":k,tabIndex:"-1",className:(0,e.default)(te,K),"aria-hidden":!te["slick-active"],style:X(X({},v.props.style||{}),Q),onClick:function(oe){v.props&&v.props.onClick&&v.props.onClick(oe),b.focusOnSelect&&b.focusOnSelect(N)}}))),k=ae+$,k<_&&(v=fe),te=O(X(X({},b),{},{index:k})),z.push(s.default.cloneElement(v,{key:"postcloned"+j(v,k),"data-index":k,tabIndex:"-1",className:(0,e.default)(te,K),"aria-hidden":!te["slick-active"],style:X(X({},v.props.style||{}),Q),onClick:function(oe){v.props&&v.props.onClick&&v.props.onClick(oe),b.focusOnSelect&&b.focusOnSelect(N)}}))}}),b.rtl?C.concat(V,z).reverse():C.concat(V,z)};return Jo.Track=function(T){y(k,T);var b=A(k);function k(){var V;h(this,k);for(var C=arguments.length,z=new Array(C),ae=0;ae<C;ae++)z[ae]=arguments[ae];return V=b.call.apply(b,[this].concat(z)),Z(q(V),"node",null),Z(q(V),"handleRef",function(L){V.node=L}),V}return g(k,[{key:"render",value:function(){var C=I(this.props),z=this.props,ae=z.onMouseEnter,L=z.onMouseOver,_=z.onMouseLeave,fe={onMouseEnter:ae,onMouseOver:L,onMouseLeave:_};return s.default.createElement("div",c({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},fe),C)}}]),k}(s.default.PureComponent),Jo}var ec={},f_;function LI(){if(f_)return ec;f_=1;function s(O){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},s(O)}Object.defineProperty(ec,"__esModule",{value:!0}),ec.Dots=void 0;var e=l(Gs()),t=l(Ch()),i=Uc();function l(O){return O&&O.__esModule?O:{default:O}}function c(O,F){var j=Object.keys(O);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(O);F&&(I=I.filter(function(T){return Object.getOwnPropertyDescriptor(O,T).enumerable})),j.push.apply(j,I)}return j}function h(O){for(var F=1;F<arguments.length;F++){var j=arguments[F]!=null?arguments[F]:{};F%2?c(Object(j),!0).forEach(function(I){m(O,I,j[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(j)):c(Object(j)).forEach(function(I){Object.defineProperty(O,I,Object.getOwnPropertyDescriptor(j,I))})}return O}function m(O,F,j){return F=A(F),F in O?Object.defineProperty(O,F,{value:j,enumerable:!0,configurable:!0,writable:!0}):O[F]=j,O}function g(O,F){if(!(O instanceof F))throw new TypeError("Cannot call a class as a function")}function y(O,F){for(var j=0;j<F.length;j++){var I=F[j];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(O,A(I.key),I)}}function w(O,F,j){return F&&y(O.prototype,F),Object.defineProperty(O,"prototype",{writable:!1}),O}function A(O){var F=R(O,"string");return s(F)=="symbol"?F:String(F)}function R(O,F){if(s(O)!="object"||!O)return O;var j=O[Symbol.toPrimitive];if(j!==void 0){var I=j.call(O,F);if(s(I)!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}function q(O,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(F&&F.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),F&&U(O,F)}function U(O,F){return U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,T){return I.__proto__=T,I},U(O,F)}function M(O){var F=Z();return function(){var I=J(O),T;if(F){var b=J(this).constructor;T=Reflect.construct(I,arguments,b)}else T=I.apply(this,arguments);return B(this,T)}}function B(O,F){if(F&&(s(F)==="object"||typeof F=="function"))return F;if(F!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X(O)}function X(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function Z(){try{var O=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z=function(){return!!O})()}function J(O){return J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(j){return j.__proto__||Object.getPrototypeOf(j)},J(O)}var se=function(F){var j;return F.infinite?j=Math.ceil(F.slideCount/F.slidesToScroll):j=Math.ceil((F.slideCount-F.slidesToShow)/F.slidesToScroll)+1,j};return ec.Dots=function(O){q(j,O);var F=M(j);function j(){return g(this,j),F.apply(this,arguments)}return w(j,[{key:"clickHandler",value:function(T,b){b.preventDefault(),this.props.clickHandler(T)}},{key:"render",value:function(){for(var T=this.props,b=T.onMouseEnter,k=T.onMouseOver,V=T.onMouseLeave,C=T.infinite,z=T.slidesToScroll,ae=T.slidesToShow,L=T.slideCount,_=T.currentSlide,fe=se({slideCount:L,slidesToScroll:z,slidesToShow:ae,infinite:C}),$={onMouseEnter:b,onMouseOver:k,onMouseLeave:V},v=[],N=0;N<fe;N++){var Q=(N+1)*z-1,K=C?Q:(0,i.clamp)(Q,0,L-1),te=K-(z-1),de=C?te:(0,i.clamp)(te,0,L-1),Y=(0,t.default)({"slick-active":C?_>=de&&_<=K:_===de}),oe={message:"dots",index:N,slidesToScroll:z,currentSlide:_},he=this.clickHandler.bind(this,oe);v=v.concat(e.default.createElement("li",{key:N,className:Y},e.default.cloneElement(this.props.customPaging(N),{onClick:he})))}return e.default.cloneElement(this.props.appendDots(v),h({className:this.props.dotsClass},$))}}]),j}(e.default.PureComponent),ec}var aa={},m_;function VI(){if(m_)return aa;m_=1;function s(O){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},s(O)}Object.defineProperty(aa,"__esModule",{value:!0}),aa.PrevArrow=aa.NextArrow=void 0;var e=l(Gs()),t=l(Ch()),i=Uc();function l(O){return O&&O.__esModule?O:{default:O}}function c(){return c=Object.assign?Object.assign.bind():function(O){for(var F=1;F<arguments.length;F++){var j=arguments[F];for(var I in j)Object.prototype.hasOwnProperty.call(j,I)&&(O[I]=j[I])}return O},c.apply(this,arguments)}function h(O,F){var j=Object.keys(O);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(O);F&&(I=I.filter(function(T){return Object.getOwnPropertyDescriptor(O,T).enumerable})),j.push.apply(j,I)}return j}function m(O){for(var F=1;F<arguments.length;F++){var j=arguments[F]!=null?arguments[F]:{};F%2?h(Object(j),!0).forEach(function(I){g(O,I,j[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(j)):h(Object(j)).forEach(function(I){Object.defineProperty(O,I,Object.getOwnPropertyDescriptor(j,I))})}return O}function g(O,F,j){return F=R(F),F in O?Object.defineProperty(O,F,{value:j,enumerable:!0,configurable:!0,writable:!0}):O[F]=j,O}function y(O,F){if(!(O instanceof F))throw new TypeError("Cannot call a class as a function")}function w(O,F){for(var j=0;j<F.length;j++){var I=F[j];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(O,R(I.key),I)}}function A(O,F,j){return F&&w(O.prototype,F),Object.defineProperty(O,"prototype",{writable:!1}),O}function R(O){var F=q(O,"string");return s(F)=="symbol"?F:String(F)}function q(O,F){if(s(O)!="object"||!O)return O;var j=O[Symbol.toPrimitive];if(j!==void 0){var I=j.call(O,F);if(s(I)!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}function U(O,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(F&&F.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),F&&M(O,F)}function M(O,F){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,T){return I.__proto__=T,I},M(O,F)}function B(O){var F=J();return function(){var I=se(O),T;if(F){var b=se(this).constructor;T=Reflect.construct(I,arguments,b)}else T=I.apply(this,arguments);return X(this,T)}}function X(O,F){if(F&&(s(F)==="object"||typeof F=="function"))return F;if(F!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Z(O)}function Z(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function J(){try{var O=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J=function(){return!!O})()}function se(O){return se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(j){return j.__proto__||Object.getPrototypeOf(j)},se(O)}return aa.PrevArrow=function(O){U(j,O);var F=B(j);function j(){return y(this,j),F.apply(this,arguments)}return A(j,[{key:"clickHandler",value:function(T,b){b&&b.preventDefault(),this.props.clickHandler(T,b)}},{key:"render",value:function(){var T={"slick-arrow":!0,"slick-prev":!0},b=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(T["slick-disabled"]=!0,b=null);var k={key:"0","data-role":"none",className:(0,t.default)(T),style:{display:"block"},onClick:b},V={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},C;return this.props.prevArrow?C=e.default.cloneElement(this.props.prevArrow,m(m({},k),V)):C=e.default.createElement("button",c({key:"0",type:"button"},k)," ","Previous"),C}}]),j}(e.default.PureComponent),aa.NextArrow=function(O){U(j,O);var F=B(j);function j(){return y(this,j),F.apply(this,arguments)}return A(j,[{key:"clickHandler",value:function(T,b){b&&b.preventDefault(),this.props.clickHandler(T,b)}},{key:"render",value:function(){var T={"slick-arrow":!0,"slick-next":!0},b=this.clickHandler.bind(this,{message:"next"});(0,i.canGoNext)(this.props)||(T["slick-disabled"]=!0,b=null);var k={key:"1","data-role":"none",className:(0,t.default)(T),style:{display:"block"},onClick:b},V={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},C;return this.props.nextArrow?C=e.default.cloneElement(this.props.nextArrow,m(m({},k),V)):C=e.default.createElement("button",c({key:"1",type:"button"},k)," ","Next"),C}}]),j}(e.default.PureComponent),aa}var R2=function(){if(typeof Map<"u")return Map;function s(e,t){var i=-1;return e.some(function(l,c){return l[0]===t?(i=c,!0):!1}),i}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var i=s(this.__entries__,t),l=this.__entries__[i];return l&&l[1]},e.prototype.set=function(t,i){var l=s(this.__entries__,t);~l?this.__entries__[l][1]=i:this.__entries__.push([t,i])},e.prototype.delete=function(t){var i=this.__entries__,l=s(i,t);~l&&i.splice(l,1)},e.prototype.has=function(t){return!!~s(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,i){i===void 0&&(i=null);for(var l=0,c=this.__entries__;l<c.length;l++){var h=c[l];t.call(i,h[1],h[0])}},e}()}(),qp=typeof window<"u"&&typeof document<"u"&&window.document===document,Jd=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),UI=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Jd):function(s){return setTimeout(function(){return s(Date.now())},1e3/60)}}(),zI=2;function FI(s,e){var t=!1,i=!1,l=0;function c(){t&&(t=!1,s()),i&&m()}function h(){UI(c)}function m(){var g=Date.now();if(t){if(g-l<zI)return;i=!0}else t=!0,i=!1,setTimeout(h,e);l=g}return m}var qI=20,BI=["top","right","bottom","left","width","height","size","weight"],HI=typeof MutationObserver<"u",GI=function(){function s(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=FI(this.refresh.bind(this),qI)}return s.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},s.prototype.removeObserver=function(e){var t=this.observers_,i=t.indexOf(e);~i&&t.splice(i,1),!t.length&&this.connected_&&this.disconnect_()},s.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},s.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},s.prototype.connect_=function(){!qp||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),HI?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},s.prototype.disconnect_=function(){!qp||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},s.prototype.onTransitionEnd_=function(e){var t=e.propertyName,i=t===void 0?"":t,l=BI.some(function(c){return!!~i.indexOf(c)});l&&this.refresh()},s.getInstance=function(){return this.instance_||(this.instance_=new s),this.instance_},s.instance_=null,s}(),I2=function(s,e){for(var t=0,i=Object.keys(e);t<i.length;t++){var l=i[t];Object.defineProperty(s,l,{value:e[l],enumerable:!1,writable:!1,configurable:!0})}return s},Il=function(s){var e=s&&s.ownerDocument&&s.ownerDocument.defaultView;return e||Jd},C2=Oh(0,0,0,0);function eh(s){return parseFloat(s)||0}function p_(s){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(i,l){var c=s["border-"+l+"-width"];return i+eh(c)},0)}function $I(s){for(var e=["top","right","bottom","left"],t={},i=0,l=e;i<l.length;i++){var c=l[i],h=s["padding-"+c];t[c]=eh(h)}return t}function QI(s){var e=s.getBBox();return Oh(0,0,e.width,e.height)}function YI(s){var e=s.clientWidth,t=s.clientHeight;if(!e&&!t)return C2;var i=Il(s).getComputedStyle(s),l=$I(i),c=l.left+l.right,h=l.top+l.bottom,m=eh(i.width),g=eh(i.height);if(i.boxSizing==="border-box"&&(Math.round(m+c)!==e&&(m-=p_(i,"left","right")+c),Math.round(g+h)!==t&&(g-=p_(i,"top","bottom")+h)),!XI(s)){var y=Math.round(m+c)-e,w=Math.round(g+h)-t;Math.abs(y)!==1&&(m-=y),Math.abs(w)!==1&&(g-=w)}return Oh(l.left,l.top,m,g)}var KI=function(){return typeof SVGGraphicsElement<"u"?function(s){return s instanceof Il(s).SVGGraphicsElement}:function(s){return s instanceof Il(s).SVGElement&&typeof s.getBBox=="function"}}();function XI(s){return s===Il(s).document.documentElement}function WI(s){return qp?KI(s)?QI(s):YI(s):C2}function ZI(s){var e=s.x,t=s.y,i=s.width,l=s.height,c=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,h=Object.create(c.prototype);return I2(h,{x:e,y:t,width:i,height:l,top:t,right:e+i,bottom:l+t,left:e}),h}function Oh(s,e,t,i){return{x:s,y:e,width:t,height:i}}var JI=function(){function s(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Oh(0,0,0,0),this.target=e}return s.prototype.isActive=function(){var e=WI(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},s.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},s}(),eC=function(){function s(e,t){var i=ZI(t);I2(this,{target:e,contentRect:i})}return s}(),tC=function(){function s(e,t,i){if(this.activeObservations_=[],this.observations_=new R2,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=i}return s.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Il(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new JI(e)),this.controller_.addObserver(this),this.controller_.refresh())}},s.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Il(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},s.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},s.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},s.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(i){return new eC(i.target,i.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},s.prototype.clearActive=function(){this.activeObservations_.splice(0)},s.prototype.hasActive=function(){return this.activeObservations_.length>0},s}(),O2=typeof WeakMap<"u"?new WeakMap:new R2,D2=function(){function s(e){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=GI.getInstance(),i=new tC(e,t,this);O2.set(this,i)}return s}();["observe","unobserve","disconnect"].forEach(function(s){D2.prototype[s]=function(){var e;return(e=O2.get(this))[s].apply(e,arguments)}});var nC=function(){return typeof Jd.ResizeObserver<"u"?Jd.ResizeObserver:D2}();const sC=Object.freeze(Object.defineProperty({__proto__:null,default:nC},Symbol.toStringTag,{value:"Module"})),rC=aT(sC);var g_;function iC(){if(g_)return Zo;g_=1,Object.defineProperty(Zo,"__esModule",{value:!0}),Zo.InnerSlider=void 0;var s=y(Gs()),e=y(kI()),t=y(MI()),i=y(Ch()),l=Uc(),c=PI(),h=LI(),m=VI(),g=y(rC);function y(C){return C&&C.__esModule?C:{default:C}}function w(C){"@babel/helpers - typeof";return w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},w(C)}function A(){return A=Object.assign?Object.assign.bind():function(C){for(var z=1;z<arguments.length;z++){var ae=arguments[z];for(var L in ae)Object.prototype.hasOwnProperty.call(ae,L)&&(C[L]=ae[L])}return C},A.apply(this,arguments)}function R(C,z){if(C==null)return{};var ae=q(C,z),L,_;if(Object.getOwnPropertySymbols){var fe=Object.getOwnPropertySymbols(C);for(_=0;_<fe.length;_++)L=fe[_],!(z.indexOf(L)>=0)&&Object.prototype.propertyIsEnumerable.call(C,L)&&(ae[L]=C[L])}return ae}function q(C,z){if(C==null)return{};var ae={},L=Object.keys(C),_,fe;for(fe=0;fe<L.length;fe++)_=L[fe],!(z.indexOf(_)>=0)&&(ae[_]=C[_]);return ae}function U(C,z){var ae=Object.keys(C);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(C);z&&(L=L.filter(function(_){return Object.getOwnPropertyDescriptor(C,_).enumerable})),ae.push.apply(ae,L)}return ae}function M(C){for(var z=1;z<arguments.length;z++){var ae=arguments[z]!=null?arguments[z]:{};z%2?U(Object(ae),!0).forEach(function(L){b(C,L,ae[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(ae)):U(Object(ae)).forEach(function(L){Object.defineProperty(C,L,Object.getOwnPropertyDescriptor(ae,L))})}return C}function B(C,z){if(!(C instanceof z))throw new TypeError("Cannot call a class as a function")}function X(C,z){for(var ae=0;ae<z.length;ae++){var L=z[ae];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(C,k(L.key),L)}}function Z(C,z,ae){return z&&X(C.prototype,z),Object.defineProperty(C,"prototype",{writable:!1}),C}function J(C,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(z&&z.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),Object.defineProperty(C,"prototype",{writable:!1}),z&&se(C,z)}function se(C,z){return se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,_){return L.__proto__=_,L},se(C,z)}function O(C){var z=I();return function(){var L=T(C),_;if(z){var fe=T(this).constructor;_=Reflect.construct(L,arguments,fe)}else _=L.apply(this,arguments);return F(this,_)}}function F(C,z){if(z&&(w(z)==="object"||typeof z=="function"))return z;if(z!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j(C)}function j(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}function I(){try{var C=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I=function(){return!!C})()}function T(C){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ae){return ae.__proto__||Object.getPrototypeOf(ae)},T(C)}function b(C,z,ae){return z=k(z),z in C?Object.defineProperty(C,z,{value:ae,enumerable:!0,configurable:!0,writable:!0}):C[z]=ae,C}function k(C){var z=V(C,"string");return w(z)=="symbol"?z:String(z)}function V(C,z){if(w(C)!="object"||!C)return C;var ae=C[Symbol.toPrimitive];if(ae!==void 0){var L=ae.call(C,z);if(w(L)!="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return(z==="string"?String:Number)(C)}return Zo.InnerSlider=function(C){J(ae,C);var z=O(ae);function ae(L){var _;B(this,ae),_=z.call(this,L),b(j(_),"listRefHandler",function($){return _.list=$}),b(j(_),"trackRefHandler",function($){return _.track=$}),b(j(_),"adaptHeight",function(){if(_.props.adaptiveHeight&&_.list){var $=_.list.querySelector('[data-index="'.concat(_.state.currentSlide,'"]'));_.list.style.height=(0,l.getHeight)($)+"px"}}),b(j(_),"componentDidMount",function(){if(_.props.onInit&&_.props.onInit(),_.props.lazyLoad){var $=(0,l.getOnDemandLazySlides)(M(M({},_.props),_.state));$.length>0&&(_.setState(function(N){return{lazyLoadedList:N.lazyLoadedList.concat($)}}),_.props.onLazyLoad&&_.props.onLazyLoad($))}var v=M({listRef:_.list,trackRef:_.track},_.props);_.updateState(v,!0,function(){_.adaptHeight(),_.props.autoplay&&_.autoPlay("update")}),_.props.lazyLoad==="progressive"&&(_.lazyLoadTimer=setInterval(_.progressiveLazyLoad,1e3)),_.ro=new g.default(function(){_.state.animating?(_.onWindowResized(!1),_.callbackTimers.push(setTimeout(function(){return _.onWindowResized()},_.props.speed))):_.onWindowResized()}),_.ro.observe(_.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(N){N.onfocus=_.props.pauseOnFocus?_.onSlideFocus:null,N.onblur=_.props.pauseOnFocus?_.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",_.onWindowResized):window.attachEvent("onresize",_.onWindowResized)}),b(j(_),"componentWillUnmount",function(){_.animationEndCallback&&clearTimeout(_.animationEndCallback),_.lazyLoadTimer&&clearInterval(_.lazyLoadTimer),_.callbackTimers.length&&(_.callbackTimers.forEach(function($){return clearTimeout($)}),_.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",_.onWindowResized):window.detachEvent("onresize",_.onWindowResized),_.autoplayTimer&&clearInterval(_.autoplayTimer),_.ro.disconnect()}),b(j(_),"componentDidUpdate",function($){if(_.checkImagesLoad(),_.props.onReInit&&_.props.onReInit(),_.props.lazyLoad){var v=(0,l.getOnDemandLazySlides)(M(M({},_.props),_.state));v.length>0&&(_.setState(function(K){return{lazyLoadedList:K.lazyLoadedList.concat(v)}}),_.props.onLazyLoad&&_.props.onLazyLoad(v))}_.adaptHeight();var N=M(M({listRef:_.list,trackRef:_.track},_.props),_.state),Q=_.didPropsChange($);Q&&_.updateState(N,Q,function(){_.state.currentSlide>=s.default.Children.count(_.props.children)&&_.changeSlide({message:"index",index:s.default.Children.count(_.props.children)-_.props.slidesToShow,currentSlide:_.state.currentSlide}),_.props.autoplay?_.autoPlay("update"):_.pause("paused")})}),b(j(_),"onWindowResized",function($){_.debouncedResize&&_.debouncedResize.cancel(),_.debouncedResize=(0,t.default)(function(){return _.resizeWindow($)},50),_.debouncedResize()}),b(j(_),"resizeWindow",function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,v=!!(_.track&&_.track.node);if(v){var N=M(M({listRef:_.list,trackRef:_.track},_.props),_.state);_.updateState(N,$,function(){_.props.autoplay?_.autoPlay("update"):_.pause("paused")}),_.setState({animating:!1}),clearTimeout(_.animationEndCallback),delete _.animationEndCallback}}),b(j(_),"updateState",function($,v,N){var Q=(0,l.initializedState)($);$=M(M(M({},$),Q),{},{slideIndex:Q.currentSlide});var K=(0,l.getTrackLeft)($);$=M(M({},$),{},{left:K});var te=(0,l.getTrackCSS)($);(v||s.default.Children.count(_.props.children)!==s.default.Children.count($.children))&&(Q.trackStyle=te),_.setState(Q,N)}),b(j(_),"ssrInit",function(){if(_.props.variableWidth){var $=0,v=0,N=[],Q=(0,l.getPreClones)(M(M(M({},_.props),_.state),{},{slideCount:_.props.children.length})),K=(0,l.getPostClones)(M(M(M({},_.props),_.state),{},{slideCount:_.props.children.length}));_.props.children.forEach(function(Ge){N.push(Ge.props.style.width),$+=Ge.props.style.width});for(var te=0;te<Q;te++)v+=N[N.length-1-te],$+=N[N.length-1-te];for(var de=0;de<K;de++)$+=N[de];for(var Y=0;Y<_.state.currentSlide;Y++)v+=N[Y];var oe={width:$+"px",left:-v+"px"};if(_.props.centerMode){var he="".concat(N[_.state.currentSlide],"px");oe.left="calc(".concat(oe.left," + (100% - ").concat(he,") / 2 ) ")}return{trackStyle:oe}}var xe=s.default.Children.count(_.props.children),_e=M(M(M({},_.props),_.state),{},{slideCount:xe}),Ne=(0,l.getPreClones)(_e)+(0,l.getPostClones)(_e)+xe,Ce=100/_.props.slidesToShow*Ne,Pe=100/Ne,Re=-Pe*((0,l.getPreClones)(_e)+_.state.currentSlide)*Ce/100;_.props.centerMode&&(Re+=(100-Pe*Ce/100)/2);var Oe={width:Ce+"%",left:Re+"%"};return{slideWidth:Pe+"%",trackStyle:Oe}}),b(j(_),"checkImagesLoad",function(){var $=_.list&&_.list.querySelectorAll&&_.list.querySelectorAll(".slick-slide img")||[],v=$.length,N=0;Array.prototype.forEach.call($,function(Q){var K=function(){return++N&&N>=v&&_.onWindowResized()};if(!Q.onclick)Q.onclick=function(){return Q.parentNode.focus()};else{var te=Q.onclick;Q.onclick=function(de){te(de),Q.parentNode.focus()}}Q.onload||(_.props.lazyLoad?Q.onload=function(){_.adaptHeight(),_.callbackTimers.push(setTimeout(_.onWindowResized,_.props.speed))}:(Q.onload=K,Q.onerror=function(){K(),_.props.onLazyLoadError&&_.props.onLazyLoadError()}))})}),b(j(_),"progressiveLazyLoad",function(){for(var $=[],v=M(M({},_.props),_.state),N=_.state.currentSlide;N<_.state.slideCount+(0,l.getPostClones)(v);N++)if(_.state.lazyLoadedList.indexOf(N)<0){$.push(N);break}for(var Q=_.state.currentSlide-1;Q>=-(0,l.getPreClones)(v);Q--)if(_.state.lazyLoadedList.indexOf(Q)<0){$.push(Q);break}$.length>0?(_.setState(function(K){return{lazyLoadedList:K.lazyLoadedList.concat($)}}),_.props.onLazyLoad&&_.props.onLazyLoad($)):_.lazyLoadTimer&&(clearInterval(_.lazyLoadTimer),delete _.lazyLoadTimer)}),b(j(_),"slideHandler",function($){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,N=_.props,Q=N.asNavFor,K=N.beforeChange,te=N.onLazyLoad,de=N.speed,Y=N.afterChange,oe=_.state.currentSlide,he=(0,l.slideHandler)(M(M(M({index:$},_.props),_.state),{},{trackRef:_.track,useCSS:_.props.useCSS&&!v})),xe=he.state,_e=he.nextState;if(xe){K&&K(oe,xe.currentSlide);var Ne=xe.lazyLoadedList.filter(function(Ce){return _.state.lazyLoadedList.indexOf(Ce)<0});te&&Ne.length>0&&te(Ne),!_.props.waitForAnimate&&_.animationEndCallback&&(clearTimeout(_.animationEndCallback),Y&&Y(oe),delete _.animationEndCallback),_.setState(xe,function(){Q&&_.asNavForIndex!==$&&(_.asNavForIndex=$,Q.innerSlider.slideHandler($)),_e&&(_.animationEndCallback=setTimeout(function(){var Ce=_e.animating,Pe=R(_e,["animating"]);_.setState(Pe,function(){_.callbackTimers.push(setTimeout(function(){return _.setState({animating:Ce})},10)),Y&&Y(xe.currentSlide),delete _.animationEndCallback})},de))})}}),b(j(_),"changeSlide",function($){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,N=M(M({},_.props),_.state),Q=(0,l.changeSlide)(N,$);if(!(Q!==0&&!Q)&&(v===!0?_.slideHandler(Q,v):_.slideHandler(Q),_.props.autoplay&&_.autoPlay("update"),_.props.focusOnSelect)){var K=_.list.querySelectorAll(".slick-current");K[0]&&K[0].focus()}}),b(j(_),"clickHandler",function($){_.clickable===!1&&($.stopPropagation(),$.preventDefault()),_.clickable=!0}),b(j(_),"keyHandler",function($){var v=(0,l.keyHandler)($,_.props.accessibility,_.props.rtl);v!==""&&_.changeSlide({message:v})}),b(j(_),"selectHandler",function($){_.changeSlide($)}),b(j(_),"disableBodyScroll",function(){var $=function(N){N=N||window.event,N.preventDefault&&N.preventDefault(),N.returnValue=!1};window.ontouchmove=$}),b(j(_),"enableBodyScroll",function(){window.ontouchmove=null}),b(j(_),"swipeStart",function($){_.props.verticalSwiping&&_.disableBodyScroll();var v=(0,l.swipeStart)($,_.props.swipe,_.props.draggable);v!==""&&_.setState(v)}),b(j(_),"swipeMove",function($){var v=(0,l.swipeMove)($,M(M(M({},_.props),_.state),{},{trackRef:_.track,listRef:_.list,slideIndex:_.state.currentSlide}));v&&(v.swiping&&(_.clickable=!1),_.setState(v))}),b(j(_),"swipeEnd",function($){var v=(0,l.swipeEnd)($,M(M(M({},_.props),_.state),{},{trackRef:_.track,listRef:_.list,slideIndex:_.state.currentSlide}));if(v){var N=v.triggerSlideHandler;delete v.triggerSlideHandler,_.setState(v),N!==void 0&&(_.slideHandler(N),_.props.verticalSwiping&&_.enableBodyScroll())}}),b(j(_),"touchEnd",function($){_.swipeEnd($),_.clickable=!0}),b(j(_),"slickPrev",function(){_.callbackTimers.push(setTimeout(function(){return _.changeSlide({message:"previous"})},0))}),b(j(_),"slickNext",function(){_.callbackTimers.push(setTimeout(function(){return _.changeSlide({message:"next"})},0))}),b(j(_),"slickGoTo",function($){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if($=Number($),isNaN($))return"";_.callbackTimers.push(setTimeout(function(){return _.changeSlide({message:"index",index:$,currentSlide:_.state.currentSlide},v)},0))}),b(j(_),"play",function(){var $;if(_.props.rtl)$=_.state.currentSlide-_.props.slidesToScroll;else if((0,l.canGoNext)(M(M({},_.props),_.state)))$=_.state.currentSlide+_.props.slidesToScroll;else return!1;_.slideHandler($)}),b(j(_),"autoPlay",function($){_.autoplayTimer&&clearInterval(_.autoplayTimer);var v=_.state.autoplaying;if($==="update"){if(v==="hovered"||v==="focused"||v==="paused")return}else if($==="leave"){if(v==="paused"||v==="focused")return}else if($==="blur"&&(v==="paused"||v==="hovered"))return;_.autoplayTimer=setInterval(_.play,_.props.autoplaySpeed+50),_.setState({autoplaying:"playing"})}),b(j(_),"pause",function($){_.autoplayTimer&&(clearInterval(_.autoplayTimer),_.autoplayTimer=null);var v=_.state.autoplaying;$==="paused"?_.setState({autoplaying:"paused"}):$==="focused"?(v==="hovered"||v==="playing")&&_.setState({autoplaying:"focused"}):v==="playing"&&_.setState({autoplaying:"hovered"})}),b(j(_),"onDotsOver",function(){return _.props.autoplay&&_.pause("hovered")}),b(j(_),"onDotsLeave",function(){return _.props.autoplay&&_.state.autoplaying==="hovered"&&_.autoPlay("leave")}),b(j(_),"onTrackOver",function(){return _.props.autoplay&&_.pause("hovered")}),b(j(_),"onTrackLeave",function(){return _.props.autoplay&&_.state.autoplaying==="hovered"&&_.autoPlay("leave")}),b(j(_),"onSlideFocus",function(){return _.props.autoplay&&_.pause("focused")}),b(j(_),"onSlideBlur",function(){return _.props.autoplay&&_.state.autoplaying==="focused"&&_.autoPlay("blur")}),b(j(_),"render",function(){var $=(0,i.default)("slick-slider",_.props.className,{"slick-vertical":_.props.vertical,"slick-initialized":!0}),v=M(M({},_.props),_.state),N=(0,l.extractObject)(v,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),Q=_.props.pauseOnHover;N=M(M({},N),{},{onMouseEnter:Q?_.onTrackOver:null,onMouseLeave:Q?_.onTrackLeave:null,onMouseOver:Q?_.onTrackOver:null,focusOnSelect:_.props.focusOnSelect&&_.clickable?_.selectHandler:null});var K;if(_.props.dots===!0&&_.state.slideCount>=_.props.slidesToShow){var te=(0,l.extractObject)(v,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),de=_.props.pauseOnDotsHover;te=M(M({},te),{},{clickHandler:_.changeSlide,onMouseEnter:de?_.onDotsLeave:null,onMouseOver:de?_.onDotsOver:null,onMouseLeave:de?_.onDotsLeave:null}),K=s.default.createElement(h.Dots,te)}var Y,oe,he=(0,l.extractObject)(v,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);he.clickHandler=_.changeSlide,_.props.arrows&&(Y=s.default.createElement(m.PrevArrow,he),oe=s.default.createElement(m.NextArrow,he));var xe=null;_.props.vertical&&(xe={height:_.state.listHeight});var _e=null;_.props.vertical===!1?_.props.centerMode===!0&&(_e={padding:"0px "+_.props.centerPadding}):_.props.centerMode===!0&&(_e={padding:_.props.centerPadding+" 0px"});var Ne=M(M({},xe),_e),Ce=_.props.touchMove,Pe={className:"slick-list",style:Ne,onClick:_.clickHandler,onMouseDown:Ce?_.swipeStart:null,onMouseMove:_.state.dragging&&Ce?_.swipeMove:null,onMouseUp:Ce?_.swipeEnd:null,onMouseLeave:_.state.dragging&&Ce?_.swipeEnd:null,onTouchStart:Ce?_.swipeStart:null,onTouchMove:_.state.dragging&&Ce?_.swipeMove:null,onTouchEnd:Ce?_.touchEnd:null,onTouchCancel:_.state.dragging&&Ce?_.swipeEnd:null,onKeyDown:_.props.accessibility?_.keyHandler:null},Re={className:$,dir:"ltr",style:_.props.style};return _.props.unslick&&(Pe={className:"slick-list"},Re={className:$}),s.default.createElement("div",Re,_.props.unslick?"":Y,s.default.createElement("div",A({ref:_.listRefHandler},Pe),s.default.createElement(c.Track,A({ref:_.trackRefHandler},N),_.props.children)),_.props.unslick?"":oe,_.props.unslick?"":K)}),_.list=null,_.track=null,_.state=M(M({},e.default),{},{currentSlide:_.props.initialSlide,targetSlide:_.props.initialSlide?_.props.initialSlide:0,slideCount:s.default.Children.count(_.props.children)}),_.callbackTimers=[],_.clickable=!0,_.debouncedResize=null;var fe=_.ssrInit();return _.state=M(M({},_.state),fe),_}return Z(ae,[{key:"didPropsChange",value:function(_){for(var fe=!1,$=0,v=Object.keys(this.props);$<v.length;$++){var N=v[$];if(!_.hasOwnProperty(N)){fe=!0;break}if(!(w(_[N])==="object"||typeof _[N]=="function"||isNaN(_[N]))&&_[N]!==this.props[N]){fe=!0;break}}return fe||s.default.Children.count(this.props.children)!==s.default.Children.count(_.children)}}]),ae}(s.default.Component),Zo}var rp,y_;function aC(){if(y_)return rp;y_=1;var s=function(e){return e.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()}).toLowerCase()};return rp=s,rp}var ip,v_;function lC(){if(v_)return ip;v_=1;var s=aC(),e=function(l){var c=/[height|width]$/;return c.test(l)},t=function(l){var c="",h=Object.keys(l);return h.forEach(function(m,g){var y=l[m];m=s(m),e(m)&&typeof y=="number"&&(y=y+"px"),y===!0?c+=m:y===!1?c+="not "+m:c+="("+m+": "+y+")",g<h.length-1&&(c+=" and ")}),c},i=function(l){var c="";return typeof l=="string"?l:l instanceof Array?(l.forEach(function(h,m){c+=t(h),m<l.length-1&&(c+=", ")}),c):t(l)};return ip=i,ip}var ap,x_;function oC(){if(x_)return ap;x_=1;function s(e){this.options=e,!e.deferSetup&&this.setup()}return s.prototype={constructor:s,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},ap=s,ap}var lp,b_;function k2(){if(b_)return lp;b_=1;function s(i,l){var c=0,h=i.length,m;for(c;c<h&&(m=l(i[c],c),m!==!1);c++);}function e(i){return Object.prototype.toString.apply(i)==="[object Array]"}function t(i){return typeof i=="function"}return lp={isFunction:t,isArray:e,each:s},lp}var op,__;function cC(){if(__)return op;__=1;var s=oC(),e=k2().each;function t(i,l){this.query=i,this.isUnconditional=l,this.handlers=[],this.mql=window.matchMedia(i);var c=this;this.listener=function(h){c.mql=h.currentTarget||h,c.assess()},this.mql.addListener(this.listener)}return t.prototype={constuctor:t,addHandler:function(i){var l=new s(i);this.handlers.push(l),this.matches()&&l.on()},removeHandler:function(i){var l=this.handlers;e(l,function(c,h){if(c.equals(i))return c.destroy(),!l.splice(h,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){e(this.handlers,function(i){i.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var i=this.matches()?"on":"off";e(this.handlers,function(l){l[i]()})}},op=t,op}var cp,w_;function uC(){if(w_)return cp;w_=1;var s=cC(),e=k2(),t=e.each,i=e.isFunction,l=e.isArray;function c(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return c.prototype={constructor:c,register:function(h,m,g){var y=this.queries,w=g&&this.browserIsIncapable;return y[h]||(y[h]=new s(h,w)),i(m)&&(m={match:m}),l(m)||(m=[m]),t(m,function(A){i(A)&&(A={match:A}),y[h].addHandler(A)}),this},unregister:function(h,m){var g=this.queries[h];return g&&(m?g.removeHandler(m):(g.clear(),delete this.queries[h])),this}},cp=c,cp}var up,E_;function dC(){if(E_)return up;E_=1;var s=uC();return up=new s,up}var T_;function hC(){return T_||(T_=1,function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var e=h(Gs()),t=iC(),i=h(lC()),l=h(j2()),c=Uc();function h(T){return T&&T.__esModule?T:{default:T}}function m(T){"@babel/helpers - typeof";return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},m(T)}function g(){return g=Object.assign?Object.assign.bind():function(T){for(var b=1;b<arguments.length;b++){var k=arguments[b];for(var V in k)Object.prototype.hasOwnProperty.call(k,V)&&(T[V]=k[V])}return T},g.apply(this,arguments)}function y(T,b){var k=Object.keys(T);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(T);b&&(V=V.filter(function(C){return Object.getOwnPropertyDescriptor(T,C).enumerable})),k.push.apply(k,V)}return k}function w(T){for(var b=1;b<arguments.length;b++){var k=arguments[b]!=null?arguments[b]:{};b%2?y(Object(k),!0).forEach(function(V){O(T,V,k[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(k)):y(Object(k)).forEach(function(V){Object.defineProperty(T,V,Object.getOwnPropertyDescriptor(k,V))})}return T}function A(T,b){if(!(T instanceof b))throw new TypeError("Cannot call a class as a function")}function R(T,b){for(var k=0;k<b.length;k++){var V=b[k];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(T,F(V.key),V)}}function q(T,b,k){return b&&R(T.prototype,b),Object.defineProperty(T,"prototype",{writable:!1}),T}function U(T,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(b&&b.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),Object.defineProperty(T,"prototype",{writable:!1}),b&&M(T,b)}function M(T,b){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(V,C){return V.__proto__=C,V},M(T,b)}function B(T){var b=J();return function(){var V=se(T),C;if(b){var z=se(this).constructor;C=Reflect.construct(V,arguments,z)}else C=V.apply(this,arguments);return X(this,C)}}function X(T,b){if(b&&(m(b)==="object"||typeof b=="function"))return b;if(b!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Z(T)}function Z(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}function J(){try{var T=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J=function(){return!!T})()}function se(T){return se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(k){return k.__proto__||Object.getPrototypeOf(k)},se(T)}function O(T,b,k){return b=F(b),b in T?Object.defineProperty(T,b,{value:k,enumerable:!0,configurable:!0,writable:!0}):T[b]=k,T}function F(T){var b=j(T,"string");return m(b)=="symbol"?b:String(b)}function j(T,b){if(m(T)!="object"||!T)return T;var k=T[Symbol.toPrimitive];if(k!==void 0){var V=k.call(T,b);if(m(V)!="object")return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return(b==="string"?String:Number)(T)}var I=(0,c.canUseDOM)()&&dC();s.default=function(T){U(k,T);var b=B(k);function k(V){var C;return A(this,k),C=b.call(this,V),O(Z(C),"innerSliderRefHandler",function(z){return C.innerSlider=z}),O(Z(C),"slickPrev",function(){return C.innerSlider.slickPrev()}),O(Z(C),"slickNext",function(){return C.innerSlider.slickNext()}),O(Z(C),"slickGoTo",function(z){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return C.innerSlider.slickGoTo(z,ae)}),O(Z(C),"slickPause",function(){return C.innerSlider.pause("paused")}),O(Z(C),"slickPlay",function(){return C.innerSlider.autoPlay("play")}),C.state={breakpoint:null},C._responsiveMediaHandlers=[],C}return q(k,[{key:"media",value:function(C,z){I.register(C,z),this._responsiveMediaHandlers.push({query:C,handler:z})}},{key:"componentDidMount",value:function(){var C=this;if(this.props.responsive){var z=this.props.responsive.map(function(L){return L.breakpoint});z.sort(function(L,_){return L-_}),z.forEach(function(L,_){var fe;_===0?fe=(0,i.default)({minWidth:0,maxWidth:L}):fe=(0,i.default)({minWidth:z[_-1]+1,maxWidth:L}),(0,c.canUseDOM)()&&C.media(fe,function(){C.setState({breakpoint:L})})});var ae=(0,i.default)({minWidth:z.slice(-1)[0]});(0,c.canUseDOM)()&&this.media(ae,function(){C.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(C){I.unregister(C.query,C.handler)})}},{key:"render",value:function(){var C=this,z,ae;this.state.breakpoint?(ae=this.props.responsive.filter(function(de){return de.breakpoint===C.state.breakpoint}),z=ae[0].settings==="unslick"?"unslick":w(w(w({},l.default),this.props),ae[0].settings)):z=w(w({},l.default),this.props),z.centerMode&&(z.slidesToScroll>1,z.slidesToScroll=1),z.fade&&(z.slidesToShow>1,z.slidesToScroll>1,z.slidesToShow=1,z.slidesToScroll=1);var L=e.default.Children.toArray(this.props.children);L=L.filter(function(de){return typeof de=="string"?!!de.trim():!!de}),z.variableWidth&&(z.rows>1||z.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),z.variableWidth=!1);for(var _=[],fe=null,$=0;$<L.length;$+=z.rows*z.slidesPerRow){for(var v=[],N=$;N<$+z.rows*z.slidesPerRow;N+=z.slidesPerRow){for(var Q=[],K=N;K<N+z.slidesPerRow&&(z.variableWidth&&L[K].props.style&&(fe=L[K].props.style.width),!(K>=L.length));K+=1)Q.push(e.default.cloneElement(L[K],{key:100*$+10*N+K,tabIndex:-1,style:{width:"".concat(100/z.slidesPerRow,"%"),display:"inline-block"}}));v.push(e.default.createElement("div",{key:10*$+N},Q))}z.variableWidth?_.push(e.default.createElement("div",{key:$,style:{width:fe}},v)):_.push(e.default.createElement("div",{key:$},v))}if(z==="unslick"){var te="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:te},L)}else _.length<=z.slidesToShow&&!z.infinite&&(z.unslick=!0);return e.default.createElement(t.InnerSlider,g({style:this.props.style,ref:this.innerSliderRefHandler},(0,c.filterSettings)(z)),_)}}]),k}(e.default.Component)}(Jm)),Jm}var S_;function fC(){return S_||(S_=1,function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var e=t(hC());function t(i){return i&&i.__esModule?i:{default:i}}s.default=e.default}(Zm)),Zm}var mC=fC();const dp=j_(mC),pC=()=>{const[s,e]=H.useState(0);return H.useEffect(()=>{function t(){e(window.innerWidth)}return window.addEventListener("resize",t),t(),()=>window.removeEventListener("resize",t)},[]),s};function hp({children:s,id:e}){return u.jsxs("div",{id:e,className:"flex items-center text-center mb-8 sm:mb-10",children:[u.jsx("div",{className:"flex-grow h-px bg-gray-200"}),u.jsx("h2",{className:"flex-shrink-0 px-4 sm:px-6 font-extrabold text-gray-800 text-xl sm:text-2xl lg:text-3xl capitalize",children:s}),u.jsx("div",{className:"flex-grow h-px bg-gray-200"})]})}function Bp({item:s,onAddToCart:e}){const[t,i]=H.useState(""),l=()=>{const h=parseInt(t,10)||500,m=Math.round(s.price*(h/1e3));e(s,h,m),i("")},c=H.useMemo(()=>Math.round((s.price||0)/2),[s.price]);return u.jsxs("article",{className:"bg-white rounded-lg border border-gray-200 shadow-sm flex flex-col h-full p-3 md:p-4 lg:p-5 xl:p-6 hover:shadow-lg transition-shadow duration-300",children:[u.jsx("div",{className:"w-full h-32 sm:h-36 lg:h-60 xl:h-72 bg-gray-100 rounded-md mb-3 overflow-hidden",children:u.jsx("img",{src:s.imageUrl||"https://via.placeholder.com/300x200",alt:s.name,className:"w-full h-full object-contain"})}),u.jsxs("div",{className:"flex flex-col flex-grow",children:[u.jsx("h3",{className:"font-bold text-gray-800 text-sm md:text-base lg:text-xl xl:text-2xl leading-tight",children:s.name}),u.jsx("p",{className:"text-xs sm:text-sm lg:text-base text-gray-500 mt-1",children:s.description||"500 gms | 10-12 Pieces"}),u.jsxs("p",{className:"font-extrabold text-base md:text-lg lg:text-2xl xl:text-3xl text-gray-900 my-2 lg:my-3 xl:my-4",children:["",c,"/-"]}),u.jsxs("div",{className:"flex items-center gap-2 mt-auto pt-2",children:[u.jsx("input",{type:"text",pattern:"[0-9]*",inputMode:"numeric",value:t,onChange:h=>i(h.target.value.replace(/[^0-9]/g,"")),placeholder:"Enter gms",className:"w-full text-xs md:text-sm lg:text-base xl:text-lg p-3 border border-gray-300 rounded-lg focus:ring-1 focus:ring-red-500"}),u.jsx("button",{onClick:l,className:"bg-red-50 text-red-600 border border-red-200 rounded-lg px-4 py-3 flex-shrink-0 font-bold text-xs md:text-sm lg:text-base xl:text-lg hover:bg-red-100 transition-colors",children:"Add"})]})]})]})}function N_({items:s,onAddToCart:e}){return u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-3 2xl:grid-cols-4 gap-4 md:gap-6",children:s.map(t=>u.jsx(Bp,{item:t,onAddToCart:e},t.id))})}function gC(){const{user:s}=Nn(),e=kn(),[t,i]=H.useState([]),[l,c]=H.useState(!0),[h,m]=H.useState(null),[g,y]=H.useState(()=>JSON.parse(localStorage.getItem("taazaCart"))||[]),[w,A]=H.useState(!1),[R,q]=H.useState(""),U=pC(),M=1024,B=[{key:"chicken",label:"Chicken",imageUrl:"https://assets.tendercuts.in/product/R/M/ae6849a6-0699-4617-a963-382e93cf8940.webp"},{key:"mutton",label:"Mutton",imageUrl:"https://assets.tendercuts.in/product/R/M/2fa6b2bd-884e-4ecb-ac32-09bd7134a854.webp"},{key:"eggs",label:"Eggs",imageUrl:"https://assets.tendercuts.in/product/c/h/chk_egg.jpg"},{key:"masala",label:"Masala",imageUrl:"https://images.pexels.com/photos/2802527/pexels-photo-2802527.jpeg"}],X=[{id:1,imageUrl:DI,alt:"Fresh cuts of premium meat"},{id:2,imageUrl:OI,alt:"Weekly special offers on chicken"},{id:3,imageUrl:A2,alt:"Spices and marinades for the perfect dish"}],Z={dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:3e3,fade:!0,cssEase:"linear",arrows:!1};H.useEffect(()=>{(!s||s.type!=="customer")&&e("/login")},[s,e]),H.useEffect(()=>{const j=Ih(ot(ke,"products"),I=>{i(I.docs.map(T=>({id:T.id,...T.data()}))),c(!1)},I=>{m("Failed to load products."),c(!1)});return()=>j()},[]);const J=(j,I,T)=>{const k=g.find(V=>V.id===j.id&&V.weight===I)?g.map(V=>V.id===j.id&&V.weight===I?{...V,quantity:V.quantity+1}:V):[...g,{...j,weight:I,price:T,quantity:1}];y(k),localStorage.setItem("taazaCart",JSON.stringify(k)),q(`${j.name} (${I}g) added!`),A(!0),setTimeout(()=>A(!1),3e3)},se=H.useMemo(()=>t.reduce((j,I)=>{const T=I.category||"other";return(j[T]=j[T]||[]).push(I),j},{}),[t]),O=j=>{var I;return(I=document.getElementById(`${j}-heading`))==null?void 0:I.scrollIntoView({behavior:"smooth",block:"start"})},F={dots:!0,infinite:!1,speed:500,slidesToShow:4,slidesToScroll:1,responsive:[{breakpoint:1024,settings:{slidesToShow:3.5}},{breakpoint:768,settings:{slidesToShow:2.5}},{breakpoint:640,settings:{slidesToShow:2}}]};return l?u.jsx("div",{className:"text-center py-20 text-xl font-semibold",children:"Loading Fresh Products..."}):h?u.jsx("div",{className:"text-center py-20 text-red-600",children:h}):u.jsxs("div",{className:"bg-white",children:[u.jsxs("div",{className:`fixed bottom-5 right-5 bg-green-500 text-white font-bold py-3 px-6 rounded-lg shadow-lg transition-transform duration-300 ease-in-out z-50 ${w?"translate-y-0":"translate-y-24"}`,children:[" ",R]}),u.jsx("div",{className:"w-full bg-slate-100 pt-8 md:pt-10 pb-4 md:pb-6",children:u.jsx("div",{className:"w-11/12 lg:w-4/5 mx-auto",children:u.jsx(dp,{...Z,children:X.map(j=>u.jsx("div",{children:u.jsx("div",{className:"relative h-40 md:h-64 lg:h-96 xl:h-[500px] w-full rounded-lg overflow-hidden bg-gray-200",children:u.jsx("img",{src:j.imageUrl,alt:j.alt,className:"w-full h-full object-contain"})})},j.id))})})}),u.jsx("div",{className:"w-full bg-slate-50 py-12 sm:py-16",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsx(hp,{children:"Bestsellers"}),U>=M?u.jsx(N_,{items:t.slice(0,10),onAddToCart:J}):u.jsx(dp,{...F,children:t.slice(0,8).map(j=>u.jsx("div",{className:"px-2 md:px-3",children:u.jsx(Bp,{item:j,onAddToCart:J})},`bestseller-${j.id}`))})]})}),u.jsx("div",{className:"w-full bg-white py-12 sm:py-16",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsx(hp,{children:"Explore by Category"}),u.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-6 lg:grid-cols-8 gap-x-4 lg:gap-x-6 gap-y-6 text-center",children:B.map(j=>u.jsxs("div",{onClick:()=>O(j.key),className:"flex flex-col items-center space-y-2 cursor-pointer group",children:[u.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 lg:w-24 lg:h-24 xl:w-28 xl:h-28 rounded-full overflow-hidden border-2 border-transparent group-hover:border-red-200 transition-all duration-300 shadow-md group-hover:shadow-lg",children:u.jsx("img",{src:j.imageUrl,alt:j.label,className:"w-full h-full object-contain bg-white"})}),u.jsx("span",{className:"font-semibold text-gray-700 group-hover:text-red-600 text-xs sm:text-sm lg:text-base capitalize text-center",children:j.label})]},j.key))})]})}),Object.entries(se).map(([j,I],T)=>u.jsx("div",{className:T%2===0?"bg-slate-50":"bg-white",children:u.jsxs("div",{className:"py-12 sm:py-16 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsx(hp,{id:`${j}-heading`,children:j}),U>=M?u.jsx(N_,{items:I,onAddToCart:J}):u.jsx(dp,{...F,children:I.map(b=>u.jsx("div",{className:"px-2 md:px-3",children:u.jsx(Bp,{item:b,onAddToCart:J})},b.id))})]})},j))]})}const yC=(s,e,t,i,l,c,h)=>{try{const m=s.replace(/\D/g,""),g=m.startsWith("91")?m:`91${m}`,y=` *Order Confirmed!* 

*Order Details:*
 Order ID: ${t}
 Transaction ID: ${i}
 Amount: ${l}
 Customer: ${h||"Customer"}
 Phone: ${s}

*Items Ordered:*
${c.map(A=>` ${A.name} (${A.weight}g) - ${A.price*A.quantity}`).join(`
`)}

*Total: ${l}*

Thank you for choosing Taaza Fresh Meat! 

For any queries, contact us at: +91-9876543210`,w=`https://wa.me/${g}?text=${encodeURIComponent(y)}`;return window.open(w,"_blank"),console.log("WhatsApp message opened for:",s),!0}catch(m){return console.error("Error sending WhatsApp message:",m),!1}},vC=async(s,e,t,i,l)=>{try{const c=await fetch("https://us-central1-taaza-5c5cd.cloudfunctions.net/sendSMS",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:s,message:e,orderId:t,transactionId:i,customerName:l})});if(!c.ok)throw new Error(`HTTP error! status: ${c.status}`);const h=await c.json();return h.success?(console.log("SMS sent successfully to:",s),!0):(console.error("SMS sending failed:",h.error),!1)}catch(c){return console.error("Error sending SMS:",c),console.log("SMS would have been sent to:",s),console.log("SMS message:",e),!1}},xC=async(s,e,t,i,l,c)=>{try{yC(s,"",e,t,i,l,c);try{const h=`Thank you for your order! Order ID: ${e}, Amount: ${i}, Transaction ID: ${t}. Taaza Fresh Meat`;await vC(s,h,e,t,c)}catch{console.log("SMS notification failed (cloud function not available), but order was successful"),console.log("SMS would have been sent to:",s)}return console.log("Order notifications sent successfully"),!0}catch(h){return console.error("Error sending order notifications:",h),!1}},bC=(s,e)=>{try{e&&e.startsWith("blob:")&&(URL.revokeObjectURL(e),console.log("Blob URL cleaned up for order:",s));const t=`bill_cleanup_${s}`;localStorage.removeItem(t)}catch(t){console.error("Error cleaning up blob URL:",t)}},M2=async()=>{try{const s=ot(ke,"orders"),e=ss(s,Ul("orderId","desc"),d2(1)),t=await vn(e);let i=1e4;if(t.empty)console.log("No existing orders found, starting with order ID: 10000");else{const l=t.docs[0].data(),c=parseInt(l.orderId);c>=1e4&&c<=1e6?i=c+1:(console.warn("Invalid order ID found in database:",c,"Starting from 10000"),i=1e4),i>1e6&&(console.log("Order ID reached maximum (1000000), resetting to 10000"),i=1e4)}return console.log(`Generated sequential order ID: ${i}`),i.toString()}catch(s){console.error("Error generating order ID:",s);const t=1e4+Date.now()%99e4;return console.log(`Using fallback order ID: ${t}`),t.toString()}},_C=(s,e,t,i)=>{const l=e.reduce((h,m)=>h+m.price*m.quantity,0),c=new Date().toLocaleString("en-IN");return`
    <!DOCTYPE html>
    <html>
    <head>
      <title>Taaza Fresh Meat - Receipt</title>
      <style>
        body { 
          font-family: 'Courier New', monospace; 
          margin: 0; 
          padding: 20px; 
          font-size: 12px;
          line-height: 1.4;
        }
        .header { text-align: center; margin-bottom: 20px; }
        .title { font-size: 18px; font-weight: bold; margin-bottom: 5px; }
        .subtitle { font-size: 14px; margin-bottom: 10px; }
        .divider { border-top: 1px dashed #000; margin: 10px 0; }
        .item { margin: 5px 0; }
        .total { font-weight: bold; margin-top: 10px; }
        .footer { text-align: center; margin-top: 20px; font-size: 10px; }
        @media print {
          body { margin: 0; }
          .no-print { display: none; }
        }
      </style>
    </head>
    <body>
      <div class="header">
        <div class="title">TAAZA FRESH MEAT</div>
        <div class="subtitle">Fresh Meat & Fish Market</div>
        <div>Order Receipt</div>
      </div>
      
      <div class="divider"></div>
      
      <div class="item"><strong>Order ID:</strong> ${s.orderId}</div>
      <div class="item"><strong>Date:</strong> ${c}</div>
      <div class="item"><strong>Customer:</strong> ${t}</div>
      <div class="item"><strong>Phone:</strong> ${i}</div>
      
      <div class="divider"></div>
      
      <div class="item"><strong>ITEMS:</strong></div>
      ${e.map(h=>`
        <div class="item">
          ${h.name} (${h.weight}g)  ${h.quantity} = ${h.price*h.quantity}
        </div>
      `).join("")}
      
      <div class="divider"></div>
      
      <div class="total">TOTAL: ${l}</div>
      <div class="item">Payment: CASH</div>
      
      <div class="divider"></div>
      
      <div class="footer">
        Thank you for choosing Taaza Fresh Meat!<br>
        For any queries, contact us at: +91-9876543210<br>
        Visit us again!
      </div>
      
      <div class="no-print" style="margin-top: 30px; text-align: center;">
        <button onclick="window.print()"> Print Receipt</button>
        <button onclick="window.close()"> Close</button>
      </div>
    </body>
    </html>
  `},wC=(s,e,t,i)=>{const l=_C(s,e,t,i),c=window.open("","_blank","width=400,height=600");c.document.write(l),c.document.close(),setTimeout(()=>{c.print()},500)},EC=s=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",...s,children:u.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})});function TC(s){const{user:e,loading:t}=Nn(),i=kn(),[l,c]=H.useState([]),[h,m]=H.useState([]),g="rzp_test_Ty2fPZgb35aMIa";H.useEffect(()=>{!t&&(!e||e.type!=="customer")&&i("/login")},[e,t,i]),H.useEffect(()=>{const M=localStorage.getItem("taazaCart");M&&c(JSON.parse(M))},[]),H.useEffect(()=>{(async()=>{const B=ot(ke,"products"),Z=(await vn(B)).docs.map(J=>({id:J.id,...J.data()}));m(Z)})()},[]);const y=(M,B,X)=>{if(X<=0){w(M,B);return}const Z=l.find(se=>se.id===M&&se.weight===B);if(Z){const se=h.find(O=>O.id===M);if(se){if(Z.category==="eggs"){if(X>(se.quantity||0)){alert(`Insufficient stock! Only ${se.quantity||0} pieces available.`);return}}else if(B*X/1e3>(se.quantity||0)){alert(`Insufficient stock! Only ${se.quantity||0} kg available.`);return}}}const J=l.map(se=>se.id===M&&se.weight===B?{...se,quantity:X}:se);c(J),localStorage.setItem("taazaCart",JSON.stringify(J))},w=(M,B)=>{const X=l.filter(Z=>!(Z.id===M&&Z.weight===B));c(X),localStorage.setItem("taazaCart",JSON.stringify(X))},A=l.reduce((M,B)=>M+B.price*B.quantity,0),R=()=>new Promise(M=>{if(window.Razorpay){M(!0);return}const B=document.createElement("script");B.src="https://checkout.razorpay.com/v1/checkout.js",B.onload=()=>{M(!0)},B.onerror=()=>{M(!1)},document.body.appendChild(B)}),q=async(M,B,X,Z)=>{try{await xC(M,X,Z,A,l,e==null?void 0:e.name),console.log("Order notifications sent successfully")}catch(J){console.error("Error sending notifications:",J)}},U=async()=>{if(!e){alert("Please login to checkout");return}try{const M=l.reduce((O,F)=>O+F.price*F.quantity,0),B=await M2();if(!await R()){alert("Razorpay SDK failed to load.");return}const Z=await ps(ot(ke,"orders"),{orderId:B,cart:l,user:{name:e==null?void 0:e.name,phone:e==null?void 0:e.mobile,email:(e==null?void 0:e.email)||""},paymentId:"",status:"pending",createdAt:Cn(),fulfilled:!1,source:"online"}),J={key:g,amount:M*100,currency:"INR",name:"Taaza Chicken",description:"Order Payment",handler:async function(O){console.log("Razorpay response:",O);const F=O.razorpay_payment_id,j={paymentId:F,status:"paid"};O.razorpay_order_id&&(j.razorpayOrderId=O.razorpay_order_id),O.razorpay_payment_id&&(j.razorpayPaymentId=O.razorpay_payment_id),O.razorpay_signature&&(j.razorpaySignature=O.razorpay_signature);try{await ps(ot(ke,"transactions"),{orderId:Z.id,orderNumber:B,transactionId:F,amount:M,status:"success",date:new Date,customer:{name:e==null?void 0:e.name,phone:e==null?void 0:e.mobile,email:(e==null?void 0:e.email)||""},mode:"Razorpay",user:(e==null?void 0:e.name)||(e==null?void 0:e.email)||"Customer",cart:l}),await Dn(Et(ke,"orders",Z.id),j),c([]),localStorage.removeItem("taazaCart"),i(`/order-confirmation?orderId=${B}`),setTimeout(async()=>{try{const I=`
                  <div style='font-family:sans-serif;padding:24px;'>
                    <h2 style='color:#27ae60;'>Tazza Chicken - E-Bill</h2>
                    <p><strong>Name:</strong> ${e==null?void 0:e.name}</p>
                    <p><strong>Phone:</strong> ${e==null?void 0:e.mobile}</p>
                    <p><strong>Email:</strong> ${(e==null?void 0:e.email)||""}</p>
                    <p><strong>Order ID:</strong> ${B}</p>
                    <p><strong>Transaction ID:</strong> ${F}</p>
                    <table border='1' cellpadding='8' cellspacing='0' style='margin-top:16px;width:100%;'>
                      <thead><tr><th>Item</th><th>Unit</th><th>Qty</th><th>Price</th></tr></thead>
                      <tbody>
                        ${l.map(T=>`<tr><td>${T.name}</td><td>${T.category==="eggs"?"1 piece":`${T.weight}g`}</td><td>${T.quantity}</td><td>${T.price*T.quantity}</td></tr>`).join("")}
                      </tbody>
                    </table>
                    <p style='margin-top:16px;'><strong>Total:</strong> ${M}</p>
                    <p style='margin-top:8px;'>Thank you for ordering from Tazza Chicken!</p>
                  </div>
                `;for(const T of l){const b=Et(ke,"products",T.id),k=await _a(b);if(k.exists()){const V=k.data().quantity||0;let C;T.category==="eggs"?C=T.quantity:C=T.weight*T.quantity/1e3;const z=V-C;await Dn(b,{quantity:z<0?0:z})}}if(e!=null&&e.mobile){const T=`Thank you for your order! Order ID: ${B}, Amount: ${M}, Items: ${l.map(b=>`${b.name} (${b.category==="eggs"?b.quantity+" piece(s)":b.weight*b.quantity+"g"})`).join(", ")}. Payment ID: ${F}`;await q(e.mobile,T,B,F)}}catch(I){console.error("Error in post-payment processing:",I)}},0)}catch(I){console.error("Error processing payment:",I),alert("Error processing payment: "+I.message)}},prefill:{name:e==null?void 0:e.name,email:(e==null?void 0:e.email)||"",contact:e==null?void 0:e.mobile},theme:{color:"#27ae60"},modal:{ondismiss:function(){alert("Payment cancelled. Order is still pending.")}}};new window.Razorpay(J).open()}catch(M){alert("Order saving or payment failed! "+(M.message||M))}};return l.length===0?u.jsx("div",{className:"min-h-screen bg-green-100 py-12 px-4 sm:px-6 lg:px-8",children:u.jsx("div",{className:"max-w-2xl mx-auto",children:u.jsxs("div",{className:"bg-yellow-100 rounded-2xl shadow-xl border border-yellow-200/50 p-8 text-center",children:[u.jsx("div",{className:"w-20 h-20 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:u.jsx("span",{className:"text-3xl text-white",children:""})}),u.jsx("h1",{className:"text-3xl font-bold text-green-800 mb-4",children:"Your Cart is Empty"}),u.jsx("p",{className:"text-green-600 text-lg mb-8",children:"Looks like you haven't added any items yet."}),u.jsx(Qt,{to:"/",className:"inline-flex items-center px-6 py-3 bg-green-600 text-white font-semibold rounded-xl hover:bg-green-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105",children:" Start Shopping"})]})})}):u.jsx("div",{className:"responsive-container responsive-p-4 sm:responsive-p-8 main-content",children:u.jsxs("div",{className:"responsive-card responsive-p-4 sm:responsive-p-8 max-w-4xl mx-auto",children:[u.jsx("h1",{className:"responsive-text-2xl sm:responsive-text-3xl font-bold mb-6 text-center",children:"Your Cart"}),u.jsx("div",{className:"space-y-4 mb-6",children:l.map(M=>u.jsxs("div",{className:"bg-yellow-100 p-4 rounded-lg flex flex-row items-center gap-4 shadow-md border border-yellow-200/50",children:[u.jsx("img",{src:M.imageUrl,alt:M.name,className:"w-20 h-20 object-cover rounded shadow-sm flex-shrink-0"}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h3",{className:"responsive-text-lg font-bold text-gray-800 mb-2",children:M.name}),u.jsx("p",{className:"responsive-text-sm text-yellow-800 mb-2",children:M.category==="eggs"?"1 piece":`${M.weight}g`}),u.jsxs("p",{className:"responsive-text-base text-gray-700 mb-3",children:["",M.price," x ",M.quantity," = ",u.jsxs("span",{className:"font-semibold text-green-600",children:["",M.price*M.quantity]})]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx("button",{className:"w-7 h-7 flex items-center justify-center text-lg font-bold bg-black text-white rounded-md hover:bg-gray-800 transition touch-target disabled:opacity-50",onClick:()=>y(M.id,M.weight,M.quantity-1),disabled:M.quantity<=1,children:"-"}),u.jsx("span",{className:"responsive-text-base font-medium text-gray-800 mx-2 min-w-[2rem] text-center",children:M.quantity}),u.jsx("button",{className:"w-7 h-7 flex items-center justify-center text-lg font-bold bg-black text-white rounded-md hover:bg-gray-800 transition touch-target",onClick:()=>y(M.id,M.weight,M.quantity+1),children:"+"}),u.jsx("button",{className:"w-8 h-8 flex items-center justify-center text-white bg-red-600 rounded-full hover:bg-red-700 transition ml-auto touch-target",onClick:()=>w(M.id,M.weight),"aria-label":"Remove item",children:u.jsx(EC,{className:"w-5 h-5"})})]})]})]},M.id+"-"+M.weight))}),u.jsx("div",{className:"responsive-card responsive-p-4 bg-white rounded-lg mb-6",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"responsive-text-xl font-bold text-green-800",children:"Total:"}),u.jsxs("span",{className:"responsive-text-xl font-bold text-green-600",children:["",A]})]})}),u.jsx("button",{className:"w-full responsive-btn bg-green-600 text-white hover:bg-green-700 transition font-semibold touch-target",onClick:U,children:"Proceed to Checkout"})]})})}function SC(){const{user:s,loading:e}=Nn(),t=kn(),[i,l]=H.useState([]),[c,h]=H.useState(!0),[m,g]=H.useState(null),[y,w]=H.useState(!1);H.useEffect(()=>{!e&&(!s||s.type!=="customer")&&t("/login")},[s,e,t]),H.useEffect(()=>{if(!(s!=null&&s.mobile))return;h(!0);const U=ss(ot(ke,"orders"),Rl("user.phone","==",s.mobile)),M=Ih(U,B=>{const Z=B.docs.map(J=>({id:J.id,...J.data()})).sort((J,se)=>{var j,I,T,b;const O=((I=(j=J.createdAt)==null?void 0:j.toDate)==null?void 0:I.call(j))||new Date(0);return(((b=(T=se.createdAt)==null?void 0:T.toDate)==null?void 0:b.call(T))||new Date(0))-O});Z.length>i.length&&i.length>0&&(w(!0),setTimeout(()=>w(!1),5e3)),l(Z),h(!1)},B=>{console.error("Error fetching orders:",B),h(!1)});return()=>M()},[s,i.length]);const A=U=>{g(m===U?null:U)},R=U=>{switch(U){case"paid":return"bg-green-200 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},q=U=>{switch(U){case"paid":return"Paid";case"pending":return"Pending";default:return U}};return c?u.jsx("div",{className:"responsive-container responsive-p-4 sm:responsive-p-8 main-content bg-green-100 min-h-screen",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),u.jsx("p",{children:"Loading your orders..."})]})}):u.jsxs("div",{className:"responsive-container responsive-p-4 sm:responsive-p-8 main-content bg-green-100 min-h-screen",children:[y&&u.jsx("div",{className:"mb-4 p-4 bg-green-200 border border-green-300 rounded-lg animate-pulse",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center",children:u.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-semibold text-green-800",children:"New Order Added!"}),u.jsx("p",{className:"text-xs text-green-600",children:"Your latest order has been added to the list below."})]})]})}),u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Your Orders"}),u.jsx(Qt,{to:"/",className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition",children:" Continue Shopping"})]}),i.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"w-24 h-24 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx("svg",{className:"w-12 h-12 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),u.jsx("h2",{className:"text-xl font-semibold text-green-800 mb-2",children:"No Orders Yet"}),u.jsx("p",{className:"text-green-600 mb-4",children:"Start shopping to see your orders here"}),u.jsx(Qt,{to:"/",className:"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition",children:"Start Shopping"})]}):u.jsx("div",{className:"space-y-4",children:i.map(U=>{var X,Z,J,se,O,F,j,I,T;const M=((X=U.cart)==null?void 0:X.reduce((b,k)=>b+k.price*k.quantity,0))||0,B=m===U.id;return u.jsxs("div",{className:"bg-yellow-100 rounded-lg shadow-lg overflow-hidden",children:[u.jsx("div",{className:"p-6 border-b border-gray-100",children:u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsxs("h3",{className:"font-semibold text-gray-800",children:["Order #",U.orderId||U.id.slice(-8)]}),u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${R(U.status)}`,children:q(U.status)}),U.source&&u.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-semibold bg-blue-100 text-blue-800",children:U.source})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600",children:[u.jsxs("div",{children:[u.jsx("span",{className:"font-medium",children:"Date:"})," ",((J=(Z=U.createdAt)==null?void 0:Z.toDate)==null?void 0:J.call(Z).toLocaleDateString())||"N/A"]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-medium",children:"Time:"})," ",((O=(se=U.createdAt)==null?void 0:se.toDate)==null?void 0:O.call(se).toLocaleTimeString())||"N/A"]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-medium",children:"Items:"})," ",((F=U.cart)==null?void 0:F.length)||0," items"]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-medium",children:"Weight:"})," ",((j=U.cart)==null?void 0:j.reduce((b,k)=>b+k.weight*k.quantity,0))||0,"g"]})]}),U.paymentId&&u.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Payment ID: ",U.paymentId]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:"text-lg font-bold text-green-600",children:["",M]}),u.jsxs("p",{className:"text-sm text-gray-600",children:[((I=U.cart)==null?void 0:I.length)||0," items"]})]}),u.jsx("button",{onClick:()=>A(U.id),className:"p-2 text-gray-400 hover:text-gray-600 transition",children:u.jsx("svg",{className:`w-5 h-5 transform transition-transform ${B?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]})}),B&&u.jsxs("div",{className:"p-6 bg-green-50",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"Order Items"}),u.jsx("div",{className:"space-y-3",children:(T=U.cart)==null?void 0:T.map((b,k)=>u.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("div",{className:"font-semibold text-gray-800 mb-2",children:b.name}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-600",children:"Weight:"}),u.jsxs("span",{className:"ml-2 font-semibold",children:[b.weight,"g"]})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-600",children:"Quantity:"}),u.jsx("span",{className:"ml-2 font-semibold",children:b.quantity})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-600",children:"Price per kg:"}),u.jsxs("span",{className:"ml-2 font-semibold",children:["",b.price]})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-600",children:"Total Weight:"}),u.jsxs("span",{className:"ml-2 font-semibold",children:[b.weight*b.quantity,"g"]})]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:"font-bold text-green-600 text-lg",children:["",b.price*b.quantity]}),u.jsxs("div",{className:"text-gray-500 text-sm",children:["",b.price,"/kg"]})]})]})},k))})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[U.billUrl?u.jsx("a",{href:U.billUrl,target:U.billType==="blob"?void 0:"_blank",rel:U.billType==="blob"?void 0:"noopener noreferrer",className:"flex-1 bg-blue-600 text-white text-center px-4 py-2 rounded-lg hover:bg-blue-700 transition",download:U.billType==="blob"?`Taaza-Bill-${U.orderId||U.id}.pdf`:void 0,children:" Download E-Bill"}):u.jsx("div",{className:"flex-1 bg-yellow-100 text-yellow-800 text-center px-4 py-2 rounded-lg",children:" E-Bill Generating..."}),u.jsx(Qt,{to:`/order-confirmation?orderId=${U.id}`,className:"flex-1 bg-green-600 text-white text-center px-4 py-2 rounded-lg hover:bg-green-700 transition",children:" View Details"})]})]})]},U.id)})})]})}function Fl({message:s,show:e,onClose:t,type:i="success"}){return u.jsxs("div",{className:`fixed top-6 right-6 z-50 transition-all duration-500 ${e?"opacity-100 translate-x-0":"opacity-0 translate-x-20"} ${i==="success"?"bg-green-500":"bg-red-500"} text-white px-6 py-3 rounded shadow-lg flex items-center gap-2`,style:{pointerEvents:e?"auto":"none"},children:[i==="success"?u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}):u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),u.jsx("span",{children:s}),u.jsx("button",{className:"ml-2 text-white/80 hover:text-white",onClick:t,children:""})]})}function NC(){const{user:s,loading:e}=Nn(),t=kn(),[i,l]=H.useState([]),[c,h]=H.useState([]),[m,g]=H.useState({show:!1,message:"",type:"success"}),[y,w]=H.useState(!1),[A,R]=H.useState(null),[q,U]=H.useState(500),[M,B]=H.useState(1),[X,Z]=H.useState({name:"",phone:"",email:""}),[J,se]=H.useState(!0),[O,F]=H.useState("all");H.useEffect(()=>{!e&&(!s||!s.isAdmin)&&t("/login")},[s,e,t]);const j=async()=>{try{se(!0);const z=ss(ot(ke,"orders"),Ul("createdAt","desc")),L=(await vn(z)).docs.map(_=>({id:_.id,..._.data()}));l(L)}catch(z){console.error("Error fetching orders:",z),g({show:!0,message:"Error loading orders",type:"error"})}finally{se(!1)}};H.useEffect(()=>{j()},[]);const I=async()=>{try{const ae=(await vn(ot(ke,"products"))).docs.map(L=>({id:L.id,...L.data()}));h(ae)}catch(z){console.error("Error fetching products:",z),g({show:!0,message:"Error loading products",type:"error"})}};H.useEffect(()=>{I()},[]);const T=()=>O==="all"?c:c.filter(z=>z.category===O),b=z=>{F(z)},k=(z,ae)=>!z||!z.price||!ae?0:Math.round(z.price*(ae/1e3)),V=z=>{R(z),U(500),B(1),w(!0)},C=async z=>{try{let ae,L,_;const fe=Et(ke,"products",z.id),$=await _a(fe);if(!$.exists())throw new Error("Product not found in database.");const v=$.data().quantity||0;if(z.category==="masalas"){if(v<M){g({show:!0,message:"Not enough stock available.",type:"error"});return}L=z.price*M,ae={...z,price:L,quantity:M,unitDescription:`${z.unitWeight}g piece`};const K=v-M;_=Dn(fe,{quantity:K<0?0:K})}else{const K=(q||0)/1e3;if(v<K){g({show:!0,message:"Not enough stock available for the requested weight.",type:"error"});return}L=k(z,q),ae={...z,price:L,weight:q,quantity:1,unitDescription:`${q}g`};let te=v-K;_=Dn(fe,{quantity:te<0?0:te})}const N=await M2(),Q=await ps(ot(ke,"orders"),{orderId:N,cart:[ae],status:"confirmed",paymentMethod:"cash",createdAt:Cn(),total:L,customerName:"Walk-in Customer",customerPhone:"N/A",source:"admin"});await _,await ps(ot(ke,"transactions"),{orderId:Q.id,orderNumber:N,amount:L,items:[ae],status:"completed",paymentMethod:"cash",createdAt:Cn(),customer:{name:"Walk-in Customer",phone:"N/A"}}),wC({orderId:N,id:Q.id},[ae],"Walk-in Customer","N/A"),g({show:!0,message:`Order #${N} created! Receipt printed.`,type:"success"}),w(!1),R(null),await j(),await I()}catch(ae){console.error("Error creating order:",ae),g({show:!0,message:"Error creating order: "+ae.message,type:"error"})}};return u.jsxs("div",{className:"relative main-content min-h-screen bg-green-100",children:[u.jsxs("div",{className:"relative z-10 p-4 sm:p-8 max-w-7xl mx-auto",children:[u.jsx(Fl,{message:m.message,show:m.show,onClose:()=>g({...m,show:!1}),type:m.type}),u.jsxs("div",{className:"mb-8 animate-fade-in-up",children:[u.jsx("div",{className:"bg-white/95 backdrop-blur-md rounded-2xl p-6 shadow-xl border border-white/20",children:u.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:u.jsxs("div",{children:[u.jsxs("h2",{className:"text-3xl sm:text-4xl font-bold text-slate-800 mb-2 flex items-center gap-3",children:[u.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-slate-600 to-slate-700 rounded-xl flex items-center justify-center text-white text-xl shadow-lg",children:""}),"Dashboard Overview"]}),u.jsx("p",{className:"text-slate-600 text-base sm:text-lg font-medium",children:"Manage orders, products, and view analytics with real-time insights"})]})})}),u.jsxs("div",{className:"mt-8 bg-white/95 backdrop-blur-md rounded-2xl p-6 shadow-xl border border-white/20",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-slate-600 to-slate-700 rounded-lg flex items-center justify-center text-white shadow-md",children:""}),u.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:"Create Orders (Cash Payment)"})]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx("button",{onClick:()=>b("all"),className:`px-4 py-2 rounded-lg font-semibold transition-all duration-200 ${O==="all"?"bg-slate-700 text-white shadow-lg":"bg-white text-slate-700 hover:bg-slate-100"}`,children:"All"}),u.jsx("button",{onClick:()=>b("chicken"),className:`px-4 py-2 rounded-lg font-semibold transition-all duration-200 ${O==="chicken"?"bg-slate-700 text-white shadow-lg":"bg-white text-slate-700 hover:bg-slate-100"}`,children:"Chicken"}),u.jsx("button",{onClick:()=>b("mutton"),className:`px-4 py-2 rounded-lg font-semibold transition-all duration-200 ${O==="mutton"?"bg-slate-700 text-white shadow-lg":"bg-white text-slate-700 hover:bg-slate-100"}`,children:"Mutton"}),u.jsx("button",{onClick:()=>b("goat"),className:`px-4 py-2 rounded-lg font-semibold transition-all duration-200 ${O==="goat"?"bg-slate-700 text-white shadow-lg":"bg-white text-slate-700 hover:bg-slate-100"}`,children:"Goat"}),u.jsx("button",{onClick:()=>b("masalas"),className:`px-4 py-2 rounded-lg font-semibold transition-all duration-200 ${O==="masalas"?"bg-slate-700 text-white shadow-lg":"bg-white text-slate-700 hover:bg-slate-100"}`,children:"Masalas"}),u.jsx("button",{onClick:()=>b("eggs"),className:`px-4 py-2 rounded-lg font-semibold transition-all duration-200 ${O==="eggs"?"bg-slate-700 text-white shadow-lg":"bg-white text-slate-700 hover:bg-slate-100"}`,children:"Eggs"})]})]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:c.length===0?u.jsx("div",{className:"col-span-full text-center py-12",children:J?u.jsx("p",{children:"Loading products..."}):u.jsx("p",{children:"No products found."})}):T().map(z=>u.jsxs("div",{className:"group relative bg-yellow-100 backdrop-blur-md border-2 border-white/20 rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105 overflow-hidden",children:[u.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-yellow-100 to-yellow-200 p-4",children:[u.jsx("img",{src:z.imageUrl,alt:z.name,className:"w-full h-full object-contain rounded-lg transition-transform duration-300 group-hover:scale-110"}),u.jsx("div",{className:"absolute top-3 left-3 bg-gradient-to-r from-slate-600 to-slate-700 text-white text-xs px-3 py-1 rounded-full font-bold shadow-lg",children:z.category.charAt(0).toUpperCase()+z.category.slice(1)}),u.jsx("div",{className:`absolute top-3 right-3 px-2 py-1 rounded-full text-xs font-bold ${(z.quantity||0)>10?"bg-green-100 text-green-800":(z.quantity||0)>0?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:z.quantity>10?"In Stock":z.quantity>0?"Low Stock":"Out of Stock"})]}),u.jsxs("div",{className:"p-6",children:[u.jsx("h3",{className:"font-bold mb-3 text-lg text-slate-800 leading-tight group-hover:text-slate-900 transition-colors",style:{fontFamily:"Montserrat, sans-serif"},children:z.name}),z.category==="masalas"?u.jsxs("div",{className:"space-y-3 mb-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("span",{className:"text-2xl font-bold text-slate-700",style:{fontFamily:"Montserrat, sans-serif"},children:["",z.price]}),u.jsxs("span",{className:"text-sm text-slate-500 font-medium",style:{fontFamily:"Inter, sans-serif"},children:["/ ",z.unitWeight,"g piece"]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-sm text-slate-600 font-medium",style:{fontFamily:"Inter, sans-serif"},children:" Available:"}),u.jsxs("span",{className:`text-sm font-bold ${(z.quantity||0)>10?"text-green-600":(z.quantity||0)>0?"text-yellow-600":"text-red-600"}`,style:{fontFamily:"Inter, sans-serif"},children:[z.quantity||0," pieces"]})]})]}):u.jsxs("div",{className:"space-y-3 mb-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("span",{className:"text-2xl font-bold text-slate-700",style:{fontFamily:"Montserrat, sans-serif"},children:["",z.price]}),u.jsx("span",{className:"text-sm text-slate-500 font-medium",style:{fontFamily:"Inter, sans-serif"},children:z.category==="eggs"?"/ dozen":"/ kg"})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-sm text-slate-600 font-medium",style:{fontFamily:"Inter, sans-serif"},children:" Available:"}),u.jsxs("span",{className:`text-sm font-bold ${(z.quantity||0)>10?"text-green-600":(z.quantity||0)>0?"text-yellow-600":"text-red-600"}`,style:{fontFamily:"Inter, sans-serif"},children:[z.quantity||0," ",z.category==="eggs"?"dozens":"kg"]})]})]}),u.jsx("button",{onClick:()=>V(z),disabled:(z.quantity||0)<=0,className:`w-full py-3 px-4 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105 shadow-lg ${(z.quantity||0)>0?"bg-gradient-to-r from-slate-600 to-slate-700 text-white hover:from-slate-700 hover:to-slate-800":"bg-slate-300 text-slate-500 cursor-not-allowed"}`,style:{fontFamily:"Inter, sans-serif"},children:(z.quantity||0)>0?" Add to Cart":" Out of Stock"})]})]},z.id))})]}),y&&A&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full max-h-[90vh] overflow-y-auto border border-slate-200 shadow-2xl",children:[u.jsxs("h3",{className:"text-xl font-bold mb-4 text-slate-800",style:{fontFamily:"Montserrat, sans-serif"},children:["Create Order - ",A.name]}),A.category==="masalas"?u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",style:{fontFamily:"Inter, sans-serif"},children:"Number of Pieces"}),u.jsx("input",{type:"number",value:M,onChange:z=>B(Number(z.target.value)),className:"w-full p-2 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-slate-400 focus:border-slate-400",min:"1",step:"1"}),u.jsxs("p",{className:"text-sm text-slate-500 mt-1",style:{fontFamily:"Inter, sans-serif"},children:["Total Price: ",A.price*M]})]})}):u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",style:{fontFamily:"Inter, sans-serif"},children:"Weight (g)"}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"number",value:q,onChange:z=>U(parseInt(z.target.value)||0),className:"flex-1 p-2 border-2 border-slate-200 rounded-l-xl focus:ring-2 focus:ring-slate-400 focus:border-slate-400",min:"100",step:"100"}),u.jsx("span",{className:"bg-slate-100 px-3 py-2 border-2 border-l-0 border-slate-200 rounded-r-xl text-slate-600",style:{fontFamily:"Inter, sans-serif"},children:"g"})]}),u.jsxs("p",{className:"text-sm text-slate-500 mt-1",style:{fontFamily:"Inter, sans-serif"},children:["Price: ",k(A,q)]})]})}),u.jsxs("div",{className:"flex gap-3 mt-6",children:[u.jsx("button",{onClick:()=>w(!1),className:"flex-1 py-2 px-4 bg-slate-500 text-white hover:bg-slate-600 transition rounded-xl",style:{fontFamily:"Inter, sans-serif"},children:"Cancel"}),u.jsx("button",{onClick:()=>C(A),className:"flex-1 py-2 px-4 bg-green-600 text-white hover:bg-green-700 transition rounded-xl",style:{fontFamily:"Inter, sans-serif"},children:" Create Order & Print"})]})]})})]})}function AC({order:s,onClose:e}){var h,m,g,y,w,A,R,q,U;if(!s)return null;const t=M=>{M.target===M.currentTarget&&e()};mi.useEffect(()=>{const M=B=>{B.key==="Escape"&&e()};return document.addEventListener("keydown",M),()=>document.removeEventListener("keydown",M)},[e]);const l=(M=>{if(!M)return"N/A";const B=M.toDate?M.toDate():new Date(M);return{date:B.toLocaleDateString("en-IN"),time:B.toLocaleTimeString("en-IN"),full:B.toLocaleString("en-IN")}})(s.createdAt),c=((h=s.cart)==null?void 0:h.reduce((M,B)=>M+B.price*B.quantity,0))||0;return u.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center responsive-p-4",onClick:t,children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto animate-fade-in-up",children:[u.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-indigo-600 to-indigo-700 text-white p-6 rounded-t-2xl",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("h2",{className:"responsive-text-xl sm:responsive-text-2xl font-bold",style:{fontFamily:"Montserrat, sans-serif"},children:[" Order Details - #",s.orderId||s.id]}),u.jsx("button",{className:"text-white hover:text-red-200 transition-all duration-200 touch-target responsive-text-xl font-bold p-2 hover:bg-white/20 rounded-full",onClick:e,children:""})]})}),u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"bg-indigo-50 p-4 rounded-lg border border-indigo-200",children:[u.jsx("h3",{className:"font-bold text-indigo-800 mb-3 responsive-text-base",style:{fontFamily:"Montserrat, sans-serif"},children:" Order Information"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"font-semibold text-indigo-700 responsive-text-sm",children:"Order ID:"}),u.jsxs("span",{className:"font-mono responsive-text-sm text-indigo-600 bg-indigo-100 px-2 py-1 rounded font-bold",children:["#",s.orderId||s.id]})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"font-semibold text-indigo-700 responsive-text-sm",children:"Date:"}),u.jsx("span",{className:"responsive-text-sm text-indigo-600 font-medium",children:l.date})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"font-semibold text-indigo-700 responsive-text-sm",children:"Time:"}),u.jsx("span",{className:"responsive-text-sm text-indigo-600 font-medium",children:l.time})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"font-semibold text-indigo-700 responsive-text-sm",children:"Status:"}),u.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${s.status==="paid"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:s.status==="paid"?" Paid":" Pending"})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"font-semibold text-indigo-700 responsive-text-sm",children:"Fulfilled:"}),u.jsx("span",{className:"responsive-text-sm font-medium",children:s.fulfilled?" Yes":" No"})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"font-semibold text-indigo-700 responsive-text-sm",children:"Source:"}),u.jsx("span",{className:"responsive-text-sm text-indigo-600 font-medium capitalize",children:s.source||"Online"})]})]})]}),u.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[u.jsx("h3",{className:"font-bold text-green-800 mb-3 responsive-text-base",style:{fontFamily:"Montserrat, sans-serif"},children:" Payment Information"}),u.jsxs("div",{className:"space-y-3",children:[s.paymentId&&u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"font-semibold text-green-700 responsive-text-sm",children:"Payment ID:"}),u.jsx("span",{className:"font-mono responsive-text-xs text-green-600 break-all bg-green-100 px-2 py-1 rounded",children:s.paymentId})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"font-semibold text-green-700 responsive-text-sm",children:"Method:"}),u.jsx("span",{className:"responsive-text-sm text-green-600 font-medium capitalize",children:s.paymentMethod||"Razorpay"})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"font-semibold text-green-700 responsive-text-sm",children:"Total Amount:"}),u.jsxs("span",{className:"font-bold responsive-text-base text-green-600",children:["",c]})]}),s.razorpayOrderId&&u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"font-semibold text-green-700 responsive-text-sm",children:"Razorpay Order:"}),u.jsx("span",{className:"font-mono responsive-text-xs text-green-600 break-all bg-green-100 px-2 py-1 rounded",children:s.razorpayOrderId})]})]})]}),u.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[u.jsx("h3",{className:"font-bold text-blue-800 mb-3 responsive-text-base",style:{fontFamily:"Montserrat, sans-serif"},children:" Customer Details"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"font-semibold text-blue-700 responsive-text-sm",children:"Name:"}),u.jsx("span",{className:"responsive-text-sm text-blue-600 font-medium",children:((m=s.user)==null?void 0:m.name)||"N/A"})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"font-semibold text-blue-700 responsive-text-sm",children:"Phone:"}),u.jsx("span",{className:"responsive-text-sm text-blue-600 font-medium",children:((g=s.user)==null?void 0:g.phone)||"N/A"})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"font-semibold text-blue-700 responsive-text-sm",children:"Email:"}),u.jsx("span",{className:"responsive-text-sm text-blue-600 font-medium break-all",children:((y=s.user)==null?void 0:y.email)||"N/A"})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"font-semibold text-blue-700 responsive-text-sm",children:"Items Count:"}),u.jsxs("span",{className:"responsive-text-sm text-blue-600 font-medium",children:[((w=s.cart)==null?void 0:w.length)||0," items"]})]})]})]})]}),u.jsxs("div",{className:"bg-white border-2 border-indigo-200 rounded-lg p-4",children:[u.jsxs("h3",{className:"font-bold responsive-text-lg mb-4 text-indigo-800",style:{fontFamily:"Montserrat, sans-serif"},children:[" Order Items (",((A=s.cart)==null?void 0:A.length)||0," items)"]}),u.jsx("div",{className:"space-y-3",children:(R=s.cart)==null?void 0:R.map((M,B)=>u.jsx("div",{className:"bg-indigo-50 rounded-lg border border-indigo-100 p-4",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("div",{className:"font-semibold text-indigo-800 responsive-text-base mb-2",style:{fontFamily:"Montserrat, sans-serif"},children:M.name}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-indigo-600 font-medium",children:"Weight:"}),u.jsxs("span",{className:"ml-2 text-indigo-800 font-semibold",children:[M.weight,"g"]})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-indigo-600 font-medium",children:"Quantity:"}),u.jsx("span",{className:"ml-2 text-indigo-800 font-semibold",children:M.quantity})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-indigo-600 font-medium",children:"Price per kg:"}),u.jsxs("span",{className:"ml-2 text-indigo-800 font-semibold",children:["",M.price]})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-indigo-600 font-medium",children:"Total Weight:"}),u.jsxs("span",{className:"ml-2 text-indigo-800 font-semibold",children:[M.weight*M.quantity,"g"]})]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:"font-bold text-green-600 responsive-text-lg",style:{fontFamily:"Inter, sans-serif"},children:["",M.price*M.quantity]}),u.jsxs("div",{className:"text-indigo-500 responsive-text-sm",style:{fontFamily:"Inter, sans-serif"},children:["",M.price,"/kg"]}),u.jsxs("div",{className:"text-indigo-400 responsive-text-xs mt-1",style:{fontFamily:"Inter, sans-serif"},children:[M.weight,"g  ",M.quantity]})]})]})},B))})]}),u.jsxs("div",{className:"bg-gradient-to-r from-green-100 to-green-200 p-6 rounded-lg border-2 border-green-300",children:[u.jsx("h3",{className:"font-bold responsive-text-lg mb-4 text-green-800",style:{fontFamily:"Montserrat, sans-serif"},children:" Order Summary"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-green-600 font-medium responsive-text-sm",children:"Total Items"}),u.jsx("div",{className:"font-bold responsive-text-xl text-green-800",children:((q=s.cart)==null?void 0:q.length)||0})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-green-600 font-medium responsive-text-sm",children:"Total Weight"}),u.jsxs("div",{className:"font-bold responsive-text-xl text-green-800",children:[((U=s.cart)==null?void 0:U.reduce((M,B)=>M+B.weight*B.quantity,0))||0,"g"]})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-green-600 font-medium responsive-text-sm",children:"Total Amount"}),u.jsxs("div",{className:"font-bold responsive-text-xl text-green-800",children:["",c]})]})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.billUrl&&u.jsx("a",{href:s.billUrl,target:"_blank",rel:"noopener noreferrer",className:"flex-1 responsive-btn bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg shadow-lg hover:from-blue-700 hover:to-blue-800 transition-all duration-200 touch-target font-semibold text-center",style:{fontFamily:"Inter, sans-serif"},children:" Download E-Bill"}),u.jsx("button",{onClick:e,className:"flex-1 responsive-btn bg-gradient-to-r from-gray-600 to-gray-700 text-white rounded-lg shadow-lg hover:from-gray-700 hover:to-gray-800 transition-all duration-200 touch-target font-semibold",style:{fontFamily:"Inter, sans-serif"},children:" Close"})]})]})]})})}function jC({message:s,show:e,onClose:t,type:i="success"}){return u.jsxs("div",{className:`fixed top-6 right-6 z-50 transition-all duration-500 ${e?"opacity-100 translate-x-0":"opacity-0 translate-x-20"} ${i==="success"?"bg-green-500":"bg-red-500"} text-white px-6 py-3 rounded shadow-lg flex items-center gap-2`,style:{pointerEvents:e?"auto":"none"},children:[i==="success"?u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}):u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),u.jsx("span",{children:s}),u.jsx("button",{className:"ml-2 text-white/80 hover:text-white",onClick:t,children:""})]})}function RC(){var C,z,ae;const{user:s,loading:e}=Nn(),t=kn(),[i,l]=H.useState([]),[c,h]=H.useState(!0),[m,g]=H.useState(""),[y,w]=H.useState(""),[A,R]=H.useState(null),[q,U]=H.useState(!1),[M,B]=H.useState({show:!1,message:"",type:"success"}),[X,Z]=H.useState(!1),[J,se]=H.useState(null);H.useEffect(()=>{!e&&(!s||!s.isAdmin)&&t("/login")},[s,e,t]);const O=async()=>{try{h(!0),console.log("Fetching transactions...");const L=ss(ot(ke,"transactions"),Ul("date","desc")),fe=(await vn(L)).docs.map($=>({id:$.id,...$.data()}));console.log("Transactions fetched:",fe.length),l(fe)}catch(L){console.error("Error fetching transactions:",L),I("Error loading transactions","error")}finally{h(!1)}};H.useEffect(()=>{O()},[]);const F=i.filter(L=>{var $,v,N,Q;const _=(v=($=L.customer)==null?void 0:$.name)==null?void 0:v.toLowerCase().includes(m.toLowerCase()),fe=y?new Date(((N=L.date)==null?void 0:N.seconds)*1e3).toISOString().slice(0,10)===y||new Date(((Q=L.createdAt)==null?void 0:Q.seconds)*1e3).toISOString().slice(0,10)===y:!0;return _&&fe}),j=i.reduce((L,_)=>L+(parseFloat(_.amount)||0),0),I=(L,_="success")=>{B({show:!0,message:L,type:_}),setTimeout(()=>B({show:!1,message:"",type:_}),3e3)},T=async L=>{const _=Et(ke,"orders",L),fe=await _a(_);fe.exists()?(R({id:L,...fe.data()}),U(!0)):I("Order not found","error")},b=L=>{se(L),Z(!0)},k=async()=>{if(J)try{const L=Et(ke,"transactions",J.id);await zl(L),I("Transaction deleted successfully","success"),O()}catch(L){console.error("Error deleting transaction:",L),I("Error deleting transaction","error")}finally{Z(!1),se(null)}},V=L=>{var N,Q,K,te,de,Y,oe,he,xe,_e,Ne,Ce,Pe,Re,Oe,Ge;const _=`
      RECEIPT
      ========================
      Order ID: ${L.orderNumber||L.orderId}
      Date: ${((K=(Q=(N=L.date)==null?void 0:N.toDate)==null?void 0:Q.call(N))==null?void 0:K.toLocaleDateString())||((Y=(de=(te=L.createdAt)==null?void 0:te.toDate)==null?void 0:de.call(te))==null?void 0:Y.toLocaleDateString())||"N/A"}
      Time: ${((xe=(he=(oe=L.date)==null?void 0:oe.toDate)==null?void 0:he.call(oe))==null?void 0:xe.toLocaleTimeString())||((Ce=(Ne=(_e=L.createdAt)==null?void 0:_e.toDate)==null?void 0:Ne.call(_e))==null?void 0:Ce.toLocaleTimeString())||"N/A"}
      
      Customer Details:
      Name: ${((Pe=L.customer)==null?void 0:Pe.name)||"N/A"}
      Phone: ${((Re=L.customer)==null?void 0:Re.phone)||"N/A"}
      Email: ${((Oe=L.customer)==null?void 0:Oe.email)||"N/A"}
      
      Payment Details:
      Amount: ${L.amount}
      Payment Method: ${L.paymentMethod||L.mode||"N/A"}
      Status: ${L.status}
      
      Items Purchased:
      ${((Ge=L.items)==null?void 0:Ge.map(je=>`${je.name} - ${je.weight}g x${je.quantity} - ${je.price*je.quantity}`).join(`
`))||"N/A"}
      
      ========================
      Thank you for your purchase!
    `,fe=new Blob([_],{type:"text/plain"}),$=window.URL.createObjectURL(fe),v=document.createElement("a");v.href=$,v.download=`receipt-${L.orderNumber||L.orderId}.txt`,document.body.appendChild(v),v.click(),document.body.removeChild(v),window.URL.revokeObjectURL($),I("Receipt downloaded successfully","success")};return u.jsxs("div",{className:"relative main-content min-h-screen bg-green-100",children:[u.jsxs("div",{className:"relative z-10 responsive-p-4 sm:responsive-p-8 max-w-6xl mx-auto",children:[u.jsx(jC,{message:M.message,show:M.show,onClose:()=>B({...M,show:!1}),type:M.type}),u.jsx("div",{className:"mb-8 pb-6 border-b border-white/20",children:u.jsx("div",{className:"bg-white/95 backdrop-blur-md rounded-2xl p-6 shadow-xl border border-white/20",children:u.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"responsive-text-3xl sm:responsive-text-4xl font-bold text-slate-800 mb-2 flex items-center gap-3",children:[u.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-slate-600 to-slate-700 rounded-xl flex items-center justify-center text-white text-xl shadow-lg",children:""}),"Transaction Management"]}),u.jsx("p",{className:"text-slate-600 responsive-text-base sm:responsive-text-lg font-medium",children:"Monitor and manage all financial transactions and payment records"})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"bg-green-100 text-green-800 px-4 py-2 rounded-lg font-semibold text-sm",children:[" ",i.length," Transactions"]}),u.jsxs("div",{className:"bg-blue-100 text-blue-800 px-4 py-2 rounded-lg font-semibold text-sm",children:["",j.toFixed(2)," Total"]})]})]})})}),u.jsxs("div",{className:"bg-white/95 backdrop-blur-md rounded-2xl p-6 shadow-xl border border-white/20 mb-8 animate-fade-in",children:[u.jsxs("h3",{className:"responsive-text-lg sm:responsive-text-xl font-bold mb-4 text-slate-800 flex items-center gap-2",style:{fontFamily:"Montserrat, sans-serif",letterSpacing:"0.5px"},children:[u.jsx("div",{className:"w-8 h-8 bg-slate-600 rounded-lg flex items-center justify-center text-white text-sm",children:""}),"Filter Transactions"]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[u.jsx("input",{type:"text",placeholder:"Search by order ID or customer name...",value:m,onChange:L=>g(L.target.value),className:"responsive-btn border-2 border-slate-300 rounded-xl focus:ring-2 focus:ring-slate-600 focus:border-slate-600 transition-all duration-200 bg-white text-black font-semibold shadow-sm placeholder-gray-500",style:{fontFamily:"Inter, sans-serif",fontSize:"1rem",letterSpacing:"0.2px"}}),u.jsx("input",{type:"date",value:y,onChange:L=>w(L.target.value),className:"responsive-btn border-2 border-slate-300 rounded-xl focus:ring-2 focus:ring-slate-600 focus:border-slate-600 transition-all duration-200 bg-white text-black font-semibold shadow-sm",style:{fontFamily:"Inter, sans-serif",fontSize:"1rem",letterSpacing:"0.2px"}})]})]}),u.jsxs("div",{className:"bg-white/95 backdrop-blur-md p-6 rounded-2xl shadow-xl animate-fade-in-up border border-white/20",children:[u.jsxs("h3",{className:"responsive-text-lg sm:responsive-text-xl font-bold mb-6 text-slate-800 flex items-center gap-2",style:{fontFamily:"Montserrat, sans-serif"},children:[u.jsx("div",{className:"w-8 h-8 bg-slate-600 rounded-lg flex items-center justify-center text-white text-sm",children:""}),"Transaction History"]}),c?u.jsx("div",{className:"text-center py-8",children:u.jsx("div",{className:"text-slate-600 responsive-text-lg font-medium",style:{fontFamily:"Inter, sans-serif"},children:" Loading transactions..."})}):F.length===0?u.jsxs("div",{className:"text-center py-8",children:[u.jsx("div",{className:"text-slate-600 responsive-text-lg font-medium",style:{fontFamily:"Inter, sans-serif"},children:" No transactions found"}),u.jsx("p",{className:"text-slate-500 responsive-text-sm mt-2",style:{fontFamily:"Inter, sans-serif"},children:m||y?"Try adjusting your filters.":"Transactions will appear here once orders are placed."})]}):u.jsx("div",{className:"space-y-4",children:F.map(L=>{var _,fe,$,v,N,Q,K,te,de,Y,oe,he,xe;return u.jsx("div",{className:"group relative bg-yellow-100 backdrop-blur-md border-2 border-white/20 rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105 overflow-hidden p-4",children:u.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsxs("h4",{className:"font-bold text-slate-900 responsive-text-lg",style:{fontFamily:"Montserrat, sans-serif"},children:["Order #",L.orderNumber||((_=L.orderId)==null?void 0:_.slice(-8))||"N/A"]}),u.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${L.status==="success"||L.status==="paid"?"bg-green-100 text-green-800":L.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,style:{fontFamily:"Inter, sans-serif"},children:L.status==="success"||L.status==="paid"?" Paid":L.status==="pending"?" Pending":" Failed"})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-slate-600 font-medium",style:{fontFamily:"Inter, sans-serif"},children:"Amount:"}),u.jsxs("p",{className:"font-bold text-slate-900",style:{fontFamily:"Inter, sans-serif"},children:["",L.amount]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-slate-600 font-medium",style:{fontFamily:"Inter, sans-serif"},children:"Payment Method:"}),u.jsx("p",{className:"font-semibold text-slate-900",style:{fontFamily:"Inter, sans-serif"},children:L.paymentMethod||"Razorpay"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-slate-600 font-medium",style:{fontFamily:"Inter, sans-serif"},children:"Date:"}),u.jsx("p",{className:"font-semibold text-slate-900",style:{fontFamily:"Inter, sans-serif"},children:((v=($=(fe=L.date)==null?void 0:fe.toDate)==null?void 0:$.call(fe))==null?void 0:v.toLocaleDateString())||((K=(Q=(N=L.createdAt)==null?void 0:N.toDate)==null?void 0:Q.call(N))==null?void 0:K.toLocaleDateString())||"N/A"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-slate-600 font-medium",style:{fontFamily:"Inter, sans-serif"},children:"Time:"}),u.jsx("p",{className:"font-semibold text-slate-900",style:{fontFamily:"Inter, sans-serif"},children:((Y=(de=(te=L.date)==null?void 0:te.toDate)==null?void 0:de.call(te))==null?void 0:Y.toLocaleTimeString())||((xe=(he=(oe=L.createdAt)==null?void 0:oe.toDate)==null?void 0:he.call(oe))==null?void 0:xe.toLocaleTimeString())||"N/A"})]})]}),L.customer&&u.jsxs("div",{className:"mt-3 p-3 bg-white/80 rounded-lg border border-slate-200",children:[u.jsx("p",{className:"text-slate-600 font-medium mb-1",style:{fontFamily:"Inter, sans-serif"},children:"Customer Details:"}),u.jsxs("p",{className:"font-semibold text-slate-900",style:{fontFamily:"Inter, sans-serif"},children:[L.customer.name," (",L.customer.phone,")",L.customer.email&&` | ${L.customer.email}`]})]}),L.items&&L.items.length>0&&u.jsxs("div",{className:"mt-3",children:[u.jsx("p",{className:"text-slate-600 font-medium mb-2",style:{fontFamily:"Inter, sans-serif"},children:"Items Purchased:"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:L.items.map((_e,Ne)=>u.jsxs("span",{className:"bg-slate-200 text-slate-800 px-2 py-1 rounded-lg text-xs font-medium",style:{fontFamily:"Inter, sans-serif"},children:[_e.name," (",_e.weight,"g) x",_e.quantity]},Ne))})]})]}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("button",{onClick:()=>T(L.orderId),className:"bg-slate-600 text-white px-4 py-2 rounded-xl text-sm hover:bg-slate-700 transition shadow-sm font-semibold",style:{fontFamily:"Inter, sans-serif"},children:"View Details"}),(L.status==="success"||L.status==="paid")&&u.jsx("button",{onClick:()=>V(L),className:"bg-green-600 text-white px-4 py-2 rounded-xl text-sm hover:bg-green-700 transition shadow-sm font-semibold",style:{fontFamily:"Inter, sans-serif"},children:"Download Receipt"}),u.jsx("button",{onClick:()=>b(L),className:"bg-red-600 text-white px-4 py-2 rounded-xl text-sm hover:bg-red-700 transition shadow-sm font-semibold",style:{fontFamily:"Inter, sans-serif"},children:"Delete"})]})]})},L.id)})})]})]}),A&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto border border-slate-200 shadow-2xl",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"text-xl font-bold text-slate-800",style:{fontFamily:"Montserrat, sans-serif"},children:"Transaction Details"}),u.jsx("button",{onClick:()=>{U(!1),R(null)},className:"text-slate-500 hover:text-slate-700 text-2xl font-bold",children:""})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-slate-600 font-medium",style:{fontFamily:"Inter, sans-serif"},children:"Order ID:"}),u.jsx("p",{className:"font-bold text-slate-900",style:{fontFamily:"Inter, sans-serif"},children:A.orderId||A.orderNumber||"N/A"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-slate-600 font-medium",style:{fontFamily:"Inter, sans-serif"},children:"Status:"}),u.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-bold ${A.status==="success"||A.status==="paid"?"bg-green-100 text-green-800":A.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,style:{fontFamily:"Inter, sans-serif"},children:A.status})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-slate-600 font-medium",style:{fontFamily:"Inter, sans-serif"},children:"Amount:"}),u.jsxs("p",{className:"font-bold text-slate-900",style:{fontFamily:"Inter, sans-serif"},children:["",A.amount||((C=A.cart)==null?void 0:C.reduce((L,_)=>L+_.price*_.quantity,0))||0]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-slate-600 font-medium",style:{fontFamily:"Inter, sans-serif"},children:"Payment Method:"}),u.jsx("p",{className:"font-semibold text-slate-900",style:{fontFamily:"Inter, sans-serif"},children:A.paymentMethod||"Razorpay"})]})]}),A.user&&u.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-200",children:[u.jsx("h4",{className:"font-bold text-slate-800 mb-2",style:{fontFamily:"Montserrat, sans-serif"},children:"Customer Information"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("p",{className:"text-slate-600",style:{fontFamily:"Inter, sans-serif"},children:[u.jsx("strong",{children:"Name:"})," ",A.user.name||"N/A"]}),u.jsxs("p",{className:"text-slate-600",style:{fontFamily:"Inter, sans-serif"},children:[u.jsx("strong",{children:"Phone:"})," ",A.user.phone||"N/A"]}),A.user.email&&u.jsxs("p",{className:"text-slate-600",style:{fontFamily:"Inter, sans-serif"},children:[u.jsx("strong",{children:"Email:"})," ",A.user.email]})]})]}),A.cart&&A.cart.length>0&&u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-slate-800 mb-2",style:{fontFamily:"Montserrat, sans-serif"},children:"Items Purchased"}),u.jsx("div",{className:"space-y-2",children:A.cart.map((L,_)=>u.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 rounded-lg border border-slate-200",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-slate-900",style:{fontFamily:"Inter, sans-serif"},children:L.name}),u.jsxs("p",{className:"text-slate-600 text-sm",style:{fontFamily:"Inter, sans-serif"},children:["Weight: ",L.weight,"g | Quantity: ",L.quantity]})]}),u.jsxs("p",{className:"font-bold text-slate-900",style:{fontFamily:"Inter, sans-serif"},children:["",L.price*L.quantity]})]},_))})]})]}),u.jsxs("div",{className:"flex gap-3 mt-6",children:[u.jsx("button",{onClick:()=>{U(!1),R(null)},className:"flex-1 bg-slate-500 text-white px-4 py-2 rounded-xl hover:bg-slate-600 transition font-semibold",style:{fontFamily:"Inter, sans-serif"},children:"Close"}),(A.status==="success"||A.status==="paid")&&u.jsx("button",{onClick:()=>V(A),className:"flex-1 bg-green-600 text-white px-4 py-2 rounded-xl hover:bg-green-700 transition font-semibold",style:{fontFamily:"Inter, sans-serif"},children:"Download Receipt"})]})]})}),X&&J&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full border border-slate-200 shadow-2xl",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:u.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),u.jsx("h3",{className:"text-xl font-bold text-slate-800",style:{fontFamily:"Montserrat, sans-serif"},children:"Delete Transaction"})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("p",{className:"text-slate-600 mb-3",style:{fontFamily:"Inter, sans-serif"},children:"Are you sure you want to delete this transaction? This action cannot be undone."}),u.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:[u.jsxs("p",{className:"text-sm text-red-800 font-medium",style:{fontFamily:"Inter, sans-serif"},children:["Order ID: ",J.orderNumber||((z=J.orderId)==null?void 0:z.slice(-8))||"N/A"]}),u.jsxs("p",{className:"text-sm text-red-800",style:{fontFamily:"Inter, sans-serif"},children:["Amount: ",J.amount]}),u.jsxs("p",{className:"text-sm text-red-800",style:{fontFamily:"Inter, sans-serif"},children:["Customer: ",((ae=J.customer)==null?void 0:ae.name)||"N/A"]})]})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:()=>{Z(!1),se(null)},className:"flex-1 bg-slate-500 text-white px-4 py-2 rounded-xl hover:bg-slate-600 transition font-semibold",style:{fontFamily:"Inter, sans-serif"},children:"Cancel"}),u.jsx("button",{onClick:k,className:"flex-1 bg-red-600 text-white px-4 py-2 rounded-xl hover:bg-red-700 transition font-semibold",style:{fontFamily:"Inter, sans-serif"},children:"Delete"})]})]})})]})}function IC(){const{user:s,loading:e}=Nn(),t=kn(),[i,l]=H.useState([]),[c,h]=H.useState(!0),[m,g]=H.useState({name:"",category:"",price:"",image:null,quantity:"",price6:"",price12:"",price30:"",pricePerEgg:""}),[y,w]=H.useState(null),[A,R]=H.useState(null),[q,U]=H.useState(null),[M,B]=H.useState(""),[X,Z]=H.useState(!1),[J,se]=H.useState(null),[O,F]=H.useState({show:!1,message:"",type:"success"});H.useEffect(()=>{!e&&(!s||!s.isAdmin)&&t("/login")},[s,e,t]),H.useEffect(()=>{const z=Ih(ot(ke,"products"),ae=>{l(ae.docs.map(L=>({id:L.id,...L.data()}))),h(!1)},ae=>{R("Failed to load products. "+(ae.message||"")),h(!1)});return()=>z()},[]);const j=(z,ae="success")=>{F({show:!0,message:z,type:ae}),setTimeout(()=>F({show:!1,message:"",type:"success"}),3e3)},I=z=>{const{name:ae,value:L,files:_}=z.target;if(ae==="image"&&_&&_[0]){const fe=new FileReader;fe.onloadend=()=>{g($=>({...$,image:fe.result}))},fe.readAsDataURL(_[0])}else g(fe=>({...fe,[ae]:L}))},T=async z=>{if(z.preventDefault(),m.category==="eggs"){if(!m.name||!m.category||!m.pricePerEgg||!m.quantity||!m.image&&!y){j("Please fill out all product details, including the image.","error");return}}else if(!m.name||!m.category||!m.price||!m.quantity||!m.image&&!y){j("Please fill out all product details, including the image.","error");return}if(!y){const ae=m.name.toLowerCase().trim();if(i.some(_=>_.name.toLowerCase().trim()===ae)){j("A product with this name already exists.","error");return}}try{let ae=m.image;const L={name:m.name,category:m.category,price:Number(m.price),quantity:Number(m.quantity),imageUrl:ae,...m.category==="eggs"&&{pricePerEgg:Number(m.pricePerEgg)}};y?(await Dn(Et(ke,"products",y),L),j("Product updated successfully","success")):(await ps(ot(ke,"products"),L),j("Product added successfully","success")),g({name:"",category:"",price:"",image:null,quantity:"",price6:"",price12:"",price30:"",pricePerEgg:""}),w(null)}catch(ae){j("Failed to save product. Please try again.","error"),console.error("Product save error:",ae)}},b=z=>{g({name:z.name,category:z.category,price:z.price,image:z.imageUrl,quantity:z.quantity,price6:z.price6||"",price12:z.price12||"",price30:z.price30||"",pricePerEgg:z.pricePerEgg||""}),w(z.id),window.scrollTo({top:0,behavior:"smooth"})},k=async z=>{if(window.confirm("Are you sure you want to delete this product?"))try{await zl(Et(ke,"products",z)),j("Product deleted successfully","success")}catch{j("Failed to delete product.","error")}},V=(z,ae)=>{U(z),B(ae)},C=async z=>{try{await Dn(Et(ke,"products",z),{price:Number(M)}),U(null),B("")}catch{j("Failed to update price.","error")}};return u.jsxs("div",{className:"relative main-content min-h-screen bg-green-100",children:[u.jsx(Fl,{message:O.message,show:O.show,onClose:()=>F({...O,show:!1}),type:O.type}),u.jsxs("div",{className:"relative z-10 responsive-p-4 sm:responsive-p-8 max-w-7xl mx-auto",children:[u.jsx("div",{className:"mb-8 pb-6 border-b border-white/20",children:u.jsx("div",{className:"bg-white/95 backdrop-blur-md rounded-2xl p-6 shadow-xl border border-white/20",children:u.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"responsive-text-3xl sm:responsive-text-4xl font-bold text-slate-800 mb-2 flex items-center gap-3",children:[u.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-slate-600 to-slate-700 rounded-xl flex items-center justify-center text-white text-xl shadow-lg",children:""}),"Product Management"]}),u.jsx("p",{className:"text-slate-600 responsive-text-base sm:responsive-text-lg font-medium",children:"Add, edit, and manage your product inventory with ease"})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"bg-blue-100 text-blue-800 px-4 py-2 rounded-lg font-semibold text-sm",children:[" ",i.length," Products"]}),u.jsx("div",{className:"bg-green-100 text-green-800 px-4 py-2 rounded-lg font-semibold text-sm",children:" Active"})]})]})})}),u.jsxs("form",{onSubmit:T,className:"mb-8 space-y-4 bg-white/95 backdrop-blur-md p-6 rounded-2xl shadow-xl animate-fade-in-up border border-white/20",children:[u.jsxs("h3",{className:"text-lg font-bold mb-4 text-slate-800 flex items-center gap-2",style:{fontFamily:"Montserrat, sans-serif"},children:[u.jsx("div",{className:"w-8 h-8 bg-slate-600 rounded-lg flex items-center justify-center text-white text-sm",children:""}),"Add/Edit Product"]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsx("input",{name:"name",value:m.name,onChange:I,placeholder:"Product Name",className:"p-3 border-2 border-slate-200 rounded-xl w-full focus:ring-2 focus:ring-slate-400 focus:border-slate-400 transition-all duration-200 bg-white/90 text-slate-900 font-medium shadow-sm",style:{fontFamily:"Inter, sans-serif"},required:!0}),u.jsxs("select",{name:"category",value:m.category,onChange:I,className:"p-3 border-2 border-slate-200 rounded-xl w-full focus:ring-2 focus:ring-slate-400 focus:border-slate-400 transition-all duration-200 bg-white/90 text-slate-900 font-medium shadow-sm",style:{fontFamily:"Inter, sans-serif"},required:!0,children:[u.jsx("option",{value:"",disabled:!0,children:"Select Category"}),u.jsx("option",{value:"chicken",children:"Chicken"}),u.jsx("option",{value:"mutton",children:"Mutton"}),u.jsx("option",{value:"goat",children:"Goat"}),u.jsx("option",{value:"eggs",children:"Eggs"}),u.jsx("option",{value:"masalas",children:"Masalas"})]}),m.category==="eggs"?u.jsxs(u.Fragment,{children:[u.jsx("input",{name:"pricePerEgg",value:m.pricePerEgg,onChange:I,placeholder:"Price () per Egg",type:"number",className:"p-3 border-2 border-slate-200 rounded-xl w-full focus:ring-2 focus:ring-slate-400 focus:border-slate-400 transition-all duration-200 bg-white/90 text-slate-900 font-medium shadow-sm",style:{fontFamily:"Inter, sans-serif"},required:!0}),u.jsx("input",{name:"quantity",value:m.quantity,onChange:I,placeholder:"Total Eggs in Stock (pieces)",type:"number",className:"p-3 border-2 border-slate-200 rounded-xl w-full focus:ring-2 focus:ring-slate-400 focus:border-slate-400 transition-all duration-200 bg-white/90 text-slate-900 font-medium shadow-sm",style:{fontFamily:"Inter, sans-serif"},required:!0})]}):u.jsxs(u.Fragment,{children:[u.jsx("input",{name:"price",value:m.price,onChange:I,placeholder:"Price (/kg)",type:"number",className:"p-3 border-2 border-slate-200 rounded-xl w-full focus:ring-2 focus:ring-slate-400 focus:border-slate-400 transition-all duration-200 bg-white/90 text-slate-900 font-medium shadow-sm",style:{fontFamily:"Inter, sans-serif"},required:!0}),u.jsx("input",{name:"quantity",value:m.quantity,onChange:I,placeholder:"Stock (kg)",type:"number",min:"0",className:"p-3 border-2 border-slate-200 rounded-xl w-full focus:ring-2 focus:ring-slate-400 focus:border-slate-400 transition-all duration-200 bg-white/90 text-slate-900 font-medium shadow-sm",style:{fontFamily:"Inter, sans-serif"},required:!0})]})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("input",{name:"image",type:"file",accept:"image/*",onChange:I,className:"p-3 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-slate-400 focus:border-slate-400 transition-all duration-200 bg-white/90 text-slate-900 font-medium shadow-sm",style:{fontFamily:"Inter, sans-serif"}}),m.image&&u.jsx("img",{src:m.image,alt:"Preview",className:"w-16 h-16 object-cover rounded-xl border-2 border-slate-200 shadow-sm"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{className:"bg-slate-600 text-white px-6 py-3 rounded-xl shadow-lg hover:bg-slate-700 transition font-semibold",type:"submit",style:{fontFamily:"Inter, sans-serif"},children:[y?"Update":"Add"," Product"]}),y&&u.jsx("button",{type:"button",className:"px-6 py-3 text-slate-600 hover:text-slate-800 border border-slate-300 rounded-xl hover:bg-slate-50 transition shadow-sm",onClick:()=>{g({name:"",category:"",price:"",image:null,quantity:"",price6:"",price12:"",price30:"",pricePerEgg:""}),w(null)},style:{fontFamily:"Inter, sans-serif"},children:"Cancel"})]})]}),A&&u.jsx("div",{className:"mb-4 p-4 bg-red-100 border border-red-300 text-red-700 rounded-xl shadow-sm",children:A}),u.jsxs("div",{className:"bg-white/95 backdrop-blur-md p-6 rounded-2xl shadow-xl animate-fade-in-up border border-white/20",children:[u.jsxs("h3",{className:"text-lg font-bold mb-4 text-slate-800 flex items-center gap-2",style:{fontFamily:"Montserrat, sans-serif"},children:[u.jsx("div",{className:"w-8 h-8 bg-slate-600 rounded-lg flex items-center justify-center text-white text-sm",children:""}),"Product Inventory"]}),c?u.jsx("div",{className:"text-center py-8",children:u.jsx("div",{className:"text-slate-600 responsive-text-lg font-medium",children:" Loading products..."})}):i.length===0?u.jsxs("div",{className:"text-center py-8",children:[u.jsx("div",{className:"text-slate-600 responsive-text-lg font-medium",children:" No products available"}),u.jsx("p",{className:"text-slate-500 responsive-text-sm mt-2",children:"Add your first product using the form above."})]}):u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(z=>u.jsxs("div",{className:"group relative bg-yellow-100 backdrop-blur-md border-2 border-white/20 rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105 overflow-hidden flex flex-col",children:[u.jsx("img",{src:z.imageUrl,alt:z.name,className:"w-full h-48 object-cover"}),u.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-slate-900 responsive-text-lg mb-1",style:{fontFamily:"Montserrat, sans-serif"},children:z.name}),u.jsxs("p",{className:"text-slate-600 responsive-text-sm",style:{fontFamily:"Inter, sans-serif"},children:["Category: ",u.jsx("span",{className:"font-medium text-slate-700",children:z.category})]}),z.category==="eggs"?u.jsxs(u.Fragment,{children:[u.jsxs("p",{className:"text-slate-600 responsive-text-sm",style:{fontFamily:"Inter, sans-serif"},children:["Price: ",u.jsxs("span",{className:"font-medium text-slate-700",children:["",z.pricePerEgg,"/egg"]})]}),u.jsxs("p",{className:"text-slate-600 responsive-text-sm",style:{fontFamily:"Inter, sans-serif"},children:["Stock: ",u.jsxs("span",{className:"font-medium text-slate-700",children:[z.quantity," pieces"]})]})]}):u.jsxs(u.Fragment,{children:[u.jsxs("p",{className:"text-slate-600 responsive-text-sm",style:{fontFamily:"Inter, sans-serif"},children:["Price: ",u.jsxs("span",{className:"font-medium text-slate-700",children:["",z.price,"/kg"]})]}),u.jsxs("p",{className:"text-slate-600 responsive-text-sm",style:{fontFamily:"Inter, sans-serif"},children:["Stock: ",u.jsxs("span",{className:"font-medium text-slate-700",children:[z.quantity," kg"]})]})]})]}),u.jsx("div",{className:"flex-grow"}),u.jsx("div",{className:"mt-4",children:z.category==="eggs"?null:q===z.id?u.jsxs("div",{className:"space-y-2",children:[u.jsx("input",{type:"number",value:M,onChange:ae=>B(ae.target.value),className:"w-full p-2 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-slate-400 focus:border-slate-400",placeholder:"New Price"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>C(z.id),className:"flex-1 bg-slate-600 text-white px-3 py-1 rounded-lg text-sm hover:bg-slate-700 shadow-sm",children:"Save"}),u.jsx("button",{onClick:()=>U(null),className:"flex-1 bg-slate-400 text-white px-3 py-1 rounded-lg text-sm hover:bg-slate-500 shadow-sm",children:"Cancel"})]})]}):u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("span",{className:"font-bold text-slate-700 responsive-text-lg",style:{fontFamily:"Inter, sans-serif"},children:["",z.price,"/kg"]}),u.jsx("button",{onClick:()=>V(z.id,z.price),className:"bg-slate-200 text-slate-800 px-3 py-1 rounded-lg text-xs font-semibold hover:bg-slate-300 transition shadow-sm",children:"Edit Price"})]})}),u.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200 flex gap-2",children:[u.jsx("button",{onClick:()=>b(z),className:"flex-1 bg-slate-600 text-white px-3 py-2 rounded-lg text-sm hover:bg-slate-700 transition shadow-sm font-semibold",children:"Edit Details"}),u.jsx("button",{onClick:()=>k(z.id),className:"flex-1 bg-red-600 text-white px-3 py-2 rounded-lg text-sm hover:bg-red-700 transition shadow-sm font-semibold",children:"Delete"})]})]})]},z.id))})]})]}),X&&J&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full border border-slate-200 shadow-2xl",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-10 h-10 bg-yellow-100 rounded-full flex items-center justify-center",children:u.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),u.jsx("h3",{className:"text-xl font-bold text-slate-800",style:{fontFamily:"Montserrat, sans-serif"},children:"Product Already Exists"})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("p",{className:"text-slate-600 mb-3",style:{fontFamily:"Inter, sans-serif"},children:"A product with the same name and image already exists in your inventory."}),u.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("img",{src:J.imageUrl,alt:J.name,className:"w-12 h-12 object-cover rounded-lg border border-yellow-200"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-yellow-800 font-medium",style:{fontFamily:"Inter, sans-serif"},children:J.name}),u.jsxs("p",{className:"text-sm text-yellow-700",style:{fontFamily:"Inter, sans-serif"},children:["Category: ",J.category]}),u.jsxs("p",{className:"text-sm text-yellow-700",style:{fontFamily:"Inter, sans-serif"},children:["Price: ",J.price,"/kg"]})]})]})}),u.jsx("p",{className:"text-sm text-slate-500 mt-3",style:{fontFamily:"Inter, sans-serif"},children:"Please use a different product name or image to add a new product."})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:()=>{Z(!1),se(null)},className:"flex-1 bg-slate-500 text-white px-4 py-2 rounded-xl hover:bg-slate-600 transition font-semibold",style:{fontFamily:"Inter, sans-serif"},children:"OK, I Understand"}),u.jsx("button",{onClick:()=>{Z(!1),se(null),g({name:"",category:"",price:"",image:null,quantity:"",price6:"",price12:"",price30:"",pricePerEgg:""})},className:"flex-1 bg-yellow-600 text-white px-4 py-2 rounded-xl hover:bg-yellow-700 transition font-semibold",style:{fontFamily:"Inter, sans-serif"},children:"Clear Form"})]})]})})]})}function CC({isOpen:s,onClose:e,employee:t,onConfirm:i}){const[l,c]=H.useState("");if(H.useEffect(()=>{s||c("")},[s]),!s)return null;const h=()=>{const m=Number(l);if(isNaN(m)||m<=0){alert("Please enter a valid payment amount.");return}i(m)};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 flex justify-center items-center",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 w-full max-w-md m-4 transform transition-all animate-scale-in",children:[u.jsxs("h3",{className:"text-xl font-bold text-slate-800 mb-4",children:["Record Payment for ",t.name]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Payment Amount ()"}),u.jsx("input",{type:"number",value:l,onChange:m=>c(m.target.value),placeholder:"Enter amount paid",className:"w-full responsive-btn border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-slate-400 focus:border-slate-400 transition-all duration-200 bg-white/90 text-slate-900 font-medium shadow-sm"})]}),u.jsxs("div",{className:"flex justify-end gap-3",children:[u.jsx("button",{onClick:e,className:"px-6 py-3 text-slate-600 hover:text-slate-800 border border-slate-300 rounded-xl hover:bg-slate-50 transition shadow-sm font-semibold",children:"Cancel"}),u.jsx("button",{onClick:h,className:"bg-slate-600 text-white px-6 py-3 rounded-xl shadow-lg hover:bg-slate-700 transition font-semibold",children:"Confirm Payment"})]})]})]})})}function OC(){const{user:s,loading:e}=Nn(),t=kn(),[i,l]=H.useState([]),[c,h]=H.useState([]),[m,g]=H.useState([]),[y,w]=H.useState(!0),[A,R]=H.useState(!0),[q,U]=H.useState({show:!1,message:"",type:"success"}),[M,B]=H.useState("employees"),[X,Z]=H.useState({name:"",phone:"",salary:"",joinDate:"",position:"",leaveBalance:20}),[J,se]=H.useState({employeeId:"",startDate:"",endDate:"",reason:"",leaveType:"casual"}),[O,F]=H.useState(null),[j,I]=H.useState(!1),[T,b]=H.useState(null);H.useEffect(()=>{if(!e&&(!s||!s.isAdmin)){t("/login");return}!e&&s&&s.isAdmin&&(k(),V(),C())},[s,e,t]);const k=async()=>{try{w(!0);const oe=(await vn(ot(ke,"employees"))).docs.map(he=>({id:he.id,...he.data()}));l(oe)}catch(Y){console.error("Error fetching employees:",Y),K("Error loading employees","error")}finally{w(!1)}},V=async()=>{try{R(!0);const oe=(await vn(ot(ke,"leaveRequests"))).docs.map(he=>({id:he.id,...he.data()}));h(oe)}catch(Y){console.error("Error fetching leave requests:",Y),K("Error loading leave requests","error")}finally{R(!1)}},C=async()=>{try{const Y=new Date,oe=new Date(Y.getFullYear(),Y.getMonth(),1),he=new Date(Y.getFullYear(),Y.getMonth()+1,0,23,59,59),xe=ss(ot(ke,"payroll"),Rl("paymentDate",">=",oe),Rl("paymentDate","<=",he)),Ne=(await vn(xe)).docs.map(Ce=>({id:Ce.id,...Ce.data()}));g(Ne)}catch(Y){console.error("Error fetching payroll data:",Y),K("Error loading payroll data","error")}},z=Y=>{const{name:oe,value:he}=Y.target;Z(xe=>({...xe,[oe]:he}))},ae=Y=>{const{name:oe,value:he}=Y.target;se(xe=>({...xe,[oe]:he}))},L=async Y=>{Y.preventDefault();try{const oe={name:X.name,phone:X.phone,salary:Number(X.salary),joinDate:X.joinDate,position:X.position,leaveBalance:Number(X.leaveBalance),updatedAt:Cn()};O?(await Dn(Et(ke,"employees",O),oe),K("Employee updated successfully")):(oe.createdAt=Cn(),await ps(ot(ke,"employees"),oe),K("Employee added successfully")),Z({name:"",phone:"",salary:"",joinDate:"",position:"",leaveBalance:20}),F(null),k()}catch(oe){console.error("Error saving employee:",oe),K("Error saving employee","error")}},_=async Y=>{Y.preventDefault();try{const oe=new Date(J.startDate),he=new Date(J.endDate),xe=Math.ceil((he-oe)/(1e3*60*60*24))+1,_e=i.find(Ce=>Ce.id===J.employeeId);if(!_e){K("Please select a valid employee","error");return}if(xe>_e.leaveBalance){K(`Employee only has ${_e.leaveBalance} days leave balance`,"error");return}const Ne={employeeId:J.employeeId,employeeName:_e.name,startDate:J.startDate,endDate:J.endDate,daysRequested:xe,reason:J.reason,leaveType:J.leaveType,status:"pending",createdAt:Cn()};await ps(ot(ke,"leaveRequests"),Ne),K("Leave request submitted successfully"),se({employeeId:"",startDate:"",endDate:"",reason:"",leaveType:"casual"}),V()}catch(oe){console.error("Error submitting leave request:",oe),K("Error submitting leave request","error")}},fe=async(Y,oe)=>{try{const he=c.find(_e=>_e.id===Y);if(!he)return;const xe=i.find(_e=>_e.id===he.employeeId);if(!xe)return;if(oe==="approve"){await Dn(Et(ke,"leaveRequests",Y),{status:"approved",approvedAt:Cn(),approvedBy:(s==null?void 0:s.email)||(s==null?void 0:s.name)||"Admin"});const _e=xe.leaveBalance-he.daysRequested;await Dn(Et(ke,"employees",he.employeeId),{leaveBalance:_e,updatedAt:Cn()}),K("Leave request approved successfully")}else oe==="reject"&&(await Dn(Et(ke,"leaveRequests",Y),{status:"rejected",rejectedAt:Cn(),rejectedBy:(s==null?void 0:s.email)||(s==null?void 0:s.name)||"Admin"}),K("Leave request rejected"));V(),k()}catch(he){console.error("Error processing leave request:",he),K("Error processing leave request","error")}},$=Y=>{Z({name:Y.name||"",phone:Y.phone||"",salary:Y.salary||"",joinDate:Y.joinDate||"",position:Y.position||"",leaveBalance:Y.leaveBalance||20}),F(Y.id)},v=async Y=>{if(window.confirm("Are you sure you want to delete this employee?"))try{await zl(Et(ke,"employees",Y)),K("Employee deleted successfully"),k()}catch(oe){console.error("Error deleting employee:",oe),K("Error deleting employee","error")}},N=Y=>{switch(Y){case"pending":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Q=Y=>{switch(Y){case"casual":return"bg-blue-100 text-blue-800";case"sick":return"bg-red-100 text-red-800";case"annual":return"bg-green-100 text-green-800";case"maternity":return"bg-pink-100 text-pink-800";default:return"bg-gray-100 text-gray-800"}},K=(Y,oe="success")=>{U({show:!0,message:Y,type:oe}),setTimeout(()=>U({show:!1,message:"",type:oe}),3e3)},te=async Y=>{if(!T){K("No employee selected for payment.","error");return}try{await ps(ot(ke,"payroll"),{employeeId:T.id,employeeName:T.name,amount:Number(Y),paymentDate:Cn(),recordedBy:(s==null?void 0:s.email)||(s==null?void 0:s.name)||"Admin"}),K(`Payment of ${Y} recorded for ${T.name}`),C()}catch(oe){console.error("Error recording payment:",oe),K("Error recording payment","error")}finally{I(!1),b(null)}},de=Y=>{b(Y),I(!0)};return u.jsxs("div",{className:"relative main-content min-h-screen bg-green-100",children:[u.jsx(CC,{isOpen:j,onClose:()=>I(!1),employee:T,onConfirm:te}),u.jsxs("div",{className:"relative z-10 responsive-p-4 sm:responsive-p-8 max-w-6xl mx-auto",children:[u.jsx(Fl,{message:q.message,show:q.show,onClose:()=>U({...q,show:!1}),type:q.type}),u.jsx("div",{className:"mb-8 pb-6 border-b border-white/20",children:u.jsx("div",{className:"bg-white/95 backdrop-blur-md rounded-2xl p-6 shadow-xl border border-white/20",children:u.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"responsive-text-3xl sm:responsive-text-4xl font-bold text-slate-800 mb-2 flex items-center gap-3",children:[u.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-slate-600 to-slate-700 rounded-xl flex items-center justify-center text-white text-xl shadow-lg",children:""}),"Employee & Leave Management"]}),u.jsx("p",{className:"text-slate-600 responsive-text-base sm:responsive-text-lg font-medium",children:"Manage employee information and leave requests"})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"bg-blue-100 text-blue-800 px-4 py-2 rounded-lg font-semibold text-sm",children:[" ",i.length," Employees"]}),u.jsxs("div",{className:"bg-orange-100 text-orange-800 px-4 py-2 rounded-lg font-semibold text-sm",children:[" ",c.filter(Y=>Y.status==="pending").length," Pending Leaves"]})]})]})})}),u.jsx("div",{className:"mb-6",children:u.jsxs("div",{className:"flex space-x-1 bg-slate-100 p-1 rounded-xl",children:[u.jsx("button",{onClick:()=>B("employees"),className:`flex-1 py-3 px-6 rounded-lg font-semibold transition-all ${M==="employees"?"bg-white text-slate-800 shadow-sm":"text-slate-600 hover:text-slate-800"}`,children:" Employees"}),u.jsx("button",{onClick:()=>B("leaves"),className:`flex-1 py-3 px-6 rounded-lg font-semibold transition-all ${M==="leaves"?"bg-white text-slate-800 shadow-sm":"text-slate-600 hover:text-slate-800"}`,children:" Leave Management"})]})}),M==="employees"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"bg-white/95 backdrop-blur-md rounded-2xl p-6 shadow-xl border border-white/20 mb-8 animate-fade-in",children:[u.jsxs("h3",{className:"responsive-text-lg sm:responsive-text-xl font-bold mb-4 text-slate-800 flex items-center gap-2",children:[u.jsx("div",{className:"w-8 h-8 bg-slate-600 rounded-lg flex items-center justify-center text-white text-sm",children:""}),O?"Edit Employee":"Add New Employee"]}),u.jsxs("form",{onSubmit:L,className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[u.jsx("input",{name:"name",value:X.name,onChange:z,placeholder:"Employee Name",className:"responsive-btn border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-slate-400 focus:border-slate-400 transition-all duration-200 bg-white/90 text-slate-900 font-medium shadow-sm",required:!0}),u.jsx("input",{name:"phone",value:X.phone,onChange:z,placeholder:"Phone Number",className:"responsive-btn border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-slate-400 focus:border-slate-400 transition-all duration-200 bg-white/90 text-slate-900 font-medium shadow-sm",required:!0}),u.jsx("input",{name:"salary",value:X.salary,onChange:z,placeholder:"Salary ()",type:"number",className:"responsive-btn border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-slate-400 focus:border-slate-400 transition-all duration-200 bg-white/90 text-slate-900 font-medium shadow-sm",required:!0}),u.jsx("input",{name:"joinDate",value:X.joinDate,onChange:z,placeholder:"Join Date",type:"date",className:"responsive-btn border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-slate-400 focus:border-slate-400 transition-all duration-200 bg-white/90 text-slate-900 font-medium shadow-sm",required:!0}),u.jsx("input",{name:"position",value:X.position,onChange:z,placeholder:"Position",className:"responsive-btn border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-slate-400 focus:border-slate-400 transition-all duration-200 bg-white/90 text-slate-900 font-medium shadow-sm",required:!0})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{className:"bg-slate-600 text-white px-6 py-3 rounded-xl shadow-lg hover:bg-slate-700 transition font-semibold",type:"submit",children:O?"Update Employee":"Add Employee"}),O&&u.jsx("button",{type:"button",className:"px-6 py-3 text-slate-600 hover:text-slate-800 border border-slate-300 rounded-xl hover:bg-slate-50 transition shadow-sm",onClick:()=>{Z({name:"",phone:"",salary:"",joinDate:"",position:"",leaveBalance:20}),F(null)},children:"Cancel"})]})]})]}),u.jsxs("div",{className:"bg-white/95 backdrop-blur-md p-6 rounded-2xl shadow-xl animate-fade-in-up border border-white/20",children:[u.jsxs("h3",{className:"responsive-text-lg sm:responsive-text-xl font-bold mb-6 text-slate-800 flex items-center gap-2",children:[u.jsx("div",{className:"w-8 h-8 bg-slate-600 rounded-lg flex items-center justify-center text-white text-sm",children:""}),"Employee Directory"]}),y?u.jsx("div",{className:"text-center py-8",children:u.jsx("div",{className:"text-slate-600 responsive-text-lg font-medium",children:"Loading employees..."})}):i.length===0?u.jsxs("div",{className:"text-center py-8",children:[u.jsx("div",{className:"text-slate-600 responsive-text-lg font-medium",children:"No employees found"}),u.jsx("p",{className:"text-slate-500 responsive-text-sm mt-2",children:"Add your first employee using the form above."})]}):u.jsx("div",{className:"space-y-4",children:i.map(Y=>{var xe;const oe=m.filter(_e=>_e.employeeId===Y.id).reduce((_e,Ne)=>_e+Ne.amount,0),he=(Y.salary||0)-oe;return u.jsx("div",{className:"group relative bg-yellow-100 backdrop-blur-md border-2 border-white/20 rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105 overflow-hidden p-4",children:u.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("h4",{className:"font-bold text-slate-900 responsive-text-lg",children:Y.name}),u.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-slate-600 text-white",children:Y.position}),u.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${Y.leaveBalance>10?"bg-green-100 text-green-800":Y.leaveBalance>5?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[Y.leaveBalance," days leave"]})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 text-sm mb-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-slate-600 font-medium",children:"Phone:"}),u.jsx("p",{className:"font-semibold text-slate-900",children:Y.phone})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-slate-600 font-medium",children:"Monthly Salary:"}),u.jsxs("p",{className:"font-bold text-slate-900",children:["",(xe=Y.salary)==null?void 0:xe.toLocaleString()]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-slate-600 font-medium",children:"Join Date:"}),u.jsx("p",{className:"font-semibold text-slate-900",children:Y.joinDate})]})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 p-3 bg-white/60 rounded-lg border border-slate-200/80",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-slate-500 font-semibold",children:"PAID THIS MONTH"}),u.jsxs("p",{className:"font-bold text-lg text-green-600",children:["",oe.toLocaleString()]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-slate-500 font-semibold",children:"BALANCE DUE"}),u.jsxs("p",{className:"font-bold text-lg text-red-600",children:["",he.toLocaleString()]})]}),u.jsx("button",{onClick:()=>de(Y),className:"bg-green-600 text-white px-4 py-2 rounded-xl text-sm hover:bg-green-700 transition shadow-sm font-semibold self-center",children:"Record Payment"})]})]}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("button",{onClick:()=>$(Y),className:"bg-slate-600 text-white px-4 py-2 rounded-xl text-sm hover:bg-slate-700 transition shadow-sm font-semibold",children:"Edit"}),u.jsx("button",{onClick:()=>v(Y.id),className:"bg-red-600 text-white px-4 py-2 rounded-xl text-sm hover:bg-red-700 transition shadow-sm font-semibold",children:"Delete"})]})]})},Y.id)})})]})]}),M==="leaves"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"bg-white/95 backdrop-blur-md rounded-2xl p-6 shadow-xl border border-white/20 mb-8 animate-fade-in",children:[u.jsxs("h3",{className:"responsive-text-lg sm:responsive-text-xl font-bold mb-4 text-slate-800 flex items-center gap-2",children:[u.jsx("div",{className:"w-8 h-8 bg-slate-600 rounded-lg flex items-center justify-center text-white text-sm",children:""}),"Submit Leave Request"]}),u.jsxs("form",{onSubmit:_,className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[u.jsxs("select",{name:"employeeId",value:J.employeeId,onChange:ae,className:"responsive-btn border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-slate-400 focus:border-slate-400 transition-all duration-200 bg-white/90 text-slate-900 font-medium shadow-sm",required:!0,children:[u.jsx("option",{value:"",children:"Select Employee"}),i.map(Y=>u.jsxs("option",{value:Y.id,children:[Y.name," (",Y.leaveBalance," days left)"]},Y.id))]}),u.jsxs("select",{name:"leaveType",value:J.leaveType,onChange:ae,className:"responsive-btn border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-slate-400 focus:border-slate-400 transition-all duration-200 bg-white/90 text-slate-900 font-medium shadow-sm",required:!0,children:[u.jsx("option",{value:"casual",children:"Casual Leave"}),u.jsx("option",{value:"sick",children:"Sick Leave"}),u.jsx("option",{value:"annual",children:"Annual Leave"}),u.jsx("option",{value:"maternity",children:"Maternity Leave"})]}),u.jsx("input",{name:"startDate",value:J.startDate,onChange:ae,placeholder:"Start Date",type:"date",className:"responsive-btn border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-slate-400 focus:border-slate-400 transition-all duration-200 bg-white/90 text-slate-900 font-medium shadow-sm",required:!0}),u.jsx("input",{name:"endDate",value:J.endDate,onChange:ae,placeholder:"End Date",type:"date",className:"responsive-btn border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-slate-400 focus:border-slate-400 transition-all duration-200 bg-white/90 text-slate-900 font-medium shadow-sm",required:!0}),u.jsx("input",{name:"reason",value:J.reason,onChange:ae,placeholder:"Reason for Leave",className:"responsive-btn border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-slate-400 focus:border-slate-400 transition-all duration-200 bg-white/90 text-slate-900 font-medium shadow-sm col-span-2",required:!0})]}),u.jsx("div",{className:"flex gap-2",children:u.jsx("button",{className:"bg-slate-600 text-white px-6 py-3 rounded-xl shadow-lg hover:bg-slate-700 transition font-semibold",type:"submit",children:"Submit Leave Request"})})]})]}),u.jsxs("div",{className:"bg-white/95 backdrop-blur-md p-6 rounded-2xl shadow-xl animate-fade-in-up border border-white/20",children:[u.jsxs("h3",{className:"responsive-text-lg sm:responsive-text-xl font-bold mb-6 text-slate-800 flex items-center gap-2",children:[u.jsx("div",{className:"w-8 h-8 bg-slate-600 rounded-lg flex items-center justify-center text-white text-sm",children:""}),"Leave Requests"]}),A?u.jsx("div",{className:"text-center py-8",children:u.jsx("div",{className:"text-slate-600 responsive-text-lg font-medium",children:"Loading leave requests..."})}):c.length===0?u.jsxs("div",{className:"text-center py-8",children:[u.jsx("div",{className:"text-slate-600 responsive-text-lg font-medium",children:"No leave requests found"}),u.jsx("p",{className:"text-slate-500 responsive-text-sm mt-2",children:"Submit a leave request using the form above."})]}):u.jsx("div",{className:"space-y-4",children:c.map(Y=>{var oe,he,xe,_e,Ne;return u.jsx("div",{className:"group relative bg-yellow-100 backdrop-blur-md border-2 border-white/20 rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105 overflow-hidden p-4",children:u.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("h4",{className:"font-bold text-slate-900 responsive-text-lg",children:Y.employeeName}),u.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${N(Y.status)}`,children:((oe=Y.status)==null?void 0:oe.toUpperCase())||"PENDING"}),u.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${Q(Y.leaveType)}`,children:((he=Y.leaveType)==null?void 0:he.toUpperCase())||"CASUAL"}),u.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-blue-100 text-blue-800",children:[Y.daysRequested," days"]})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-slate-600 font-medium",children:"Start Date:"}),u.jsx("p",{className:"font-semibold text-slate-900",children:Y.startDate})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-slate-600 font-medium",children:"End Date:"}),u.jsx("p",{className:"font-semibold text-slate-900",children:Y.endDate})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-slate-600 font-medium",children:"Reason:"}),u.jsx("p",{className:"font-semibold text-slate-900",children:Y.reason})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-slate-600 font-medium",children:"Submitted:"}),u.jsx("p",{className:"font-semibold text-slate-900",children:((Ne=(_e=(xe=Y.createdAt)==null?void 0:xe.toDate)==null?void 0:_e.call(xe))==null?void 0:Ne.toLocaleDateString())||"N/A"})]})]})]}),Y.status==="pending"&&u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("button",{onClick:()=>fe(Y.id,"approve"),className:"bg-green-600 text-white px-4 py-2 rounded-xl text-sm hover:bg-green-700 transition shadow-sm font-semibold",children:"Approve"}),u.jsx("button",{onClick:()=>fe(Y.id,"reject"),className:"bg-red-600 text-white px-4 py-2 rounded-xl text-sm hover:bg-red-700 transition shadow-sm font-semibold",children:"Reject"})]})]})},Y.id)})})]})]})]})]})}const DC="modulepreload",kC=function(s){return"/"+s},A_={},MC=function(e,t,i){let l=Promise.resolve();if(t&&t.length>0){let h=function(y){return Promise.all(y.map(w=>Promise.resolve(w).then(A=>({status:"fulfilled",value:A}),A=>({status:"rejected",reason:A}))))};document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),g=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));l=h(t.map(y=>{if(y=kC(y),y in A_)return;A_[y]=!0;const w=y.endsWith(".css"),A=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${A}`))return;const R=document.createElement("link");if(R.rel=w?"stylesheet":DC,w||(R.as="script"),R.crossOrigin="",R.href=y,g&&R.setAttribute("nonce",g),document.head.appendChild(R),w)return new Promise((q,U)=>{R.addEventListener("load",q),R.addEventListener("error",()=>U(new Error(`Unable to preload CSS for ${y}`)))})}))}function c(h){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=h,window.dispatchEvent(m),!m.defaultPrevented)throw h}return l.then(h=>{for(const m of h||[])m.status==="rejected"&&c(m.reason);return e().catch(c)})};function PC(){var A,R,q,U,M,B,X,Z,J;const[s]=zS(),e=s.get("orderId"),[t,i]=H.useState(null),[l,c]=H.useState(!0);H.useEffect(()=>{async function se(){if(e){c(!0);try{const O=Et(ke,"orders",e),F=await _a(O);if(F.exists()){i(F.data()),c(!1);return}const{collection:j,query:I,where:T,getDocs:b}=await MC(async()=>{const{collection:z,query:ae,where:L,getDocs:_}=await Promise.resolve().then(()=>RR);return{collection:z,query:ae,where:L,getDocs:_}},[]),k=j(ke,"orders"),V=I(k,T("orderId","==",e)),C=await b(V);if(!C.empty){const z=C.docs[0];i(z.data())}}catch(O){console.error("Error fetching order:",O)}c(!1)}}se()},[e]);const h=()=>{(t==null?void 0:t.billType)==="blob"&&(t!=null&&t.billUrl)&&setTimeout(()=>{bC(e,t.billUrl)},5e3)},m=se=>{if(!se)return{date:"N/A",time:"N/A",full:"N/A"};const O=se.toDate?se.toDate():new Date(se);return{date:O.toLocaleDateString("en-IN"),time:O.toLocaleTimeString("en-IN"),full:O.toLocaleString("en-IN")}};if(l)return u.jsxs("div",{className:"responsive-container responsive-p-8 text-center main-content",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),u.jsx("p",{children:"Loading order details..."})]});if(!t)return u.jsxs("div",{className:"responsive-container responsive-p-8 text-center text-red-600 main-content",children:[u.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Order Not Found"}),u.jsx("p",{children:"The order you're looking for doesn't exist."}),u.jsx(Qt,{to:"/",className:"inline-block mt-4 bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition",children:"Back to Home"})]});const g=((A=t.cart)==null?void 0:A.reduce((se,O)=>se+O.price*O.quantity,0))||0,y=m(t.createdAt),w=((R=t.cart)==null?void 0:R.reduce((se,O)=>se+O.weight*O.quantity,0))||0;return u.jsxs("div",{className:"responsive-container responsive-p-4 sm:responsive-p-8 max-w-4xl mx-auto main-content",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),u.jsx("h1",{className:"text-3xl font-bold text-green-600 mb-2",children:"Payment Successful!"}),u.jsx("p",{className:"text-gray-600",children:"Your order has been confirmed and payment processed."}),u.jsx("div",{className:"mt-4",children:u.jsxs("span",{className:"inline-block bg-green-100 text-green-800 px-4 py-2 rounded-full font-semibold",children:["Order #",t.orderId||e]})})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[u.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 border border-gray-200",children:[u.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800 flex items-center",children:" Order Information"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Order ID:"}),u.jsxs("span",{className:"font-mono font-bold text-gray-800 bg-gray-100 px-2 py-1 rounded",children:["#",t.orderId||e]})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Date:"}),u.jsx("span",{className:"font-semibold text-gray-800",children:y.date})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Time:"}),u.jsx("span",{className:"font-semibold text-gray-800",children:y.time})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Status:"}),u.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${t.status==="paid"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:t.status==="paid"?" Paid":" Pending"})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Source:"}),u.jsx("span",{className:"font-semibold text-gray-800 capitalize",children:t.source||"Online"})]})]})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 border border-gray-200",children:[u.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800 flex items-center",children:" Payment Information"}),u.jsxs("div",{className:"space-y-3",children:[t.paymentId&&u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Payment ID:"}),u.jsx("span",{className:"font-mono text-xs text-gray-800 bg-gray-100 px-2 py-1 rounded break-all",children:t.paymentId})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Method:"}),u.jsx("span",{className:"font-semibold text-gray-800 capitalize",children:t.paymentMethod||"Razorpay"})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Total Amount:"}),u.jsxs("span",{className:"font-bold text-xl text-green-600",children:["",g]})]}),t.razorpayOrderId&&u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Razorpay Order:"}),u.jsx("span",{className:"font-mono text-xs text-gray-800 bg-gray-100 px-2 py-1 rounded break-all",children:t.razorpayOrderId})]})]})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 border border-gray-200",children:[u.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800 flex items-center",children:" Customer Details"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Name:"}),u.jsx("span",{className:"font-semibold text-gray-800",children:(q=t.user)==null?void 0:q.name})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Phone:"}),u.jsx("span",{className:"font-semibold text-gray-800",children:(U=t.user)==null?void 0:U.phone})]}),((M=t.user)==null?void 0:M.email)&&u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Email:"}),u.jsx("span",{className:"font-semibold text-gray-800 break-all",children:t.user.email})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Items Count:"}),u.jsxs("span",{className:"font-semibold text-gray-800",children:[((B=t.cart)==null?void 0:B.length)||0," items"]})]})]})]})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6 border border-gray-200",children:[u.jsxs("h2",{className:"text-xl font-bold mb-4 text-gray-800 flex items-center",children:[" Order Items (",((X=t.cart)==null?void 0:X.length)||0," items)"]}),u.jsx("div",{className:"space-y-4",children:(Z=t.cart)==null?void 0:Z.map((se,O)=>u.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-4",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("div",{className:"font-semibold text-gray-800 text-lg mb-2",children:se.name}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Weight:"}),u.jsxs("span",{className:"ml-2 text-gray-800 font-semibold",children:[se.weight,"g"]})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Quantity:"}),u.jsx("span",{className:"ml-2 text-gray-800 font-semibold",children:se.quantity})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Price per kg:"}),u.jsxs("span",{className:"ml-2 text-gray-800 font-semibold",children:["",se.price]})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-600 font-medium",children:"Total Weight:"}),u.jsxs("span",{className:"ml-2 text-gray-800 font-semibold",children:[se.weight*se.quantity,"g"]})]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:"font-bold text-green-600 text-xl",children:["",se.price*se.quantity]}),u.jsxs("div",{className:"text-gray-500 text-sm",children:["",se.price,"/kg"]}),u.jsxs("div",{className:"text-gray-400 text-xs mt-1",children:[se.weight,"g  ",se.quantity]})]})]})},O))})]}),u.jsxs("div",{className:"bg-gradient-to-r from-green-100 to-green-200 rounded-lg p-6 mb-6 border-2 border-green-300",children:[u.jsx("h2",{className:"text-xl font-bold mb-4 text-green-800 flex items-center",children:" Order Summary"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-green-600 font-medium",children:"Total Items"}),u.jsx("div",{className:"font-bold text-2xl text-green-800",children:((J=t.cart)==null?void 0:J.length)||0})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-green-600 font-medium",children:"Total Weight"}),u.jsxs("div",{className:"font-bold text-2xl text-green-800",children:[w,"g"]})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-green-600 font-medium",children:"Total Amount"}),u.jsxs("div",{className:"font-bold text-2xl text-green-800",children:["",g]})]})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[t.billUrl?u.jsx("a",{href:t.billUrl,target:t.billType==="blob"?void 0:"_blank",rel:t.billType==="blob"?void 0:"noopener noreferrer",className:"flex-1 bg-blue-600 text-white text-center px-6 py-3 rounded-lg hover:bg-blue-700 transition font-semibold",download:t.billType==="blob"?`Taaza-Bill-${t.orderId||e}.pdf`:void 0,onClick:h,children:" Download E-Bill"}):u.jsx("div",{className:"flex-1 bg-gray-100 text-gray-600 text-center px-6 py-3 rounded-lg",children:" E-Bill Generating..."}),u.jsx(Qt,{to:"/orders",className:"flex-1 bg-green-600 text-white text-center px-6 py-3 rounded-lg hover:bg-green-700 transition font-semibold",children:" View All Orders"}),u.jsx(Qt,{to:"/",className:"flex-1 bg-gray-600 text-white text-center px-6 py-3 rounded-lg hover:bg-gray-700 transition font-semibold",children:" Continue Shopping"})]})]})}function LC({message:s,show:e,onClose:t,type:i="success"}){return u.jsxs("div",{className:`fixed top-6 right-6 z-50 transition-all duration-500 ${e?"opacity-100 translate-x-0":"opacity-0 translate-x-20"} ${i==="success"?"bg-green-500":"bg-red-500"} text-white px-6 py-3 rounded shadow-lg flex items-center gap-2`,style:{pointerEvents:e?"auto":"none"},children:[i==="success"?u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}):u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),u.jsx("span",{children:s}),u.jsx("button",{className:"ml-2 text-white/80 hover:text-white",onClick:t,children:""})]})}function VC(){const{setUser:s}=Nn(),e=kn(),[t,i]=H.useState(""),[l,c]=H.useState(""),[h,m]=H.useState(!1),[g,y]=H.useState({show:!1,message:"",type:"success"}),[w,A]=H.useState(null),[R,q]=H.useState(!1),U=(X,Z="success")=>{y({show:!0,message:X,type:Z}),setTimeout(()=>y({show:!1,message:"",type:Z}),3e3)},M=async X=>{if(X.length===10&&/^\d+$/.test(X)){q(!0);try{const Z=ot(ke,"users"),J=ss(Z,Rl("mobile","==",X)),se=await vn(J);if(se.empty)A(null);else{const O=se.docs[0].data();A(O),i(O.name)}}catch(Z){console.error("Error checking existing user:",Z)}finally{q(!1)}}else A(null)},B=async X=>{X.preventDefault(),m(!0);try{if(!t.trim()||!l.trim()){U("Please enter both name and mobile number","error"),m(!1);return}if(l.length!==10||!/^\d+$/.test(l)){U("Please enter a valid 10-digit mobile number","error"),m(!1);return}const Z=ot(ke,"users"),J=ss(Z,Rl("mobile","==",l)),se=await vn(J);let O,F;if(se.empty){const I={name:t.trim(),mobile:l,type:"customer",createdAt:Cn(),lastLogin:Cn()};F=(await ps(ot(ke,"users"),I)).id,O=I,U("New user account created successfully!","success")}else{const I=se.docs[0];F=I.id,O=I.data(),U(`Welcome back, ${O.name}!`,"success"),await p2(Et(ke,"users",F),{lastLogin:Cn()},{merge:!0})}const j=O.type==="admin";s({id:F,name:O.name,mobile:O.mobile,type:O.type,isAdmin:j}),setTimeout(j?()=>e("/admin/dashboard"):()=>e("/"),1e3)}catch(Z){console.error("Login error:",Z),U("Login failed. Please try again.","error")}finally{m(!1)}};return u.jsxs("div",{className:"login-root h-screen bg-black flex items-center justify-center p-4 overflow-hidden",children:[u.jsx(LC,{message:g.message,show:g.show,type:g.type,onClose:()=>y({...g,show:!1})}),u.jsxs("div",{className:"flex flex-col justify-center gap-4 lg:gap-0 lg:flex-row w-full max-w-4xl bg-transparent rounded-2xl overflow-hidden shadow-2xl h-full lg:h-auto lg:max-h-[90vh]",children:[u.jsxs("div",{className:"w-full lg:w-1/2 bg-transparent p-6 lg:p-12 flex flex-col justify-center order-2 lg:order-1 overflow-y-auto",children:[u.jsx("h2",{className:"text-white text-3xl lg:text-4xl font-bold mb-4 lg:mb-8 text-left",children:"Login or Sign Up"}),u.jsxs("form",{onSubmit:B,className:"w-full max-w-md",children:[u.jsxs("div",{className:"mb-3 lg:mb-4",children:[u.jsx("label",{className:"text-white font-medium mb-1 block text-base lg:text-lg",children:"Full Name"}),u.jsx("input",{type:"text",placeholder:"Enter your full name",className:"w-full px-4 py-2 lg:py-3 rounded-lg border-2 border-gray-700 bg-transparent text-white text-base lg:text-lg focus:outline-none focus:border-red-500 transition-colors",value:t,onChange:X=>i(X.target.value),required:!0})]}),u.jsxs("div",{className:"mb-3 lg:mb-4",children:[u.jsx("label",{className:"text-white font-medium mb-1 block text-base lg:text-lg",children:"Mobile Number"}),u.jsx("input",{type:"tel",placeholder:"Enter your 10-digit mobile number",maxLength:"10",className:"w-full px-4 py-2 lg:py-3 rounded-lg border-2 border-gray-700 bg-transparent text-white text-base lg:text-lg focus:outline-none focus:border-red-500 transition-colors",value:l,onChange:X=>{c(X.target.value),M(X.target.value)},required:!0}),R&&u.jsx("div",{className:"text-yellow-500 text-sm mt-2",children:"Checking mobile number..."}),w&&u.jsx("div",{className:"text-green-400 text-sm mt-2 p-3 bg-green-900/50 rounded-lg border border-green-700",children:" Welcome back! Your registered name has been auto-filled."})]}),u.jsx("button",{className:"w-full bg-red-600 hover:bg-red-700 text-white py-2.5 lg:py-3 rounded-xl font-bold text-lg lg:text-xl mb-3 cursor-pointer shadow-lg hover:shadow-xl transition-all duration-300",type:"submit",disabled:h,children:h?"Signing In...":"Sign In"}),u.jsx("div",{className:"mt-2 lg:mt-4 flex flex-col gap-2",children:u.jsx("p",{className:"text-gray-400 text-sm lg:text-base text-left",children:"By signing in, you agree to our terms and conditions"})})]})]}),u.jsx("div",{className:"w-full lg:w-1/2 flex bg-gradient-to-br from-gray-900 to-black items-center justify-center relative p-4 lg:p-8 order-1 lg:order-2",children:u.jsxs("div",{className:"text-center text-white z-10 flex flex-col items-center gap-4 lg:gap-6",children:[u.jsx("h2",{className:"text-white text-3xl lg:text-4xl font-bold",children:"Welcome to Taaza"}),u.jsx("img",{src:A2,alt:"Taaza",className:"w-2/3 max-w-[240px] lg:w-4/5 lg:max-w-sm h-auto rounded-2xl shadow-lg"}),u.jsxs("div",{className:"mt-2 lg:mt-4",children:[u.jsx("h3",{className:"text-2xl lg:text-3xl font-bold mb-1 lg:mb-2",children:"Fresh Meat Market"}),u.jsx("p",{className:"text-base lg:text-lg opacity-90",children:"Quality products, delivered fresh"})]})]})})]})]})}const UC=[{to:"/admin/dashboard",label:"Dashboard",icon:u.jsx(AI,{})},{to:"/admin/transaction",label:"Transaction",icon:u.jsx(n_,{})},{to:"/admin/products",label:"Products",icon:u.jsx(EI,{})},{to:"/admin/employees",label:"Employees",icon:u.jsx(RI,{})},{to:"/admin/orders",label:"Orders",icon:u.jsx(Fp,{})},{to:"/admin/analytics",label:"Analytics",icon:u.jsx(n_,{})},{to:"/admin/settings",label:"Settings",icon:u.jsx(wI,{})}];function zC({children:s}){const e=vs(),{user:t,logout:i}=Nn(),[l,c]=H.useState(!1),[h,m]=H.useState(!1),[g,y]=H.useState(!1),w=()=>{i()};return u.jsxs("div",{className:"min-h-screen flex bg-white",children:[l&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>c(!1)}),u.jsxs("div",{className:`fixed inset-y-0 left-0 z-50 bg-white/95 backdrop-blur-md shadow-2xl transform transition-all duration-300 ease-in-out ${l?"translate-x-0":"-translate-x-full lg:translate-x-0"} ${h?"w-16":"w-64"}`,children:[u.jsxs("div",{className:"flex items-center justify-between h-20 px-4 border-b border-slate-200 bg-gradient-to-r from-slate-800 via-slate-900 to-slate-800 shadow-lg",children:[!h&&u.jsxs("h1",{className:"text-xl font-bold text-white flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center",children:""}),u.jsx("span",{className:"font-extrabold tracking-wide",children:"Taaza Admin"})]}),h&&u.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center mx-auto",children:""}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{className:"lg:hidden text-white hover:text-slate-200 transition-colors",onClick:()=>c(!1),children:u.jsx(S2,{size:16})}),u.jsx("button",{className:"hidden lg:block text-white hover:text-slate-200 transition-colors",onClick:()=>m(!h),children:h?u.jsx(bI,{size:16}):u.jsx(xI,{size:16})})]})]}),u.jsxs("nav",{className:"mt-6 px-2 h-[calc(100vh-120px)] overflow-y-auto",children:[u.jsx("div",{className:"space-y-2",children:UC.map(A=>u.jsxs(Qt,{to:A.to,className:`flex items-center gap-3 px-3 py-4 rounded-xl text-sm font-medium transition-all duration-300 group relative ${e.pathname.startsWith(A.to)?"bg-gradient-to-r from-slate-600 to-slate-700 text-white shadow-lg scale-105 border-l-4 border-white":"text-slate-600 hover:bg-slate-50 hover:text-slate-800 hover:border-l-4 hover:border-slate-400 hover:scale-105"} ${h?"justify-center":""}`,onClick:()=>c(!1),title:h?A.label:"",children:[u.jsx("span",{className:`text-lg transition-colors ${e.pathname.startsWith(A.to)?"text-white":"text-slate-500 group-hover:text-slate-700"}`,children:A.icon}),!h&&u.jsx("span",{className:"font-semibold",children:A.label}),h&&u.jsx("div",{className:"absolute left-full ml-2 px-2 py-1 bg-slate-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-50",children:A.label})]},A.to))}),u.jsx("div",{className:"mt-8 pt-6 border-t border-slate-200",children:u.jsxs("button",{onClick:w,className:`w-full flex items-center gap-3 px-3 py-4 rounded-xl text-sm font-medium text-red-600 hover:bg-red-50 hover:text-red-700 transition-all duration-300 group hover:scale-105 relative ${h?"justify-center":""}`,title:h?"Logout":"",children:[u.jsx("span",{className:"text-lg text-red-500 group-hover:text-red-600",children:u.jsx(T2,{})}),!h&&u.jsx("span",{className:"font-semibold",children:"Logout"}),h&&u.jsx("div",{className:"absolute left-full ml-2 px-2 py-1 bg-red-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-50",children:"Logout"})]})})]})]}),u.jsxs("div",{className:`flex-1 flex flex-col transition-all duration-300 ease-in-out ${h?"lg:ml-16":"lg:ml-64"}`,children:[u.jsx("header",{className:"bg-white/95 backdrop-blur-md shadow-lg border-b border-slate-200 sticky top-0 z-30 flex-shrink-0",children:u.jsxs("div",{className:"flex items-center justify-between h-16 px-6",children:[u.jsx("div",{className:"flex items-center gap-4",children:u.jsx("button",{className:"lg:hidden p-2 rounded-lg text-slate-600 hover:text-slate-900 hover:bg-slate-100 transition-colors",onClick:()=>c(!0),children:u.jsx(E2,{size:20})})}),u.jsx("div",{className:"hidden lg:flex items-center",children:u.jsx("h1",{className:"text-lg font-bold text-slate-900",children:"Taaza Management System"})}),u.jsx("div",{className:"flex items-center gap-4",children:u.jsxs("div",{className:"relative",children:[u.jsxs("button",{className:"flex items-center gap-3 p-2 rounded-lg text-slate-600 hover:text-slate-900 hover:bg-slate-100 transition-colors",onClick:()=>y(!g),children:[u.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-slate-600 to-slate-700 rounded-full flex items-center justify-center text-white text-sm font-semibold",children:u.jsx(N2,{size:14})}),u.jsxs("div",{className:"hidden md:block text-left",children:[u.jsx("div",{className:"text-sm font-semibold text-slate-900",children:(t==null?void 0:t.name)||"Admin"}),u.jsx("div",{className:"text-xs text-slate-500",children:"Administrator"})]}),u.jsx(vI,{size:12,className:"text-slate-400"})]}),g&&u.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-xl border border-slate-200 py-2 z-50",children:[u.jsxs("div",{className:"px-4 py-2 border-b border-slate-100",children:[u.jsx("div",{className:"text-sm font-semibold text-slate-900",children:(t==null?void 0:t.name)||"Admin"}),u.jsx("div",{className:"text-xs text-slate-500",children:(t==null?void 0:t.mobile)||"admin@taaza.com"})]}),u.jsx(Qt,{to:"/admin/settings",className:"block px-4 py-2 text-sm text-slate-700 hover:bg-slate-50 transition-colors",onClick:()=>y(!1),children:"Settings"}),u.jsx("button",{onClick:()=>{w(),y(!1)},className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:"Logout"})]})]})})]})}),u.jsx("main",{className:"flex-1 overflow-y-auto overflow-x-hidden bg-gray-50",children:u.jsx("div",{className:"responsive-p-4 sm:responsive-p-6 lg:responsive-p-8",children:u.jsx("div",{className:"main-content min-h-screen bg-green-100",children:s||u.jsx(oS,{})})})})]})]})}function FC({message:s,show:e,onClose:t,type:i="success"}){return u.jsxs("div",{className:`fixed top-6 right-6 z-50 transition-all duration-500 ${e?"opacity-100 translate-x-0":"opacity-0 translate-x-20"} ${i==="success"?"bg-green-500":"bg-red-500"} text-white px-6 py-3 rounded shadow-lg flex items-center gap-2`,style:{pointerEvents:e?"auto":"none"},children:[i==="success"?u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}):u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),u.jsx("span",{children:s}),u.jsx("button",{className:"ml-2 text-white/80 hover:text-white",onClick:t,children:""})]})}function qC(){var L,_,fe,$,v;const{user:s,loading:e}=Nn(),t=kn(),[i,l]=H.useState([]),[c,h]=H.useState(!0),[m,g]=H.useState(""),[y,w]=H.useState(""),[A,R]=H.useState(""),[q,U]=H.useState(""),[M,B]=H.useState(null),[X,Z]=H.useState({show:!1,message:"",type:"success"}),[J,se]=H.useState(!1),[O,F]=H.useState(null),[j,I]=H.useState(null);H.useEffect(()=>{!e&&(!s||!s.isAdmin)&&t("/login")},[s,e,t]);const T=async()=>{try{h(!0),console.log("Fetching orders...");const N=ss(ot(ke,"orders"),Ul("createdAt","desc")),K=(await vn(N)).docs.map(te=>({id:te.id,...te.data()}));console.log("Orders fetched:",K.length),l(K)}catch(N){console.error("Error fetching orders:",N),V("Error loading orders","error")}finally{h(!1)}};H.useEffect(()=>{T()},[]);const b=i.filter(N=>{var Y,oe,he,xe,_e,Ne,Ce,Pe,Re,Oe,Ge;const Q=!m||((Y=N.id)==null?void 0:Y.toLowerCase().includes(m.toLowerCase()))||((oe=N.orderId)==null?void 0:oe.toString().includes(m))||((Ne=(_e=(xe=(he=N.cart)==null?void 0:he[0])==null?void 0:xe.customerInfo)==null?void 0:_e.name)==null?void 0:Ne.toLowerCase().includes(m.toLowerCase()))||((Ce=N.customerName)==null?void 0:Ce.toLowerCase().includes(m.toLowerCase()))||((Pe=N.source)==null?void 0:Pe.toLowerCase().includes(m.toLowerCase())),K=!y||N.status===y,te=!A||N.source===A,de=!q||((Ge=(Oe=(Re=N.createdAt)==null?void 0:Re.toDate)==null?void 0:Oe.call(Re))==null?void 0:Ge.toISOString().slice(0,10))===q;return Q&&K&&te&&de}),k=i.filter(N=>N.status==="pending"||N.status==="confirmed").length,V=(N,Q="success")=>{Z({show:!0,message:N,type:Q}),setTimeout(()=>Z({show:!1,message:"",type:Q}),3e3)},C=N=>{I(j===N?null:N)},z=N=>{F(N),se(!0)},ae=async()=>{if(O)try{const N=Et(ke,"orders",O.id);await zl(N),V("Order deleted successfully","success"),T()}catch(N){console.error("Error deleting order:",N),V("Error deleting order","error")}finally{se(!1),F(null)}};return u.jsxs("div",{className:"relative main-content min-h-screen bg-green-100",children:[u.jsxs("div",{className:"relative z-10 responsive-p-4 sm:responsive-p-8 max-w-7xl mx-auto",children:[u.jsx(FC,{message:X.message,show:X.show,onClose:()=>Z({...X,show:!1}),type:X.type}),u.jsx("div",{className:"mb-8",children:u.jsx("div",{className:"bg-white/95 backdrop-blur-md rounded-2xl p-6 shadow-xl border border-white/20",children:u.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-6",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("h2",{className:"responsive-text-3xl sm:responsive-text-4xl font-bold text-slate-800 mb-3 flex items-center gap-3",children:"Order Management System"}),u.jsx("p",{className:"text-slate-600 responsive-text-base sm:responsive-text-lg font-medium mb-4",children:"Track, manage, and fulfill customer orders efficiently with real-time updates"}),u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[u.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[u.jsx("div",{className:"text-2xl font-bold text-blue-600",children:i.length}),u.jsx("div",{className:"text-sm text-blue-700 font-medium",children:"Total Orders"})]}),u.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:[u.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:k}),u.jsx("div",{className:"text-sm text-yellow-700 font-medium",children:"Pending"})]}),u.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[u.jsx("div",{className:"text-2xl font-bold text-green-600",children:i.filter(N=>N.status==="paid"||N.status==="confirmed").length}),u.jsx("div",{className:"text-sm text-green-700 font-medium",children:"Active"})]})]})]}),u.jsxs("div",{className:"flex flex-col gap-3",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"bg-green-100 text-green-800 px-4 py-2 rounded-lg font-semibold text-sm",children:" System Online"}),u.jsx("div",{className:"bg-blue-100 text-blue-800 px-4 py-2 rounded-lg font-semibold text-sm",children:" Live Data"})]}),u.jsxs("div",{className:"text-right text-sm text-slate-600",children:["Last updated: ",new Date().toLocaleTimeString()]})]})]})})}),u.jsxs("div",{className:"bg-white/95 backdrop-blur-md rounded-2xl p-6 shadow-xl border border-white/20 mb-8 animate-fade-in",children:[u.jsxs("h3",{className:"responsive-text-lg sm:responsive-text-xl font-bold mb-6 text-slate-800 flex items-center gap-2",style:{fontFamily:"Montserrat, sans-serif"},children:[u.jsx("div",{className:"w-8 h-8 bg-slate-600 rounded-lg flex items-center justify-center text-white text-sm",children:""}),"Advanced Order Filters"]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[u.jsxs("div",{className:"lg:col-span-2",children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Search Orders"}),u.jsx("input",{type:"text",placeholder:"Search by order ID, customer name, or source...",value:m,onChange:N=>g(N.target.value),className:"w-full responsive-btn border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-slate-400 focus:border-slate-400 transition-all duration-200 bg-white/90 text-slate-900 font-medium shadow-sm",style:{fontFamily:"Inter, sans-serif"}})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Status"}),u.jsxs("select",{value:y,onChange:N=>w(N.target.value),className:"w-full responsive-btn border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-slate-400 focus:border-slate-400 transition-all duration-200 bg-white/90 text-slate-900 font-medium shadow-sm",style:{fontFamily:"Inter, sans-serif"},children:[u.jsx("option",{value:"",children:"All Status"}),u.jsx("option",{value:"pending",children:" Pending"}),u.jsx("option",{value:"confirmed",children:" Confirmed (Offline)"}),u.jsx("option",{value:"paid",children:" Paid"}),u.jsx("option",{value:"cancelled",children:" Cancelled"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Source"}),u.jsxs("select",{value:A,onChange:N=>R(N.target.value),className:"w-full responsive-btn border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-slate-400 focus:border-slate-400 transition-all duration-200 bg-white/90 text-slate-900 font-medium shadow-sm",style:{fontFamily:"Inter, sans-serif"},children:[u.jsx("option",{value:"",children:"All Sources"}),u.jsx("option",{value:"admin",children:" Admin"}),u.jsx("option",{value:"online",children:" Online"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Date"}),u.jsx("input",{type:"date",value:q,onChange:N=>U(N.target.value),className:"w-full responsive-btn border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-slate-400 focus:border-slate-400 transition-all duration-200 bg-white/90 text-slate-900 font-medium shadow-sm",style:{fontFamily:"Inter, sans-serif"}})]})]}),u.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[m&&u.jsxs("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium",children:['Search: "',m,'"']}),y&&u.jsxs("span",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium",children:["Status: ",y]}),A&&u.jsxs("span",{className:"bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm font-medium",children:["Source: ",A]}),q&&u.jsxs("span",{className:"bg-orange-100 text-orange-800 px-3 py-1 rounded-full text-sm font-medium",children:["Date: ",q]}),(m||y||A||q)&&u.jsx("button",{onClick:()=>{g(""),w(""),R(""),U("")},className:"bg-red-100 text-red-800 px-3 py-1 rounded-full text-sm font-medium hover:bg-red-200 transition",children:"Clear All"})]})]}),u.jsxs("div",{className:"bg-white/95 backdrop-blur-md p-6 rounded-2xl shadow-xl animate-fade-in-up border border-white/20",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[u.jsxs("h3",{className:"responsive-text-lg sm:responsive-text-xl font-bold text-slate-800 flex items-center gap-2",style:{fontFamily:"Montserrat, sans-serif"},children:[u.jsx("div",{className:"w-8 h-8 bg-slate-600 rounded-lg flex items-center justify-center text-white text-sm",children:""}),"Order History (",b.length," orders)"]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",b.length," of ",i.length," orders"]}),u.jsx("button",{onClick:T,className:"bg-slate-600 text-white px-4 py-2 rounded-xl text-sm hover:bg-slate-700 transition shadow-sm font-semibold flex items-center gap-2",style:{fontFamily:"Inter, sans-serif"},children:" Refresh"})]})]}),c?u.jsx("div",{className:"text-center py-8",children:u.jsx("div",{className:"text-slate-600 responsive-text-lg font-medium",style:{fontFamily:"Inter, sans-serif"},children:" Loading orders..."})}):b.length===0?u.jsxs("div",{className:"text-center py-8",children:[u.jsx("div",{className:"text-slate-600 responsive-text-lg font-medium",style:{fontFamily:"Inter, sans-serif"},children:" No orders found"}),u.jsx("p",{className:"text-slate-500 responsive-text-sm mt-2",style:{fontFamily:"Inter, sans-serif"},children:m||y||q?"Try adjusting your filters.":"Orders will appear here once customers make purchases."})]}):u.jsx("div",{className:"space-y-6",children:b.map(N=>{var te,de,Y,oe,he,xe,_e,Ne,Ce,Pe,Re;const Q=((te=N.cart)==null?void 0:te.reduce((Oe,Ge)=>Oe+Ge.price*Ge.quantity,0))||0,K=((de=N.cart)==null?void 0:de.reduce((Oe,Ge)=>Oe+Ge.weight*Ge.quantity,0))||0;return N.id,u.jsxs("div",{className:"group relative bg-yellow-100 backdrop-blur-md border-2 border-white/20 rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105 overflow-hidden",children:[u.jsx("div",{className:"p-6 border-b border-slate-100 bg-gradient-to-r from-slate-50 to-white",children:u.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-3",children:[u.jsx("h4",{className:"font-bold text-slate-900 responsive-text-lg flex items-center gap-2",style:{fontFamily:"Montserrat, sans-serif"},children:u.jsxs("span",{className:"bg-slate-100 text-slate-700 px-3 py-1 rounded-lg text-sm font-mono",children:["#",N.orderId||N.id.slice(-8)]})}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${N.status==="paid"?"bg-green-100 text-green-800":N.status==="pending"?"bg-yellow-100 text-yellow-800":N.status==="confirmed"?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`,style:{fontFamily:"Inter, sans-serif"},children:N.status==="paid"?" Paid":N.status==="pending"?" Pending":N.status==="confirmed"?" Offline":" Cancelled"}),N.source&&u.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${N.source==="admin"?"bg-purple-100 text-purple-800":"bg-orange-100 text-orange-800"}`,style:{fontFamily:"Inter, sans-serif"},children:N.source==="admin"?" Admin":" Online"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[u.jsxs("div",{className:"bg-slate-50 rounded-lg p-3",children:[u.jsx("p",{className:"text-slate-600 font-medium mb-1",style:{fontFamily:"Inter, sans-serif"},children:"Total Amount:"}),u.jsxs("p",{className:"font-bold text-slate-900 text-lg",style:{fontFamily:"Inter, sans-serif"},children:["",Q]})]}),u.jsxs("div",{className:"bg-slate-50 rounded-lg p-3",children:[u.jsx("p",{className:"text-slate-600 font-medium mb-1",style:{fontFamily:"Inter, sans-serif"},children:"Items:"}),u.jsxs("p",{className:"font-semibold text-slate-900",style:{fontFamily:"Inter, sans-serif"},children:[((Y=N.cart)==null?void 0:Y.length)||0," items"]})]}),u.jsxs("div",{className:"bg-slate-50 rounded-lg p-3",children:[u.jsx("p",{className:"text-slate-600 font-medium mb-1",style:{fontFamily:"Inter, sans-serif"},children:"Weight:"}),u.jsxs("p",{className:"font-semibold text-slate-900",style:{fontFamily:"Inter, sans-serif"},children:[K,"g"]})]}),u.jsxs("div",{className:"bg-slate-50 rounded-lg p-3",children:[u.jsx("p",{className:"text-slate-600 font-medium mb-1",style:{fontFamily:"Inter, sans-serif"},children:"Date & Time:"}),u.jsx("p",{className:"font-semibold text-slate-900",style:{fontFamily:"Inter, sans-serif"},children:((xe=(he=(oe=N.createdAt)==null?void 0:oe.toDate)==null?void 0:he.call(oe))==null?void 0:xe.toLocaleDateString())||"N/A"}),u.jsx("p",{className:"text-xs text-slate-600",style:{fontFamily:"Inter, sans-serif"},children:((Ce=(Ne=(_e=N.createdAt)==null?void 0:_e.toDate)==null?void 0:Ne.call(_e))==null?void 0:Ce.toLocaleTimeString())||"N/A"})]})]})]}),u.jsx("div",{className:"flex flex-col gap-2 min-w-fit",children:u.jsx("div",{className:"flex items-center justify-between gap-4",children:u.jsx("div",{className:"flex flex-col",children:u.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[u.jsxs("button",{onClick:()=>C(N.id),className:"text-xs font-semibold text-white bg-blue-500 hover:bg-blue-600 rounded-md px-3 py-1.5 transition-all shadow-sm",children:[j===N.id?"Hide":"Show"," Details"]}),u.jsx("button",{onClick:()=>z(N),className:"text-xs font-semibold text-white bg-red-600 hover:bg-red-700 rounded-md px-3 py-1.5 transition-all shadow-sm",children:"Delete Order"})]})})})})]})}),j===N.id&&u.jsxs("div",{className:"p-6 bg-slate-50 border-b border-slate-200",children:[u.jsx("h5",{className:"font-semibold text-slate-800 mb-3 flex items-center gap-2",style:{fontFamily:"Inter, sans-serif"},children:" Customer Information"}),N.cart&&N.cart.length>0&&((Pe=N.cart[0])==null?void 0:Pe.customerInfo)&&u.jsx("div",{className:"bg-white rounded-lg p-4 border border-slate-200",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-slate-600 font-medium",style:{fontFamily:"Inter, sans-serif"},children:"Name:"}),u.jsx("span",{className:"ml-2 font-semibold text-slate-900",style:{fontFamily:"Inter, sans-serif"},children:N.cart[0].customerInfo.name})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-slate-600 font-medium",style:{fontFamily:"Inter, sans-serif"},children:"Phone:"}),u.jsx("span",{className:"ml-2 font-semibold text-slate-900",style:{fontFamily:"Inter, sans-serif"},children:N.cart[0].customerInfo.phone})]}),N.cart[0].customerInfo.email&&u.jsxs("div",{children:[u.jsx("span",{className:"text-slate-600 font-medium",style:{fontFamily:"Inter, sans-serif"},children:"Email:"}),u.jsx("span",{className:"ml-2 font-semibold text-slate-900 break-all",style:{fontFamily:"Inter, sans-serif"},children:N.cart[0].customerInfo.email})]})]})}),N.customerName&&u.jsx("div",{className:"bg-white rounded-lg p-4 border border-slate-200",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-slate-600 font-medium",style:{fontFamily:"Inter, sans-serif"},children:"Name:"}),u.jsx("span",{className:"ml-2 font-semibold text-slate-900",style:{fontFamily:"Inter, sans-serif"},children:N.customerName})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-slate-600 font-medium",style:{fontFamily:"Inter, sans-serif"},children:"Phone:"}),u.jsx("span",{className:"ml-2 font-semibold text-slate-900",style:{fontFamily:"Inter, sans-serif"},children:N.customerPhone||"N/A"})]}),N.customerEmail&&u.jsxs("div",{children:[u.jsx("span",{className:"text-slate-600 font-medium",style:{fontFamily:"Inter, sans-serif"},children:"Email:"}),u.jsx("span",{className:"ml-2 font-semibold text-slate-900 break-all",style:{fontFamily:"Inter, sans-serif"},children:N.customerEmail})]})]})})]}),j===N.id&&u.jsxs("div",{className:"p-6",children:[u.jsxs("h5",{className:"font-semibold text-slate-800 mb-3 flex items-center gap-2",style:{fontFamily:"Inter, sans-serif"},children:[" Order Items (",((Re=N.cart)==null?void 0:Re.length)||0," items)"]}),N.cart&&N.cart.length>0&&u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:N.cart.map((Oe,Ge)=>u.jsxs("div",{className:"bg-slate-50 rounded-lg p-3 border border-slate-200",children:[u.jsx("div",{className:"font-semibold text-slate-900 mb-2",style:{fontFamily:"Inter, sans-serif"},children:Oe.name}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-slate-600",children:"Weight:"}),u.jsxs("span",{className:"ml-1 font-semibold",children:[Oe.weight,"g"]})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-slate-600",children:"Qty:"}),u.jsx("span",{className:"ml-1 font-semibold",children:Oe.quantity})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-slate-600",children:"Price:"}),u.jsxs("span",{className:"ml-1 font-semibold",children:["",Oe.price,"/kg"]})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-slate-600",children:"Total:"}),u.jsxs("span",{className:"ml-1 font-semibold text-green-600",children:["",Oe.price*Oe.quantity]})]})]})]},Ge))}),N.paymentId&&u.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[u.jsx("h6",{className:"font-semibold text-blue-800 mb-2 flex items-center gap-2",style:{fontFamily:"Inter, sans-serif"},children:" Payment Information"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-blue-600 font-medium",children:"Payment ID:"}),u.jsx("span",{className:"ml-2 font-mono text-blue-800 break-all",children:N.paymentId})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-blue-600 font-medium",children:"Method:"}),u.jsx("span",{className:"ml-2 font-semibold text-blue-800",children:N.paymentMethod||"Razorpay"})]})]})]})]})]},N.id)})})]})]}),M&&u.jsx(AC,{order:M,onClose:()=>B(null)}),J&&O&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full border border-slate-200 shadow-2xl",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:u.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),u.jsx("h3",{className:"text-xl font-bold text-slate-800",style:{fontFamily:"Montserrat, sans-serif"},children:"Delete Order"})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("p",{className:"text-slate-600 mb-3",style:{fontFamily:"Inter, sans-serif"},children:"Are you sure you want to delete this order? This action cannot be undone."}),u.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:[u.jsxs("p",{className:"text-sm text-red-800 font-medium",style:{fontFamily:"Inter, sans-serif"},children:["Order ID: ",O.orderId||((L=O.id)==null?void 0:L.slice(-8))||"N/A"]}),u.jsxs("p",{className:"text-sm text-red-800",style:{fontFamily:"Inter, sans-serif"},children:["Amount: ",((_=O.cart)==null?void 0:_.reduce((N,Q)=>N+Q.price*Q.quantity,0))||0]}),u.jsxs("p",{className:"text-sm text-red-800",style:{fontFamily:"Inter, sans-serif"},children:["Customer: ",((v=($=(fe=O.cart)==null?void 0:fe[0])==null?void 0:$.customerInfo)==null?void 0:v.name)||"N/A"]}),u.jsxs("p",{className:"text-sm text-red-800",style:{fontFamily:"Inter, sans-serif"},children:["Status: ",O.status]})]})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:()=>{se(!1),F(null)},className:"flex-1 bg-slate-500 text-white px-4 py-2 rounded-xl hover:bg-slate-600 transition font-semibold",style:{fontFamily:"Inter, sans-serif"},children:"Cancel"}),u.jsx("button",{onClick:ae,className:"flex-1 bg-red-600 text-white px-4 py-2 rounded-xl hover:bg-red-700 transition font-semibold",style:{fontFamily:"Inter, sans-serif"},children:"Delete"})]})]})})]})}function BC(){const{user:s,loading:e}=Nn(),t=kn(),[i,l]=H.useState([]),[c,h]=H.useState(!0),[m,g]=H.useState(null),[y,w]=H.useState({show:!1,message:"",type:"success"}),[A,R]=H.useState({orderId:"",customerName:"",customerPhone:"",deliveryAddress:"",driverName:"",driverPhone:"",status:"pending"}),q=i.filter(O=>O.status==="completed").length;H.useEffect(()=>{if(!e&&(!s||!s.isAdmin)){t("/login");return}!e&&s&&s.isAdmin&&U()},[s,e,t]);const U=async()=>{try{h(!0);const F=(await vn(ot(ke,"deliveries"))).docs.map(j=>({id:j.id,...j.data()}));l(F)}catch(O){console.error("Error fetching deliveries:",O),M("Error fetching deliveries","error")}finally{h(!1)}},M=(O,F="success")=>{w({show:!0,message:O,type:F}),setTimeout(()=>w({...y,show:!1}),3e3)},B=O=>{R({...A,[O.target.name]:O.target.value})},X=async O=>{O.preventDefault();try{m?(await Dn(Et(ke,"deliveries",m),A),M("Delivery updated successfully")):(await ps(ot(ke,"deliveries"),{...A,createdAt:new Date().toISOString()}),M("Delivery added successfully")),R({orderId:"",customerName:"",customerPhone:"",deliveryAddress:"",driverName:"",driverPhone:"",status:"pending"}),g(null),U()}catch(F){console.error("Error saving delivery:",F),M("Error saving delivery","error")}},Z=O=>{R(O),g(O.id)},J=async O=>{if(window.confirm("Are you sure you want to delete this delivery?"))try{await zl(Et(ke,"deliveries",O)),M("Delivery deleted successfully"),U()}catch(F){console.error("Error deleting delivery:",F),M("Error deleting delivery","error")}},se=async(O,F)=>{try{await Dn(Et(ke,"deliveries",O),{status:F}),M(`Delivery status updated to ${F}`),U()}catch(j){console.error("Error updating status:",j),M("Error updating status","error")}};return u.jsx("div",{className:"relative main-content min-h-screen bg-green-100",children:u.jsxs("div",{className:"relative z-10 responsive-p-4 sm:responsive-p-8 max-w-6xl mx-auto",children:[u.jsx(Fl,{message:y.message,show:y.show,onClose:()=>w({...y,show:!1}),type:y.type}),u.jsx("div",{className:"mb-8 pb-6 border-b border-white/20",children:u.jsx("div",{className:"bg-white/95 backdrop-blur-md rounded-2xl p-6 shadow-xl border border-white/20",children:u.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"responsive-text-3xl sm:responsive-text-4xl font-bold text-slate-800 mb-2 flex items-center gap-3",children:[u.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-slate-600 to-slate-700 rounded-xl flex items-center justify-center text-white text-xl shadow-lg",children:""}),"Delivery Management"]}),u.jsx("p",{className:"text-slate-600 responsive-text-base sm:responsive-text-lg font-medium",children:"Track and manage delivery operations and driver assignments"})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"bg-blue-100 text-blue-800 px-4 py-2 rounded-lg font-semibold text-sm",children:[" ",i.length," Deliveries"]}),u.jsxs("div",{className:"bg-green-100 text-green-800 px-4 py-2 rounded-lg font-semibold text-sm",children:[" ",q," Completed"]})]})]})})}),u.jsxs("div",{className:"bg-white/95 backdrop-blur-md rounded-2xl p-6 shadow-xl border border-white/20 mb-8 animate-fade-in",children:[u.jsx("h3",{className:"responsive-text-lg sm:responsive-text-xl font-bold mb-4 text-slate-800 flex items-center gap-2",style:{fontFamily:"Montserrat, sans-serif"},children:"Add/Edit Delivery"}),u.jsxs("form",{onSubmit:X,className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[u.jsx("input",{name:"orderId",value:A.orderId,onChange:B,placeholder:"Order ID",className:"responsive-btn border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-slate-400 focus:border-slate-400 transition-all duration-200 bg-white/90 text-slate-900 font-medium shadow-sm",style:{fontFamily:"Inter, sans-serif"},required:!0}),u.jsx("input",{name:"customerName",value:A.customerName,onChange:B,placeholder:"Customer Name",className:"responsive-btn border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-slate-400 focus:border-slate-400 transition-all duration-200 bg-white/90 text-slate-900 font-medium shadow-sm",style:{fontFamily:"Inter, sans-serif"},required:!0}),u.jsx("input",{name:"customerPhone",value:A.customerPhone,onChange:B,placeholder:"Customer Phone",className:"responsive-btn border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-slate-400 focus:border-slate-400 transition-all duration-200 bg-white/90 text-slate-900 font-medium shadow-sm",style:{fontFamily:"Inter, sans-serif"},required:!0}),u.jsx("input",{name:"deliveryAddress",value:A.deliveryAddress,onChange:B,placeholder:"Delivery Address",className:"responsive-btn border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-slate-400 focus:border-slate-400 transition-all duration-200 bg-white/90 text-slate-900 font-medium shadow-sm",style:{fontFamily:"Inter, sans-serif"},required:!0}),u.jsx("input",{name:"driverName",value:A.driverName,onChange:B,placeholder:"Driver Name",className:"responsive-btn border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-slate-400 focus:border-slate-400 transition-all duration-200 bg-white/90 text-slate-900 font-medium shadow-sm",style:{fontFamily:"Inter, sans-serif"},required:!0}),u.jsx("input",{name:"driverPhone",value:A.driverPhone,onChange:B,placeholder:"Driver Phone",className:"responsive-btn border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-slate-400 focus:border-slate-400 transition-all duration-200 bg-white/90 text-slate-900 font-medium shadow-sm",style:{fontFamily:"Inter, sans-serif"},required:!0})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{className:"bg-slate-600 text-white px-6 py-3 rounded-xl shadow-lg hover:bg-slate-700 transition font-semibold",type:"submit",style:{fontFamily:"Inter, sans-serif"},children:[m?"Update":"Add"," Delivery"]}),m&&u.jsx("button",{type:"button",className:"px-6 py-3 text-slate-600 hover:text-slate-800 border border-slate-300 rounded-xl hover:bg-slate-50 transition shadow-sm",onClick:()=>{R({orderId:"",customerName:"",customerPhone:"",deliveryAddress:"",driverName:"",driverPhone:"",status:"pending"}),g(null)},style:{fontFamily:"Inter, sans-serif"},children:"Cancel"})]})]})]}),u.jsxs("div",{className:"bg-white/95 backdrop-blur-md p-6 rounded-2xl shadow-xl animate-fade-in-up border border-white/20",children:[u.jsxs("h3",{className:"responsive-text-lg sm:responsive-text-xl font-bold mb-6 text-slate-800 flex items-center gap-2",style:{fontFamily:"Montserrat, sans-serif"},children:[u.jsx("div",{className:"w-8 h-8 bg-slate-600 rounded-lg flex items-center justify-center text-white text-sm",children:""}),"Delivery Tracking"]}),c?u.jsx("div",{className:"text-center py-8",children:u.jsx("div",{className:"text-slate-600 responsive-text-lg font-medium",style:{fontFamily:"Inter, sans-serif"},children:" Loading deliveries..."})}):i.length===0?u.jsxs("div",{className:"text-center py-8",children:[u.jsx("div",{className:"text-slate-600 responsive-text-lg font-medium",style:{fontFamily:"Inter, sans-serif"},children:" No deliveries found"}),u.jsx("p",{className:"text-slate-500 responsive-text-sm mt-2",style:{fontFamily:"Inter, sans-serif"},children:"Add your first delivery using the form above."})]}):u.jsx("div",{className:"space-y-4",children:i.map(O=>u.jsx("div",{className:"group relative bg-yellow-100 backdrop-blur-md border-2 border-white/20 rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105 overflow-hidden p-4",children:u.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsxs("h4",{className:"font-bold text-slate-900 responsive-text-lg",style:{fontFamily:"Montserrat, sans-serif"},children:["Order #",O.orderId]}),u.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${O.status==="completed"?"bg-green-100 text-green-800":O.status==="in-transit"?"bg-blue-100 text-blue-800":O.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,style:{fontFamily:"Inter, sans-serif"},children:O.status==="completed"?" Completed":O.status==="in-transit"?" In Transit":O.status==="pending"?" Pending":" Failed"})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-slate-600 font-medium",style:{fontFamily:"Inter, sans-serif"},children:"Customer:"}),u.jsx("p",{className:"font-semibold text-slate-900",style:{fontFamily:"Inter, sans-serif"},children:O.customerName}),u.jsx("p",{className:"text-slate-600 text-xs",style:{fontFamily:"Inter, sans-serif"},children:O.customerPhone})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-slate-600 font-medium",style:{fontFamily:"Inter, sans-serif"},children:"Driver:"}),u.jsx("p",{className:"font-semibold text-slate-900",style:{fontFamily:"Inter, sans-serif"},children:O.driverName}),u.jsx("p",{className:"text-slate-600 text-xs",style:{fontFamily:"Inter, sans-serif"},children:O.driverPhone})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-slate-600 font-medium",style:{fontFamily:"Inter, sans-serif"},children:"Address:"}),u.jsx("p",{className:"font-semibold text-slate-900 text-xs",style:{fontFamily:"Inter, sans-serif"},children:O.deliveryAddress})]})]}),O.estimatedDelivery&&u.jsxs("div",{className:"mt-3 p-3 bg-white/80 rounded-lg border border-slate-200",children:[u.jsx("p",{className:"text-slate-600 font-medium mb-1",style:{fontFamily:"Inter, sans-serif"},children:"Estimated Delivery:"}),u.jsx("p",{className:"font-semibold text-slate-900",style:{fontFamily:"Inter, sans-serif"},children:O.estimatedDelivery})]})]}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("button",{onClick:()=>Z(O),className:"bg-slate-600 text-white px-4 py-2 rounded-xl text-sm hover:bg-slate-700 transition shadow-sm font-semibold",style:{fontFamily:"Inter, sans-serif"},children:"Edit"}),u.jsx("button",{onClick:()=>J(O.id),className:"bg-red-600 text-white px-4 py-2 rounded-xl text-sm hover:bg-red-700 transition shadow-sm font-semibold",style:{fontFamily:"Inter, sans-serif"},children:"Delete"}),O.status==="pending"&&u.jsx("button",{onClick:()=>se(O.id,"in-transit"),className:"bg-blue-600 text-white px-4 py-2 rounded-xl text-sm hover:bg-blue-700 transition shadow-sm font-semibold",style:{fontFamily:"Inter, sans-serif"},children:"Start Delivery"}),O.status==="in-transit"&&u.jsx("button",{onClick:()=>se(O.id,"completed"),className:"bg-green-600 text-white px-4 py-2 rounded-xl text-sm hover:bg-green-700 transition shadow-sm font-semibold",style:{fontFamily:"Inter, sans-serif"},children:"Mark Completed"})]})]})},O.id))})]})]})})}function HC(){const{user:s,loading:e}=Nn(),t=kn(),[i,l]=H.useState(!0),[c,h]=H.useState({show:!1,message:"",type:"success"}),[m,g]=H.useState(0),[y,w]=H.useState(0),[A,R]=H.useState(0),[q,U]=H.useState(0),[M,B]=H.useState(0),[X,Z]=H.useState(0),[J,se]=H.useState(0),[O,F]=H.useState(0),[j,I]=H.useState(0),[T,b]=H.useState(0);H.useEffect(()=>{!e&&(!s||!s.isAdmin)&&t("/login")},[s,e,t]);const k=async()=>{try{l(!0);const V=ss(ot(ke,"orders"),Ul("createdAt","desc")),z=(await vn(V)).docs.map(he=>({id:he.id,...he.data()})),ae=ss(ot(ke,"products")),_=(await vn(ae)).docs.map(he=>({id:he.id,...he.data()})),fe=ss(ot(ke,"employees")),v=(await vn(fe)).docs.map(he=>({id:he.id,...he.data()})),N=z.reduce((he,xe)=>{var _e;return he+(((_e=xe.cart)==null?void 0:_e.reduce((Ne,Ce)=>Ne+Ce.price*Ce.quantity,0))||0)},0),Q=z.filter(he=>he.status==="pending").length,K=z.filter(he=>he.status==="paid").length,te=_.filter(he=>he.quantity<=5&&he.quantity>0).length,de=_.filter(he=>he.quantity<=0).length,Y=v.filter(he=>!he.leaves||he.leaves.filter(xe=>xe.status==="approved"&&new Date(xe.endDate)>new Date).length===0).length,oe=v.filter(he=>he.leaves&&he.leaves.filter(xe=>xe.status==="approved"&&new Date(xe.endDate)>new Date).length>0).length;g(N),w(z.length),R(_.length),U(v.length),B(Q),Z(K),se(te),F(de),I(Y),b(oe)}catch(V){console.error("Error fetching analytics:",V),h({show:!0,message:"Error loading analytics data",type:"error"})}finally{l(!1)}};return H.useEffect(()=>{k()},[]),u.jsx("div",{className:"relative main-content min-h-screen bg-green-100",children:u.jsxs("div",{className:"relative z-10 responsive-p-4 sm:responsive-p-8 max-w-6xl mx-auto",children:[u.jsx(Fl,{message:c.message,show:c.show,onClose:()=>h({...c,show:!1}),type:c.type}),u.jsx("div",{className:"mb-8 pb-6 border-b border-white/20",children:u.jsx("div",{className:"bg-white/95 backdrop-blur-md rounded-2xl p-6 shadow-xl border border-white/20",children:u.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"responsive-text-3xl sm:responsive-text-4xl font-bold text-slate-800 mb-2 flex items-center gap-3",children:[u.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-slate-600 to-slate-700 rounded-xl flex items-center justify-center text-white text-xl shadow-lg",children:""}),"Analytics Dashboard"]}),u.jsx("p",{className:"text-slate-600 responsive-text-base sm:responsive-text-lg font-medium",children:"Comprehensive insights and performance metrics for your business"})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"bg-green-100 text-green-800 px-4 py-2 rounded-lg font-semibold text-sm",children:" Live Data"}),u.jsx("div",{className:"bg-blue-100 text-blue-800 px-4 py-2 rounded-lg font-semibold text-sm",children:" Real-time"})]})]})})}),u.jsxs("div",{className:"responsive-grid-1 sm:responsive-grid-2 lg:responsive-grid-4 gap-6 mb-8",children:[u.jsx("div",{className:"bg-white/95 backdrop-blur-md p-6 rounded-2xl shadow-xl border border-white/20 animate-fade-in-up",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-slate-600 font-medium text-sm",style:{fontFamily:"Inter, sans-serif"},children:"Total Revenue"}),u.jsxs("p",{className:"text-2xl font-bold text-slate-900",style:{fontFamily:"Montserrat, sans-serif"},children:["",m.toFixed(2)]})]}),u.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:u.jsx("span",{className:"text-2xl",children:""})})]})}),u.jsx("div",{className:"bg-white/95 backdrop-blur-md p-6 rounded-2xl shadow-xl border border-white/20 animate-fade-in-up",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-slate-600 font-medium text-sm",style:{fontFamily:"Inter, sans-serif"},children:"Total Orders"}),u.jsx("p",{className:"text-2xl font-bold text-slate-900",style:{fontFamily:"Montserrat, sans-serif"},children:y})]}),u.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:u.jsx("span",{className:"text-2xl",children:""})})]})}),u.jsx("div",{className:"bg-white/95 backdrop-blur-md p-6 rounded-2xl shadow-xl border border-white/20 animate-fade-in-up",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-slate-600 font-medium text-sm",style:{fontFamily:"Inter, sans-serif"},children:"Total Products"}),u.jsx("p",{className:"text-2xl font-bold text-slate-900",style:{fontFamily:"Montserrat, sans-serif"},children:A})]}),u.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center",children:u.jsx("span",{className:"text-2xl",children:""})})]})}),u.jsx("div",{className:"bg-white/95 backdrop-blur-md p-6 rounded-2xl shadow-xl border border-white/20 animate-fade-in-up",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-slate-600 font-medium text-sm",style:{fontFamily:"Inter, sans-serif"},children:"Total Employees"}),u.jsx("p",{className:"text-2xl font-bold text-slate-900",style:{fontFamily:"Montserrat, sans-serif"},children:q})]}),u.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-xl flex items-center justify-center",children:u.jsx("span",{className:"text-2xl",children:""})})]})})]}),u.jsxs("div",{className:"responsive-grid-1 lg:responsive-grid-2 gap-8 mb-8",children:[u.jsxs("div",{className:"bg-white/95 backdrop-blur-md p-6 rounded-2xl shadow-xl border border-white/20 animate-fade-in-up",children:[u.jsxs("h3",{className:"responsive-text-lg sm:responsive-text-xl font-bold mb-4 text-slate-800 flex items-center gap-2",style:{fontFamily:"Montserrat, sans-serif"},children:[u.jsx("div",{className:"w-8 h-8 bg-slate-600 rounded-lg flex items-center justify-center text-white text-sm",children:""}),"Revenue Trends"]}),u.jsx("div",{className:"h-64 flex items-center justify-center bg-slate-50 rounded-xl border border-slate-200",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-4xl mb-2",children:""}),u.jsx("p",{className:"text-slate-600 font-medium",style:{fontFamily:"Inter, sans-serif"},children:"Revenue Chart"}),u.jsx("p",{className:"text-slate-500 text-sm",style:{fontFamily:"Inter, sans-serif"},children:"Chart visualization would be implemented here"})]})})]}),u.jsxs("div",{className:"bg-white/95 backdrop-blur-md p-6 rounded-2xl shadow-xl border border-white/20 animate-fade-in-up",children:[u.jsxs("h3",{className:"responsive-text-lg sm:responsive-text-xl font-bold mb-4 text-slate-800 flex items-center gap-2",style:{fontFamily:"Montserrat, sans-serif"},children:[u.jsx("div",{className:"w-8 h-8 bg-slate-600 rounded-lg flex items-center justify-center text-white text-sm",children:""}),"Order Statistics"]}),u.jsx("div",{className:"h-64 flex items-center justify-center bg-slate-50 rounded-xl border border-slate-200",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-4xl mb-2",children:""}),u.jsx("p",{className:"text-slate-600 font-medium",style:{fontFamily:"Inter, sans-serif"},children:"Orders Chart"}),u.jsx("p",{className:"text-slate-500 text-sm",style:{fontFamily:"Inter, sans-serif"},children:"Chart visualization would be implemented here"})]})})]})]}),u.jsxs("div",{className:"bg-white/95 backdrop-blur-md p-6 rounded-2xl shadow-xl animate-fade-in-up border border-white/20",children:[u.jsxs("h3",{className:"responsive-text-lg sm:responsive-text-xl font-bold mb-6 text-slate-800 flex items-center gap-2",style:{fontFamily:"Montserrat, sans-serif"},children:[u.jsx("div",{className:"w-8 h-8 bg-slate-600 rounded-lg flex items-center justify-center text-white text-sm",children:""}),"Recent Activity"]}),i?u.jsx("div",{className:"text-center py-8",children:u.jsx("div",{className:"text-slate-600 responsive-text-lg font-medium",style:{fontFamily:"Inter, sans-serif"},children:" Loading analytics..."})}):u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-200",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:u.jsx("span",{className:"text-lg",children:""})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-semibold text-slate-900",style:{fontFamily:"Inter, sans-serif"},children:"Revenue Summary"}),u.jsxs("p",{className:"text-slate-600 text-sm",style:{fontFamily:"Inter, sans-serif"},children:["Total revenue: ",m.toFixed(2)," | Average order value: ",(m/y||0).toFixed(2)]})]})]})}),u.jsx("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-200",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:u.jsx("span",{className:"text-lg",children:""})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-semibold text-slate-900",style:{fontFamily:"Inter, sans-serif"},children:"Order Summary"}),u.jsxs("p",{className:"text-slate-600 text-sm",style:{fontFamily:"Inter, sans-serif"},children:["Total orders: ",y," | Pending orders: ",M," | Completed orders: ",X]})]})]})}),u.jsx("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-200",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:u.jsx("span",{className:"text-lg",children:""})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-semibold text-slate-900",style:{fontFamily:"Inter, sans-serif"},children:"Product Summary"}),u.jsxs("p",{className:"text-slate-600 text-sm",style:{fontFamily:"Inter, sans-serif"},children:["Total products: ",A," | Low stock items: ",J," | Out of stock: ",O]})]})]})}),u.jsx("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-200",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:u.jsx("span",{className:"text-lg",children:""})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-semibold text-slate-900",style:{fontFamily:"Inter, sans-serif"},children:"Employee Summary"}),u.jsxs("p",{className:"text-slate-600 text-sm",style:{fontFamily:"Inter, sans-serif"},children:["Total employees: ",q," | Active employees: ",j," | On leave: ",T]})]})]})})]})]})]})})}function GC(){const{user:s,loading:e}=Nn(),t=kn(),[i,l]=H.useState(!1),[c,h]=H.useState({show:!1,message:"",type:"success"}),[m,g]=H.useState({storeName:"Taaza Fresh Meat",storeAddress:"",contactPhone:"",contactEmail:"",openingTime:"09:00",closingTime:"18:00",workingDays:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],currency:"INR",taxRate:5,minOrderAmount:100,emailNotifications:!0,smsNotifications:!0,lowStockAlerts:!0});H.useEffect(()=>{if(!e&&(!s||!s.isAdmin)){t("/login");return}!e&&s&&s.isAdmin&&y()},[s,e,t]);const y=async()=>{try{l(!0);const R=await _a(Et(ke,"settings","general"));R.exists()&&g({...m,...R.data()})}catch(R){console.error("Error fetching settings:",R),w("Error fetching settings","error")}finally{l(!1)}},w=(R,q="success")=>{h({show:!0,message:R,type:q}),setTimeout(()=>h({...c,show:!1}),3e3)},A=async()=>{try{l(!0),await Dn(Et(ke,"settings","general"),m),w("Settings saved successfully")}catch(R){console.error("Error saving settings:",R),w("Error saving settings","error")}finally{l(!1)}};return u.jsx("div",{className:"relative main-content min-h-screen bg-green-100",children:u.jsxs("div",{className:"relative z-10 responsive-p-4 sm:responsive-p-8 max-w-4xl mx-auto",children:[u.jsx(Fl,{message:c.message,show:c.show,onClose:()=>h({...c,show:!1}),type:c.type}),u.jsx("div",{className:"mb-8 pb-6 border-b border-white/20",children:u.jsx("div",{className:"bg-white/95 backdrop-blur-md rounded-2xl p-6 shadow-xl border border-white/20",children:u.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"responsive-text-3xl sm:responsive-text-4xl font-bold text-slate-800 mb-2 flex items-center gap-3",children:[u.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-slate-600 to-slate-700 rounded-xl flex items-center justify-center text-white text-xl shadow-lg",children:""}),"System Settings"]}),u.jsx("p",{className:"text-slate-600 responsive-text-base sm:responsive-text-lg font-medium",children:"Configure application settings and manage system preferences"})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"bg-green-100 text-green-800 px-4 py-2 rounded-lg font-semibold text-sm",children:" Active"}),u.jsx("div",{className:"bg-blue-100 text-blue-800 px-4 py-2 rounded-lg font-semibold text-sm",children:" Configured"})]})]})})}),u.jsxs("div",{className:"responsive-grid-1 lg:responsive-grid-2 gap-8",children:[u.jsxs("div",{className:"bg-white/95 backdrop-blur-md p-6 rounded-2xl shadow-xl animate-fade-in-up border border-white/20",children:[u.jsxs("h3",{className:"responsive-text-lg sm:responsive-text-xl font-bold mb-4 text-slate-800 flex items-center gap-2",style:{fontFamily:"Montserrat, sans-serif"},children:[u.jsx("div",{className:"w-8 h-8 bg-slate-600 rounded-lg flex items-center justify-center text-white text-sm",children:""}),"General Settings"]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",style:{fontFamily:"Inter, sans-serif"},children:"Store Name"}),u.jsx("input",{type:"text",value:m.storeName,onChange:R=>g({...m,storeName:R.target.value}),className:"responsive-btn border-2 border-slate-200 rounded-xl w-full focus:ring-2 focus:ring-slate-400 focus:border-slate-400 transition-all duration-200 bg-white/90 text-slate-900 font-medium shadow-sm",style:{fontFamily:"Inter, sans-serif"}})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",style:{fontFamily:"Inter, sans-serif"},children:"Store Address"}),u.jsx("textarea",{value:m.storeAddress,onChange:R=>g({...m,storeAddress:R.target.value}),rows:"3",className:"responsive-btn border-2 border-slate-200 rounded-xl w-full focus:ring-2 focus:ring-slate-400 focus:border-slate-400 transition-all duration-200 bg-white/90 text-slate-900 font-medium shadow-sm",style:{fontFamily:"Inter, sans-serif"}})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",style:{fontFamily:"Inter, sans-serif"},children:"Contact Phone"}),u.jsx("input",{type:"tel",value:m.contactPhone,onChange:R=>g({...m,contactPhone:R.target.value}),className:"responsive-btn border-2 border-slate-200 rounded-xl w-full focus:ring-2 focus:ring-slate-400 focus:border-slate-400 transition-all duration-200 bg-white/90 text-slate-900 font-medium shadow-sm",style:{fontFamily:"Inter, sans-serif"}})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",style:{fontFamily:"Inter, sans-serif"},children:"Contact Email"}),u.jsx("input",{type:"email",value:m.contactEmail,onChange:R=>g({...m,contactEmail:R.target.value}),className:"responsive-btn border-2 border-slate-200 rounded-xl w-full focus:ring-2 focus:ring-slate-400 focus:border-slate-400 transition-all duration-200 bg-white/90 text-slate-900 font-medium shadow-sm",style:{fontFamily:"Inter, sans-serif"}})]})]})]}),u.jsxs("div",{className:"bg-white/95 backdrop-blur-md p-6 rounded-2xl shadow-xl animate-fade-in-up border border-white/20",children:[u.jsxs("h3",{className:"responsive-text-lg sm:responsive-text-xl font-bold mb-4 text-slate-800 flex items-center gap-2",style:{fontFamily:"Montserrat, sans-serif"},children:[u.jsx("div",{className:"w-8 h-8 bg-slate-600 rounded-lg flex items-center justify-center text-white text-sm",children:""}),"Business Hours"]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",style:{fontFamily:"Inter, sans-serif"},children:"Opening Time"}),u.jsx("input",{type:"time",value:m.openingTime,onChange:R=>g({...m,openingTime:R.target.value}),className:"responsive-btn border-2 border-slate-200 rounded-xl w-full focus:ring-2 focus:ring-slate-400 focus:border-slate-400 transition-all duration-200 bg-white/90 text-slate-900 font-medium shadow-sm",style:{fontFamily:"Inter, sans-serif"}})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",style:{fontFamily:"Inter, sans-serif"},children:"Closing Time"}),u.jsx("input",{type:"time",value:m.closingTime,onChange:R=>g({...m,closingTime:R.target.value}),className:"responsive-btn border-2 border-slate-200 rounded-xl w-full focus:ring-2 focus:ring-slate-400 focus:border-slate-400 transition-all duration-200 bg-white/90 text-slate-900 font-medium shadow-sm",style:{fontFamily:"Inter, sans-serif"}})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",style:{fontFamily:"Inter, sans-serif"},children:"Working Days"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(R=>u.jsxs("label",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"checkbox",checked:m.workingDays.includes(R),onChange:q=>{q.target.checked?g({...m,workingDays:[...m.workingDays,R]}):g({...m,workingDays:m.workingDays.filter(U=>U!==R)})},className:"rounded border-slate-300 text-slate-600 focus:ring-slate-400"}),u.jsx("span",{className:"text-sm text-slate-700",style:{fontFamily:"Inter, sans-serif"},children:R})]},R))})]})]})]}),u.jsxs("div",{className:"bg-white/95 backdrop-blur-md p-6 rounded-2xl shadow-xl animate-fade-in-up border border-white/20",children:[u.jsxs("h3",{className:"responsive-text-lg sm:responsive-text-xl font-bold mb-4 text-slate-800 flex items-center gap-2",style:{fontFamily:"Montserrat, sans-serif"},children:[u.jsx("div",{className:"w-8 h-8 bg-slate-600 rounded-lg flex items-center justify-center text-white text-sm",children:""}),"Payment Settings"]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",style:{fontFamily:"Inter, sans-serif"},children:"Currency"}),u.jsxs("select",{value:m.currency,onChange:R=>g({...m,currency:R.target.value}),className:"responsive-btn border-2 border-slate-200 rounded-xl w-full focus:ring-2 focus:ring-slate-400 focus:border-slate-400 transition-all duration-200 bg-white/90 text-slate-900 font-medium shadow-sm",style:{fontFamily:"Inter, sans-serif"},children:[u.jsx("option",{value:"INR",children:"Indian Rupee ()"}),u.jsx("option",{value:"USD",children:"US Dollar ($)"}),u.jsx("option",{value:"EUR",children:"Euro ()"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",style:{fontFamily:"Inter, sans-serif"},children:"Tax Rate (%)"}),u.jsx("input",{type:"number",value:m.taxRate,onChange:R=>g({...m,taxRate:parseFloat(R.target.value)}),min:"0",max:"100",step:"0.1",className:"responsive-btn border-2 border-slate-200 rounded-xl w-full focus:ring-2 focus:ring-slate-400 focus:border-slate-400 transition-all duration-200 bg-white/90 text-slate-900 font-medium shadow-sm",style:{fontFamily:"Inter, sans-serif"}})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",style:{fontFamily:"Inter, sans-serif"},children:"Minimum Order Amount"}),u.jsx("input",{type:"number",value:m.minOrderAmount,onChange:R=>g({...m,minOrderAmount:parseFloat(R.target.value)}),min:"0",step:"0.01",className:"responsive-btn border-2 border-slate-200 rounded-xl w-full focus:ring-2 focus:ring-slate-400 focus:border-slate-400 transition-all duration-200 bg-white/90 text-slate-900 font-medium shadow-sm",style:{fontFamily:"Inter, sans-serif"}})]})]})]}),u.jsxs("div",{className:"bg-white/95 backdrop-blur-md p-6 rounded-2xl shadow-xl animate-fade-in-up border border-white/20",children:[u.jsxs("h3",{className:"responsive-text-lg sm:responsive-text-xl font-bold mb-4 text-slate-800 flex items-center gap-2",style:{fontFamily:"Montserrat, sans-serif"},children:[u.jsx("div",{className:"w-8 h-8 bg-slate-600 rounded-lg flex items-center justify-center text-white text-sm",children:""}),"Notification Settings"]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-slate-900",style:{fontFamily:"Inter, sans-serif"},children:"Email Notifications"}),u.jsx("p",{className:"text-sm text-slate-600",style:{fontFamily:"Inter, sans-serif"},children:"Receive order notifications via email"})]}),u.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:m.emailNotifications,onChange:R=>g({...m,emailNotifications:R.target.checked}),className:"sr-only peer"}),u.jsx("div",{className:"w-11 h-6 bg-slate-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-slate-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-slate-600"})]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-slate-900",style:{fontFamily:"Inter, sans-serif"},children:"SMS Notifications"}),u.jsx("p",{className:"text-sm text-slate-600",style:{fontFamily:"Inter, sans-serif"},children:"Receive order notifications via SMS"})]}),u.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:m.smsNotifications,onChange:R=>g({...m,smsNotifications:R.target.checked}),className:"sr-only peer"}),u.jsx("div",{className:"w-11 h-6 bg-slate-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-slate-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-slate-600"})]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-slate-900",style:{fontFamily:"Inter, sans-serif"},children:"Low Stock Alerts"}),u.jsx("p",{className:"text-sm text-slate-600",style:{fontFamily:"Inter, sans-serif"},children:"Get notified when products are low in stock"})]}),u.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:m.lowStockAlerts,onChange:R=>g({...m,lowStockAlerts:R.target.checked}),className:"sr-only peer"}),u.jsx("div",{className:"w-11 h-6 bg-slate-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-slate-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-slate-600"})]})]})]})]})]}),u.jsx("div",{className:"mt-8 text-center",children:u.jsx("button",{onClick:A,disabled:i,className:"responsive-btn bg-gradient-to-r from-slate-600 to-slate-700 text-white font-semibold rounded-xl px-8 py-3 transition-all duration-300 hover:from-slate-700 hover:to-slate-800 transform hover:scale-105 shadow-lg touch-target disabled:opacity-50 disabled:cursor-not-allowed",style:{fontFamily:"Inter, sans-serif"},children:i?"Saving...":"Save Settings"})})]})})}function $C(){return u.jsxs(uS,{children:[u.jsx(Tn,{path:"/",element:u.jsx(gC,{})}),u.jsx(Tn,{path:"/cart",element:u.jsx(TC,{})}),u.jsx(Tn,{path:"/orders",element:u.jsx(SC,{})}),u.jsx(Tn,{path:"/login",element:u.jsx(VC,{})}),u.jsx(Tn,{path:"/order-confirmation",element:u.jsx(PC,{})}),u.jsxs(Tn,{path:"/admin",element:u.jsx(zC,{}),children:[u.jsx(Tn,{path:"dashboard",element:u.jsx(NC,{})}),u.jsx(Tn,{path:"transaction",element:u.jsx(RC,{})}),u.jsx(Tn,{path:"products",element:u.jsx(IC,{})}),u.jsx(Tn,{path:"employees",element:u.jsx(OC,{})}),u.jsx(Tn,{path:"orders",element:u.jsx(qC,{})}),u.jsx(Tn,{path:"delivery",element:u.jsx(BC,{})}),u.jsx(Tn,{path:"analytics",element:u.jsx(HC,{})}),u.jsx(Tn,{path:"settings",element:u.jsx(GC,{})})]})]})}function QC(){H.useEffect(()=>{window.scrollTo(0,0)},[]);function s({children:e}){const t=vs(),{loading:i}=Nn(),l=["/login"].some(h=>t.pathname.startsWith(h)),c=t.pathname.startsWith("/admin");return i?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-green-100",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-green-600 mx-auto mb-4"}),u.jsx("p",{className:"text-lg font-semibold text-green-800",children:"Loading..."}),u.jsx("p",{className:"text-sm text-green-600 mt-2",children:"Initializing your session"})]})}):c?u.jsx("div",{className:"admin-layout min-h-screen flex flex-col",children:u.jsx("div",{className:"flex-1",children:e})}):u.jsxs("div",{className:"user-layout min-h-screen flex flex-col",children:[!l&&u.jsx("div",{className:"header-container flex-shrink-0 sm:mb-[10px] md:mb-[5%] lg:mb-[5%] xl:mb-[3%]",children:u.jsx(II,{})}),u.jsx("main",{className:"main-content flex-1 flex flex-col min-h-0 pt-16 lg:pt-20",children:u.jsx("div",{className:"content-wrapper flex-1",children:e})}),!l&&u.jsx("div",{className:"footer-container flex-shrink-0",children:u.jsx(CI,{})})]})}return u.jsx(MS,{children:u.jsx(s,{children:u.jsx($C,{})})})}function YC(){return u.jsx(QC,{})}gT.createRoot(document.getElementById("root")).render(u.jsx(H.StrictMode,{children:u.jsx(aI,{children:u.jsx(YC,{})})}));
